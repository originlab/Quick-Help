<h1 class="firstHeading">4.27 FAQ-386 如何避免变量被替换？</h1><p class='urlname' style='display: none'>Avoid-Substituted</p>
<p class='faqID'>Last Update: 4/19/2023</p>
<p>具有替换符号（<a class="external text" href="../../LabTalk/Category/Substitution_Notation.html">substitution notations</a>）的变量（例如 $，％）在LabTalk脚本或图例中将被解析为其实际值。
</p>
<h5><a name=".E5.9C.A8LabTalk.E8.84.9A.E6.9C.AC.E4.B8.AD.E9.81.BF.E5.85.8D.E5.8F.98.E9.87.8F.E8.A2.AB.E6.9B.BF.E6.8D.A2"></a><span class="mw-headline">在LabTalk脚本中避免变量被替换</span></h5>
<p>在执行脚本时，如果您需要多次运行该脚本，变量替换可能会导致一些错误的产生。为了避免这种情况，您可以将此特殊替换符号赋予给 <b><a class="external text" href="../../LabTalk/LabTalk/String_registers.html">String register</a></b>，而不是直接使用它。
</p><p><b>例如:</b>
</p><p>以下脚本将为 B 列于 <b>Set Value</b> 对话框中设置列公式为 <b>Col(A)[i] -&#160;%(Col(B)[U]$)</b> 并且禁止 LabTalk 替换算法将 <b>%(Col(B)[U]$)</b> 直接替换为 B 列的单位的实际数据。
</p>
<pre class="lt" style="font-family:monospace;"><span style="color: #000080;">%</span>A<span style="color: #000080;">=</span><span style="color: #ff00ff;">&quot;%&quot;</span>;
csetvalue f<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #ff00ff;">&quot;Col(A)[i] -&#160;%A(Col(B)[U]$)&quot;</span> c<span style="color: #000000;">:</span><span style="color: #000080;">=</span>Col<span style="color: #000000;">&#40;</span>B<span style="color: #000000;">&#41;</span>;</pre>
<h5><a name=".E5.9C.A8.E5.9B.BE.E4.BE.8B.2F.E6.96.87.E6.9C.AC.E5.AF.B9.E8.B1.A1.E4.B8.AD.E9.81.BF.E5.85.8D.E5.8F.98.E9.87.8F.E8.A2.AB.E6.9B.BF.E6.8D.A2"></a><span class="mw-headline">在图例/文本对象中避免变量被替换</span></h5>
<p>图例中的替换符号会显示为其实际值。例如：字符<b>\</b>或<b>%</b>在图例中可能显示为非预期的字条串。为了避免这种情况，您可以使用转义字符（<a class="external text" href="../../UserGuide/UserGuide/Escape_Sequences.html">escape sequences</a>）\v()。
</p><p><b>例如:</b>
</p>
<table class="simple">
<tr>
<th>示例
</th>
<th>输入
</th>
<th>图例显示结果
</th></tr>
<tr>
<td>5%Cu
</td>
<td>5\v(%)Cu
</td>
<td><a  class="image"><img alt="Legend substitution.png" src="../images/How_to_avoid_substitution_in_LabTalk/60px-Legend_substitution.png?v=8884" width="60"   /></a>
</td></tr></table>
<hr class='keywordshr'><p><span class='keywords'>Keywords:</span><span class='keywordsInput'>substitution, avoid substitution, turn off substitution, 替换，避免替换，关闭替换</span></p>






