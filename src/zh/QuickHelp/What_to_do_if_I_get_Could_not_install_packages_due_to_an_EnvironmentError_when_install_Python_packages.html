<h1 class="firstHeading">4.68 FAQ-1081 当安装Python包时遇到“Could not install packages due to an EnvironmentError...”错误该如何解决？</h1><p class='urlname' style='display: none'>Install-Python-Package-Error</p>
<p class='faqID'>Last Update: 4/16/2021</p>
<p>当安装 Python 包时（不管是从 <b>Python包</b> 菜单还是在 <b>脚本窗口</b>），您可能会碰上像下面一样的错误：
</p><p>'<i><span class='headerInParagraph'>ERROR: Could not install packages due to an EnvironmentError:<br> pip/_vendor/pep517/_in_process.py</span></i> 
</p><p>这个问题可能是由于所安装的包只提供了 <i>.tar.gz</i> 格式的文件。如果是这样，您可以尝试用方案 1来解决。
</p>
<h2><a name=".E6.96.B9.E6.A1.88_1"></a><span class="mw-headline">方案 1</span></h2>
<ol>
<li> 自行下载您想安装的包的 <i>.*.tar.gz</i> 文件。
<li> 在 Origin 的外部使用 pip 命令运行下面的命令（这需要安装好 Python），用于生成 <i>*.whl</i> 文件。
<pre class="lt" style="font-family:monospace;">pip wheel <span style="color: #ff00ff;">&quot;FullFilePath.tar.gz&quot;</span> <span style="color: #000080;">-</span>w <span style="color: #ff00ff;">&quot;FullTargetFileFolder&quot;</span></pre>
<p><br />
例如，您下载了包 <i>laserbeamsize-1.7.1.tar.gz</i>，并放于这个文件夹：<i>C:\Users\myusername\Downloads\</i>，那么您可以运行下面的命令在 <i>C:\tmp</i> 文件夹里生成 <i>.whl</i> 文件。
</p>
<pre class="lt" style="font-family:monospace;">pip wheel <span style="color: #ff00ff;">&quot;C:\Users\myusername\Downloads\laserbeamsize-1.7.1.tar.gz&quot;</span> <span style="color: #000080;">-</span>w <span style="color: #ff00ff;">&quot;C:\tmp&quot;</span></pre>
<li> 启动 Origin，在 <b>命令窗口</b> 运行以下命令来安装这个包：
<pre class="lt" style="font-family:monospace;">pip install <span style="color: #ff00ff;">&quot;FullFilePath.whl&quot;</span></pre>
</ol>
<p><br />
<b><i>对于那些只有 </i>.tar.gz<i> 文件的包，而且是由C（或C++）来写的，上面的方案可能会解决不了，这时就可以试一下下面的方案 2。</i></b>
</p>
<h2><a name=".E6.96.B9.E6.A1.88_2"></a><span class="mw-headline">方案 2</span></h2>
<p>您需要安装 Windows 的编译器，如 Visual Studio，来编译文件，又或者您可以从一些公共网站上下载编译好的。
</p><p>我们拿 <i>xclim</i> 和 <i>Bottleneck</i> 来举例子。
</p><p><i>xclim</i> 依赖于 <i>Bottleneck</i>，而 <i>Bottleneck</i> 只提供了 <i>*.tar.gz</i> 的文件。
</p>
<ol>
<li> 从下面页面下载 <i>Bottleneck-1.3.2-cp38-cp38-win_amd64.whl</i>。<br />
www.lfd.uci.edu/~gohlke/pythonlibs/#bottleneck
<li> 把下载的文件放到 <i>C:\tmp\</i>。
<li> 启动 Origin，然后运行 LabTalk 脚本：
<pre class="lt" style="font-family:monospace;">pip install <span style="color: #ff00ff;">&quot;C:\tmp\Bottleneck-1.3.2-cp38-cp38-win_amd64.whl&quot;</span> xclim</pre>
</ol>
<p><br />
<i><b>注意</b></i>：如果您在公共网站上找不到包，您可以联系我们寻求帮助，或者安装 Visual Studio，然后尝试方案 1的步骤，方案 1可以成功构建 <i>*.whl</i> 文件。
</p>
<hr class='keywordshr'><p><span class='keywords'>Keywords:</span><span class='keywordsInput'>python, pypi, pip, tar.gz, whl, install fail, package, pep517, EnvironmentError，安装失败，环境错误，包</span></p>






