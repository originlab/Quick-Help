<h1 class="firstheading">FAQ-157 グラフ内に日時スタンプを追加するにはどのようにしたら良いでしょうか？</h1>
<p><br />
</p>
<p class="faqID">最終更新日：2022/10/7</p>
<p><br />
</p>
<p class="urlname" style="display: none;">Add-DateTime-Stamp-to-Graph</p>
<ol>
	<li>日付と時刻をグラフウィンドウの上部に追加するには、<b>日時スタンプ</b>ボタン<a class="image"><img 
	 alt="Button Date Time.png" src="../images/How_do_I_add_date_time_stamp_to_my_graph/Button_Date_Time.png" 
	 width="23" border="0" /></a>をクリックします（デフォルトでは、Originワークスペースの左下にドッキングされています）。このボタンが表示されない場合、<b>(表示:ツールバー)</b>を選択して 
	 の<b>グラフにオブジェクトを追加</b>ツールバーを有効にします。</li>
	<li>日時スタンプを削除するには、それをクリックして選択し、<b><b>DELETE</b></b>キーを押します。 </li>
</ol>
<dl>
	<dd><dl>
		<dd><a class="image"><img alt="Adding a Date Time Stamp to Your Graph.png" 
									 src="../images/How_do_I_add_date_time_stamp_to_my_graph/Adding_a_Date_Time_Stamp_to_Your_Graph.png" 
									 width="359" border="0" /></a></dd>
	</dl></dd>
</dl>
<p><b>日時スタンプ</b>は静的テキストオブジェクトです。ツールバーボタンをクリックしたときの日時を登録します。これはグラフに保存され、ウィンドウをアクティブにして<b>日時スタンプ</b>のボタンを再度クリックしたときだけ修正されます。特定のウィンドウに追加できる日時スタンプオブジェクトは1つだけであることに注意してください。 
 </p>
<p><br />
<i><b>スタンプの日時フォーマットを変更する</b></i> </p>
<dl>
	<dd><dl>
		<dd><a class="image"><img alt="FAQ-157 MT date-time-format.png" 
									 src="../images/How_do_I_add_date_time_stamp_to_my_graph/FAQ-157_MT_date-time-format.png" 
									 width="381" height="394" border="0" /></a></dd>
	</dl></dd>
</dl>
<ol>
	<li>スタンプをクリックして選択します。</li>
	<li>ミニツールバーの<b>日時フォーマット</b>ボタンを使ってフォーマットを選択するか、<b>より詳しく</b>をクリックして、<a 
	 class="external text" href="../../LabTalk/LabTalk/Date_and_Time_Format_Specifiers.html">日時フォーマット指定子</a>を使って日時文字列を入力します。</li>
	<li>オプションで、<b>デフォルトに設定</b>を選択できます。 </li>
</ol>
<p>以前のバージョンのOriginで<b>日時スタンプ</b> フォーマットを変更した場合は、ユーザファイル（UFF）のStandard.ogsというファイルに保存されていました。（a）そのファイルの編集を続行するか（次のセクションを参照）、（b）そのStandard.ogsファイルに他のカスタムスクリプトが必要ないことが確実な場合は、ファイルを削除して新しい日時スタンプのカスタマイズを行うことができます。 
 </p>
<table class="noborder">
	<tr>
		<td style="vertical-align: top;" width="60"><img src="../images/How_do_I_add_date_time_stamp_to_my_graph/Tip_icon.png" 
														 alt="" width="57" 
														 height="57" border="0" /></td>
		<td><p>カスタムグラフテンプレートで動作するような「動的な」スタンプを保存する場合は、この日時スタンプ追加のメソッドは不適です。そのような場合は、<a 
		 class="external text" href="../../UserGuide/UserGuide/Linking_Text_Labels_to_Data_and_Variables.html#Adding_date-time_to_text_labels">このOriginヘルプファイル</a>で紹介している方法を使用してください。 
		 </p></td>
	</tr>
</table>
<h3><a name="Modifying_the_stamp_in_Origin_2021_and_earlier"></a><span 
	 class="mw-headline">Origin 2021以前で日時スタンプを修正</span></h3>
<p>デフォルトでは、日時スタンプは次の形式で日時を追加します。 </p>
<pre class="lt" style="font-family: monospace;">
M<span style="color: #000080;">/</span>d<span style="color: #000080;">/</span>yyyy HH<span style="color: #000000;">:</span>mm<span style="color: #000000;">:</span>ss <span style="color: #008000;">// 例） 3/4/2021 15:19:58</span>
</pre>
<p><b>日時スタンプ</b>ボタン<a class="image"><img alt="Button Date Time.png" src="../images/How_do_I_add_date_time_stamp_to_my_graph/Button_Date_Time.png" 
										 width="23" border="0" /></a>をクリックすると、OriginフォルダにあるSTANDARD.OGSファイルの<b>[DateTime]</b>セクションにある1行のスクリプトが実行されます。 
 そのスクリプト行は、次のいずれかのようになります。 </p>
<pre class="lt" style="font-family: monospace;">
label <span style="color: #000080;">-</span>s <span style="color: #000080;">-</span>sa <span style="color: #000080;">-</span>dc <span style="color: #000000;">(</span>dXFactor<span style="color: #000080;">*</span>page.<span style="color: #000080;">width</span><span style="color: #000000;">)</span> <span style="color: #000000;">(</span>dYFactor<span style="color: #000080;">*</span>page.<span style="color: #000080;">height</span><span style="color: #000000;">)</span> <span style="color: #000080;">-</span>n timestamp <span style="color: #000080;">$</span><span style="color: #000000;">(</span>@D,D10<span style="color: #000000;">)</span>; <span style="color: #008000;">// 2019b以前</span>
label <span style="color: #000080;">-</span>mg <span style="color: #000080;">-</span>s <span style="color: #000080;">-</span>sa <span style="color: #000080;">-</span>dc <span style="color: #000000;">(</span>dXFactor<span style="color: #000080;">*</span>page.<span style="color: #000080;">width</span><span style="color: #000000;">)</span> <span style="color: #000000;">(</span>dYFactor<span style="color: #000080;">*</span>page.<span style="color: #000080;">height</span><span style="color: #000000;">)</span> <span style="color: #000080;">-</span>n timestamp <span style="color: #000080;">$</span><span style="color: #000000;">(</span>@D,D10<span style="color: #000000;">)</span>; <span style="color: #008000;">// 2020から変更</span>
</pre>
<p><a class="external text" href="../../LabTalk/LabTalk/Origin_Formats.html#Converting_Current_Date-Time_to_String">このスクリプトの<b>$(@D,D10)</b>の部分</a>は、日付/時間のフォーマットを指定します。これは、Origin日付表示リストの11番目のフォーマットに対応します（カウントはゼロから始まるため、<b>(D10)</b>=リストの11番目）。リストを表示するには、ワークシート列の<b>プロパティ</b>ダイアログを開き、<b>フォーマット</b>を<b>日付</b>に設定して、<b>表示</b>ドロップダウンをクリックします。リストの値はゼロ（0）から始まるので、注意してください。 
 </p>
<dl>
	<dd><dl>
		<dd><a class="image"><img alt="ColProperties Display Time.png" 
									 src="../images/How_do_I_add_date_time_stamp_to_my_graph/ColProperties_Display_Date.png" 
									 width="426" height="341" border="0" /></a></dd>
	</dl></dd>
</dl>
<p><br />
<i><b>必要な日付フォーマットのインデックス番号がわかっている場合：</b></i> </p>
<ol>
	<li>STANDARD.OGSファイルをテキストエディタで開きます。</li>
	<li><b>[DateTime]</b>セクションを見つけます。</li>
	<li>上記のスクリプト行を見つけます。</li>
	<li><b>D10</b>を<b>D<i>n</i></b>に変更します。ここで、<i><b>n</b></i>は0から始まるので、<b>表示</b>ドロップダウンリストにおける<i>n</i>+1番目の項目を示します。</li>
	<li>変更したOGSファイルを<b>\User Files</b><a class="external text" href="../../UserGuide/UserGuide/The_User_Files_Folder.html"><b>(UFF)</b></a>に保存します。 
	 </li>
	<li><b>日時スタンプ</b>ボタンをクリックして編集したフォーマットで表示します。</li>
</ol>
<p><b>標準</b>リストにないフォーマットが必要な場合は、<b>オプション</b>ダイアログの<b>その他のオプション</b>タブ（<b>ツール: 
 オプション</b>または<b>環境設定: オプション</b>）で2つの<b>カスタム日付フォーマット</b>を定義すると、表示リストの下部に表示されます。 
 </p>
<hr class="keywordshr" style="float: aligncenter; " />
<p><span class="keywords">キーワード:</span><span class="keywordsInput">日付, 
 時間, スタンプ, タイムスタンプ, グラフ編集, 日時追加, タイムスタンプ, スタンプ追加, Standard.ogs</span></p>
