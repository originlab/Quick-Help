<h1 class="firstheading">FAQ-1081 Pythonパッケージのインストール時に「Could not install packages due to an EnvironmentError...」というメッセージが表示された場合はどうすればよいですか？</h1><p class='urlname' style='display: none'>Install-Python-Package-Error</p>
<p class='faqID'>最終更新日:2021/3/25</p>
<p>Pythonパッケージをインストールすると（<b>Pythonパッケージ</b>メニューまたは<b>スクリプトウィンドウ</b>に関係なく）、次のようなエラーが発生する場合があります。
</p><p>&apos;<i><span class='headerInParagraph'>ERROR: Could not install packages due to an EnvironmentError:<br> pip/_vendor/pep517/_in_process.py</span></i> 
</p><p>この問題は、<i>.tar.gz</i>のみが提供されているパッケージで発生する可能性があります。その場合は、解決法1を試して回避できます。
</p>
<h2><a name="Solution_1"></a><span class="mw-headline">解決法1</span></h2>
<ol>
<li> インストールする<i>*.tar.gz</i>パッケージを手動でダウンロードします。 
<li> Originの外部のスタンドアロンpipコマンドで次のコマンドを実行します（Pythonがインストールされている必要があります）。
<pre class="lt" style="font-family:monospace;">pip wheel <span style="color: #ff00ff;">&quot;FullFilePath.tar.gz&quot;</span> <span style="color: #000080;">-</span>w <span style="color: #ff00ff;">&quot;FullTargetFileFolder&quot;</span></pre>
<p><i>*.whl</i>ファイルを生成します。<br />
たとえば、パッケージ<i>laserbeamsize-1.7.1.tar.gz</i> を<i>C:\Users\myusername\Downloads\</i>フォルダにダウンロードした場合、次のコマンドを実行して<i>.whl</i>ファイルを<i>C:\tmp</i>フォルダに生成できます。
</p>
<pre class="lt" style="font-family:monospace;">pip wheel <span style="color: #ff00ff;">&quot;C:\Users\myusername\Downloads\laserbeamsize-1.7.1.tar.gz&quot;</span> <span style="color: #000080;">-</span>w <span style="color: #ff00ff;">&quot;C:\tmp」</span></pre>
<li> Originを起動します。<b>コマンドウィンドウ</b>で次のコマンドを実行して、パッケージをインストールします。
<pre class="lt" style="font-family:monospace;">pip install <span style="color: #ff00ff;">&quot;FullFilePath.whl」</span></pre>
</ol>
<p><br />
<b><i>.tar.gzのみを持つパッケージがC（またはC ++）で記述されている場合、上記のソリューションが機能しない場合があります。</i><i>その場合、下記の解決法2をお試しください。</b>
</p>
<h2><a name="Solution_2"></a><span class="mw-headline">解決法2</span></h2>
<p>ファイルをビルドするために、Visual StudioなどのWindowsコンパイラをインストールするか、一部の公開Webサイトからダウンロードする必要があります。
</p><p>試しに<i>xclim</i>および<i>Bottleneck</i>パッケージを使用します。
</p><p><i>xclim</i>は<i>Bottleneck</i>に依存しますが、<i>Bottleneck</i>は<i>*.tar.gz</i>ファイルのみを提供します。
</p>
<ol>
<li> <i>Bottleneck-1.3.2-cp38-cp38-win_amd64.whl</i>ファイルを以下からダウンロードします。<br />
www.lfd.uci.edu/~gohlke/pythonlibs/#bottleneck
<li> ファイルをフォルダ<i>C:\tmp\</i>に置いてみます。
<li> Originを起動します。LTスクリプトを実行します。
<pre class="lt" style="font-family:monospace;">pip install <span style="color: #ff00ff;">&quot;C:\tmp\Bottleneck-1.3.2-cp38-cp38-win_amd64.whl&quot;</span> xclim</pre>
</ol>
<p><br />
<i><b>Note</b></i>: 公開されているウェブサイトからパッケージが見つからない場合は、お問い合わせください。
または、Visual Studioをインストールしてから、解決法1の手順を試してください。これにより、<i>*.whl</i>ファイルが正常にビルドされます。
</p>
<hr class='keywordshr'><p><span class='keywords'>キーワード：</span><span class='keywordsInput'>python, pypi, pip, tar.gz, whl, インストール失敗, パッケージ, pep517, EnvironmentError</span></p>







    