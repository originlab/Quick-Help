<h1 class="firstheading">FAQ-386 変数の置換を避ける方法はありますか？</h1><p class='urlname' style='display: none'>Avoid-Substituted</p>
<p class='faqID'>最終更新日：2023/3/31</p>
<p><b>$</b>や<b>%</b>等の<a class="external text" href="../../LabTalk/Category/Substitution_Notation.html">置換表記</a>による変数はスクリプトが実行された時に実際の値として決定されます。 
</p>
<h5><a name="To_Avoid_variable_substitution_in_Labtalk_Scripts"></a><span class="mw-headline">Labtalkスクリプトで変数の置換を回避するには</span></h5>
<p>スクリプトが実行されるとき、スクリプトを複数回実行する必要がある場合には、変数置換は問題を引き起こします。これを回避するには、<b><a class="external text" href="../../LabTalk/LabTalk/String_registers.html">文字列レジスタ</a></b>を直接使用する代わりに、 特別な置換表記を文字列レジスタに割り当てることができます。 
</p><p><b>サンプル:</b>
</p><p>次のスクリプトは、Col (B) の<b>値の設定</b>ダイアログの数式を<b>Col(A)[i] -&nbsp;%(Col(B)[U]$)</b>に設定しますが、<b>%(Col(B)[U]$)</b>がCol(B)の<b>単位</b>の値で置換されないようにします。
</p>
<pre class="lt" style="font-family:monospace;"><span style="color: #000080;">%</span>A<span style="color: #000080;">=</span><span style="color: #ff00ff;">&quot;%&quot;</span>;
csetvalue f<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #ff00ff;">&quot;Col(A)[i] -&nbsp;%A(Col(B)[U]$)&quot;</span> c<span style="color: #000000;">:</span><span style="color: #000080;">=</span>Col<span style="color: #000000;">(</span>B<span style="color: #000000;">)</span>;</pre>
<h5><a name="To_Avoid_variable_substitution_in_Legend.2FText_Object"></a><span class="mw-headline">凡例/テキストオブジェクトで変数の置換を回避するには</span></h5>
<p>凡例の置換表記は、実際の値をレンダリングします。たとえば、予期しない文字列を表示する可能性のある凡例の文字<b>\</b>または<b>％</b>。この状況を回避するには、<a class="external text" href="../../UserGuide/UserGuide/Escape_Sequences.html">エスケープシーケンス</a>\ v（）を使用できます。
</p><p><b>サンプル:</b>
</p>
<table class="simple">
<tr>
<th>サンプル
</th>
<th>入力の方法...
</th>
<th>凡例の結果...
</th></tr>
<tr>
<td>5%Cu
</td>
<td>5\v(%)Cu
</td>
<td><a  class="image"><img alt="Legend substitution.png" src="../images/How_to_avoid_substitution_in_LabTalk/60px-Legend_substitution.png" width="60"   /></a>
</td></tr></table>
<hr class='keywordshr'><p><span class='keywords'>キーワード:</span><span class='keywordsInput'>置換, 置換を回避, 置換しない</span></p>







    