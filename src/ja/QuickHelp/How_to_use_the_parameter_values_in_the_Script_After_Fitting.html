<h1 class="firstheading">FAQ-236 「フィット後のスクリプト」でパラメータ値を使う方法は?</h1>
<p class="urlname" style="display: none;">Get-NLFitResult-Value-Script</p>
<p class="faqID">最終更新日:2015/02/04</p>
<p><a class="external text" href="../../XFunction/X-Function/Getnlr.html"><b>Xファンクションgetnlr</b></a>を使います。</p>
<p>パラメータと統計の結果をツリーにセットするには、<b>getnlr</b>を使う必要があります。例えば、ガウスフィットを実行した後、FitNL1ワークシートをアクティブにし、スクリプトウィンドウまたはコマンドウィンドウから次を実行します。</p>
<pre class="lt" style="font-family: monospace;">
getnlr tFitResults;
tFitResults.<span style="color: #000080;">=</span>;
</pre>
<p>次のように出力されます。</p>
<pre class="lt" style="font-family: monospace;">
Data1
 <span style="color: #000080;">+---</span>Name <span style="color: #000080;">=</span> Amplitude
 <span style="color: #000080;">+---</span>x1 <span style="color: #000080;">=</span> <span style="color: #000000;">[</span>Gaussian<span style="color: #000000;">]</span>Gaussian<span style="color: #000080;">!</span>Channel
 <span style="color: #000080;">+---</span>y1 <span style="color: #000080;">=</span> <span style="color: #000000;">[</span>Gaussian<span style="color: #000000;">]</span>Gaussian<span style="color: #000080;">!</span>Amplitude
 \<span style="color: #000080;">---</span>wmethod1 <span style="color: #000080;">=</span> No Weighting
y0 <span style="color: #000080;">=</span> <span style="color: #0000dd;">5.3419788692313</span>
e_y0 <span style="color: #000080;">=</span> <span style="color: #0000dd;">0.58340545321781</span>
n_y0 <span style="color: #000080;">=</span> y0
xc <span style="color: #000080;">=</span> <span style="color: #0000dd;">24.906897224202</span>
e_xc <span style="color: #000080;">=</span> <span style="color: #0000dd;">0.08666139607299</span>
n_xc <span style="color: #000080;">=</span> xc
w <span style="color: #000080;">=</span> <span style="color: #0000dd;">10.169692020721</span>
e_w <span style="color: #000080;">=</span> <span style="color: #0000dd;">0.2045243560476</span>
n_w <span style="color: #000080;">=</span> w
A <span style="color: #000080;">=</span> <span style="color: #0000dd;">984.90203637016</span>
e_A <span style="color: #000080;">=</span> <span style="color: #0000dd;">21.450750179376</span>
n_A <span style="color: #000080;">=</span> A
sigma <span style="color: #000080;">=</span> <span style="color: #0000dd;">5.0848460103603</span>
ndp_sigma <span style="color: #000080;">=</span> sigma
FWHM <span style="color: #000080;">=</span> <span style="color: #0000dd;">11.973897311092</span>
ndp_FWHM <span style="color: #000080;">=</span> FWHM
Height <span style="color: #000080;">=</span> <span style="color: #0000dd;">77.272559200605</span>
ndp_Height <span style="color: #000080;">=</span> Height
chisqr <span style="color: #000080;">=</span> <span style="color: #0000dd;">7.8157217446868</span>
dof <span style="color: #000080;">=</span> <span style="color: #0000dd;">46</span>.<span style="color: #000080;">
pts</span> <span style="color: #000080;">=</span> <span style="color: #0000dd;">50</span>.<span style="color: #000080;">
ssr</span> <span style="color: #000080;">=</span> <span style="color: #0000dd;">359.52320025559</span>
adjr <span style="color: #000080;">=</span> <span style="color: #0000dd;">0.98898685090753</span>
fitstatus <span style="color: #000080;">=</span> <span style="color: #0000dd;">100</span>
func <span style="color: #000080;">=</span> Gauss
nfuncparams <span style="color: #000080;">=</span> <span style="color: #0000dd;">4</span>.<span style="color: #000080;">
nderivparams</span> <span style="color: #000080;">=</span> <span style="color: #0000dd;">3</span>.<span style="color: #000080;">
nsets</span> <span style="color: #000080;">=</span> <span style="color: #0000dd;">1</span>.
</pre>
<p>フィット関数と一緒に保存され、フィット実行後に実行される「<b>フィット後のスクリプト</b>」で、これらの値にアクセスするには、最初にロードした値を保持するツリーオブジェクトを作成し、そしてアクセスします。</p>
<p>例えば、</p>
<pre class="lt" style="font-family: monospace;">
getnlr tr<span style="color: #000000;">:</span><span style="color: #000080;">=</span>tFitResults iw<span style="color: #000000;">:</span><span style="color: #000080;">=</span>__Report<span style="color: #000080;">$</span> showall<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">0</span> pnotation<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">0</span>;
type <span style="color: #000080;">-</span>a;  <span style="color: #008000;">//スクリプトウィンドウに出力</span>
type chisqr <span style="color: #000080;">$</span><span style="color: #000000;">(</span>tFitResults.<span style="color: #000080;">chisqr</span><span style="color: #000000;">)</span>;
type status <span style="color: #000080;">$</span><span style="color: #000000;">(</span>tFitResults.<span style="color: #000080;">fitstatus</span><span style="color: #000000;">)</span>;
type y0    <span style="color: #000080;">$</span><span style="color: #000000;">(</span>tFitResults.<span style="color: #000080;">y0</span><span style="color: #000000;">)</span>;
type FWHM  <span style="color: #000080;">$</span><span style="color: #000000;">(</span>tFitResults.<span style="color: #000080;">FWHM</span><span style="color: #000000;">)</span>;
</pre>
<p>ここで <b>__Report$</b> は、Originの文字列変数で、最後に作成した分析レポートの名前が含まれています。</p>
<p>分析で作成したシートの名前を含む文字列変数すべてを一覧表示するには、スクリプトウィンドウで次のように入力します。</p>
<pre class="lt" style="font-family: monospace;">
list vs
</pre>
<hr class="keywordshr" align="center">
<p><span class="keywords">キーワード:</span> <span class="keywordsInput">最終, 非線形, フィット, NLFit, LabTalk</span></p>
