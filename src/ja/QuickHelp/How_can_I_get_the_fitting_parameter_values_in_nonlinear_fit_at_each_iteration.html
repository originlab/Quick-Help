<h1 class="firstheading">FAQ-768 各反復の非線形曲線フィットのパラメータ値は、どのようにして得るのですか？</h1><p class='urlname' style='display: none'>Fit-Parameters-Each-Iteration</p>
<p class='faqID'>最終更新: 2018/07/26</p> 
<p><br />
非線形曲線フィットを実行するときには、LabTalk関数<a class="external text" href="../../XFunction/X-Function/Nlbegin.html">Nlbegin</a>と<a class="external text" href="../../XFunction/X-Function/Nlfit.html">Nlfit</a>を使って、各反復の非線形曲線フィットのパラメータ値を得ることができます。
</p>
<pre class="lt" style="font-family:monospace;"><span style="color: #008000;">// 新しいブックからサンプルデータをインポート</span>
newbook;
fname<span style="color: #000080;">$</span><span style="color: #000080;">=</span>system.<span style="color: #000080;">path</span>.<span style="color: #000080;">program</span><span style="color: #000080;">$</span> <span style="color: #000080;">+</span> <span style="color: #ff00ff;">&quot;Samples\Curve Fitting\Exponential Growth.dat&quot;</span>; <span style="color: #008000;">//データを準備</span>
impASC; 
<span style="color: #008000;">// フィットセッションを開始;</span>
&nbsp;
&nbsp;
nlbegin iy<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">2</span> func<span style="color: #000000;">:</span><span style="color: #000080;">=</span>ExpDec1 nltree<span style="color: #000000;">:</span><span style="color: #000080;">=</span>tt;
getnumber <span style="color: #000080;">-</span>s <span style="color: #000000;">(</span>Input the iterations<span style="color: #000000;">)</span> n;     <span style="color: #008000;">//ダイアログを構築して、実行したい反復を入力可能にする</span>
double aa<span style="color: #000080;">=</span><span style="color: #0000dd;">0</span>;
&nbsp;
&nbsp;
loop <span style="color: #000000;">(</span>i,<span style="color: #0000dd;">1</span>,n<span style="color: #000000;">)</span>
<span style="color: #000000;">{</span>
	nlfit <span style="color: #000080;">$</span><span style="color: #000000;">(</span>i<span style="color: #000000;">)</span>;  <span style="color: #008000;">//フィッティングのi番目の反復を実行</span>
&nbsp;
	type <span style="color: #ff00ff;">&quot;The parameter value in $(i) iteration&quot;</span>;  
&nbsp;
	type <span style="color: #ff00ff;">&quot;y0= $(tt.y0,&nbsp;%4.6f)&quot;</span>;  <span style="color: #008000;">//パラメータ値を出力</span>
	type <span style="color: #ff00ff;">&quot;A1= $(tt.A1,&nbsp;%4.6f)&quot;</span>;
	type <span style="color: #ff00ff;">&quot;t1= $(tt.t1,&nbsp;%4.6f)&quot;</span>;
&nbsp;
	if <span style="color: #000000;">(</span>tt.<span style="color: #000080;">fitstatus</span> <span style="color: #000080;">==</span> <span style="color: #0000dd;">100</span><span style="color: #000000;">)</span>
	<span style="color: #000000;">{</span>
		type <span style="color: #ff00ff;">&quot;Fit converged, no more iteration will be done&quot;</span>;  
		break;
	<span style="color: #000000;">}</span>
<span style="color: #000000;">}</span>
&nbsp;
nlend;</pre>
<p>反復の入力ボックスに8を入力してスクリプトを実行した場合は、次のような結果になります。
</p>
<pre class="lt" style="font-family:monospace;">The parameter value in <span style="color: #0000dd;">1</span> iteration
y0<span style="color: #000080;">=</span> <span style="color: #000080;">-</span><span style="color: #0000dd;">0.162869</span>
A1<span style="color: #000080;">=</span> <span style="color: #0000dd;">1.283508</span>
t1<span style="color: #000080;">=</span> <span style="color: #000080;">-</span><span style="color: #0000dd;">0.998789</span>
The parameter value in <span style="color: #0000dd;">2</span> iteration
y0<span style="color: #000080;">=</span> <span style="color: #000080;">-</span><span style="color: #0000dd;">0.038538</span>
A1<span style="color: #000080;">=</span> <span style="color: #0000dd;">1.195022</span>
t1<span style="color: #000080;">=</span> <span style="color: #000080;">-</span><span style="color: #0000dd;">0.968684</span>
The parameter value in <span style="color: #0000dd;">3</span> iteration
y0<span style="color: #000080;">=</span> <span style="color: #000080;">-</span><span style="color: #0000dd;">0.038365</span>
A1<span style="color: #000080;">=</span> <span style="color: #0000dd;">1.194898</span>
t1<span style="color: #000080;">=</span> <span style="color: #000080;">-</span><span style="color: #0000dd;">0.968641</span>
Fit converged, no more iteration will be done</pre>
<hr class='keywordshr'><p><span class='keywords'>キーワード:</span><span class='keywordsInput'>LabTalk, 非線形フィット, 反復, フィットパラメータ</span></p>




    