<h1 class="firstHeading">Comparing Two Fitting Functions (OriginPro Only)</h1>

  <p class="urlname" style='display: none'>PostFit-CompareFitFunc</p>

  <p>The fitcmpmodel X-Function (accessible by selecting <b>Analysis: Fitting: Compare Models</b> from the menu) compares results of fits to one dataset with two different fitting functions. It is capable of determining which model is the better.</p>

  <p>The fit compare tools do not calculate the result directly from the datasets. It takes the fitting result worksheets as inputs. In other words, to compare two models, you should first fit the datasets by two models separately, and then select the fit report worksheets as the X-Function input. The model comparison is done using three different tests: <b>F-test</b> and a second order <b>Akaike Information Criterion (AIC)</b> and <b>Bayesian Information Criterion (BIC)</b> test.</p>

  <p>The <b>F-test</b> method assumes that the two models are nested, where one model is a simplified version of the other, such as a second order polynomial and a third order polynomial. The F value is computed as:</p>

  <p><img src="../images/Comparing_Two_Fitting_Functions/math-fde396d85718ed120f6bfa76ff8d3888.png" title="F=\frac{(RSS_1-RSS_2)\;/\;(df_1-df_2)}{RSS_2\;/\;df_2} \,\!" alt="F=\frac{(RSS_1-RSS_2)\;/\;(df_1-df_2)}{RSS_2\;/\;df_2} \,\!" class="tex"></p>

  <p>where RSS1 and df1 is the residual sum of square and the degree of freedom of the simpler model. Then we can calculate the probability p by:</p>

  <p><img src="../images/Comparing_Two_Fitting_Functions/math-6680838ff4abbed2ac306d646591ffa8.png" title="P=fcdf(F,df_1-df_2) \,\!" alt="P=fcdf(F,df_1-df_2) \,\!" class="tex"></p>

  <p>If the models are not nested, the F-test results should not be considered. For example, if the models have the same degree of freedom, df1-df2 will be zero and we cannot compute the F value.</p>

  <p><br>
  On the other hand, the <b>AIC</b> test does not require the two models to be nested. So any two models can be compared using this method.</p>

  <p>For each model, Origin calculates the AIC value by:</p>

  <p><img src="../images/Comparing_Two_Fitting_Functions/math-db911abdd32aa5c0ddc461c6ffacdcdc.png" title="AIC=\,\!" alt="AIC=\,\!" class="tex"> <img src="../images/Comparing_Two_Fitting_Functions/math-d0ceff07213e2b8f7cbfe66cfb1c3d2b.png" title="\begin{cases}   N\ln(\frac{RSS}N)+2K, &amp; \mbox{when }\frac NK\geq 40 \\  N\ln(\frac{RSS}N)+2K+\frac{2K(K+1)}{N-K-1}, &amp; \mbox{when}\frac NK&lt; 40  \end{cases}" alt="\begin{cases}   N\ln(\frac{RSS}N)+2K, &amp; \mbox{when }\frac NK\geq 40 \\  N\ln(\frac{RSS}N)+2K+\frac{2K(K+1)}{N-K-1}, &amp; \mbox{when}\frac NK&lt; 40  \end{cases}" class="tex"></p>

  <p>For two fitting models, the one with the smaller AIC value is suggested to be a better model for the dataset.</p>

  <p>We can also make decisions based on the Akaike's weight value, which can be computed as:</p>

  <p><img src="../images/Comparing_Two_Fitting_Functions/math-b9ab16272a2a668fdcd67bf85fef6b84.png" title="Akaike's weights=\frac{e^{-0.5\triangle AIC}}{1+e^{-0.5\triangle AIC}} \,\!" alt="Akaike's weights=\frac{e^{-0.5\triangle AIC}}{1+e^{-0.5\triangle AIC}} \,\!" class="tex"></p>

  <p>where ∆AIC is the deference between two AIC values. The Akaike's weight indicates the probability of a better model.</p>

  <p><br>
  <b>Bayesian information criterion</b> is a model selection criterion, which is modified from the AIC criterion.</p>

  <p>The penalty term for BIC is similar to AIC equation, but uses a multiplier of <i>ln(n)</i> for <i>k</i> instead of a constant 2 by incorporating the sample size <i>n</i>. That can resolve so called over fitting problem in data fitting.</p>

  <p><img src="../images/Comparing_Two_Fitting_Functions/math-d02fad951640046d84cc422de3c2f0ca.png" title="BIC=N\ln \left(\frac{RSS}{N} \right)+K\ln \left(N \right)" alt="BIC=N\ln \left(\frac{RSS}{N} \right)+K\ln \left(N \right)" class="tex"></p>

  <p><br>
  <b>Note:</b> The fit compare model requires the values of RSS, df and N. Please make sure to output these results when perform fitting.</p>
