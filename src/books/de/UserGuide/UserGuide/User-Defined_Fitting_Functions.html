<h1 class="firstHeading">Benutzerdefinierte Anpassungsfunktionen</h1>

  <p class='urlname' style='display: none'>UserDef-FitFunc</p>

  <div style="text-align: left; direction: ltr; margin-left: 1em;">
    <p><a class="image"><img alt="Video Image.png" src="../images/User-Defined_Fitting_Functions/Video_Image.png" width="33"></a> Weitere relevante Videos: <a class="external text" href="http://www.originlab.com/index.aspx?go=Products/Origin/DataAnalysis/CurveFitting/FittingFunctions&amp;ss=chm&amp;pid=1172" target="_blank">Benutzerdefinierte Anpassungsfunktionen</a></p>
  </div>

  <p>In Origin können Sie neben den Standardanpassungsfunktionen auch Ihre eigenen Fitfunktionen definieren. Dazu nutzen Sie diese Hilfsmittel:</p>

  <ul>
    <li>
      <a class="external text" href="http://originlab.com/fileExchange/details.aspx?fid=239" target="_blank">App <b>Simple Fit</b></a>

      <dl>
        <dd>Die App <b>Simple Fit</b> wird mit Origin vorinstalliert und kann einfach über die <a class="external text" href="../../UserGuide/UserGuide/Apps.html#The_Apps_Gallery"><b>App-Galerie</b></a> bei aktivem Diagrammfenster aufgerufen werden. Die App bietet eine sehr bequeme Methode, einfache Funktionen mit dem Ausdruck <b>y = f(x)</b> anzupassen. Sie müssen nur Ihre Formel eingeben (oder eine existierende Funktion auswählen), die Initialisierungswerte festlegen und können dann sofort die Anpassungsberichte erzeugen.</dd>

        <dd><a class="image"><img alt="Define Function Using Simple Fit App.png" src="../images/User-Defined_Fitting_Functions/800px-Define_Function_Using_Simple_Fit_App.png" width="800"></a></dd>
      </dl>
    </li>

    <li><a href="../../UserGuide/UserGuide/The_Fitting_Function_Organizer_Dialog_Box.html" title="UserGuide:The Fitting Function Organizer Dialog Box"><b>Fitfunktionen verwalten</b></a></li>

    <li><a href="../../UserGuide/Category/The_Fitting_Function_Builder.html" title="Category:The Fitting Function Builder"><b>erstellen einbinden</b></a></li>
  </ul>

  <p><br>
  Diese Seite erläutert allgemein, wie der Dialog <a href="../../UserGuide/Category/The_Fitting_Function_Builder.html" title="Category:The Fitting Function Builder"><b>Fitfunktionen erstellen</b></a> verwendet wird, ein benutzerfreundlicher Assistent zum Erstellen von benutzerdefinierten Anpassungsfunktionen. Der Assistent enthält 8 Seiten: <a href="../../UserGuide/UserGuide/The_Goal_Page.html" title="UserGuide:The Goal Page">Ziel</a>, <a href="../../UserGuide/UserGuide/The_Name_and_Type_Page.html" title="UserGuide:The Name and Type Page">Name und Typ</a>, <a href="../../UserGuide/UserGuide/The_Variables_and_Parameters_Page.html" title="UserGuide:The Variables and Parameters Page">Variablen und Parameter</a>, <a href="../../UserGuide/UserGuide/The_Function_Body_Page.html" title="UserGuide:The Function Body Page">Ausdrucksfunktion (Funktionskörper)</a>, <a href="../../UserGuide/UserGuide/The_Parameter_Initialization_Code_Page.html" title="UserGuide:The Parameter Initialization Code Page">Parameterinitialisierungscode</a>, <a href="../../UserGuide/UserGuide/The_Bounds_and_General_Linear_Constrains_Page.html" title="UserGuide:The Bounds and General Linear Constrains Page">Grenzen und allgemeine lineare Nebenbedingungen</a>, <a href="../../UserGuide/UserGuide/The_Derived_Parameters.html" title="UserGuide:The Derived Parameters">Abgeleitete Parameter</a> und <a href="../../UserGuide/UserGuide/The_Script_Before_Or_After_Fitting_Page.html" title="UserGuide:The Script Before Or After Fitting Page">Skript vor und nach Anpassung</a>. Für die ersten 4 Seiten müssen Sie einige Einstellungen vornehmen, ansonsten können Sie nicht zur nächsten Seite gehen. Nachdem Sie die Einstellungen auf der vierten Seite festgelegt haben, der Seite <b>Ausdrucksfunktion</b>, können Sie direkt den Prozess der Funktionserstellung fertigstellen. Oder Sie können damit fortfahren, die Funktionen mit den letzten 4 Seiten genauer anzugeben.</p>

  <p>Der <b>Anpassungsfunktionsbuilder</b> ist ein Assistent mit sehr hilfreichen Hinweisen und Beispielen im linken Bedienfeld, die auf jeder Seite zu finden sind und die Verwendung sehr einfach machen. Wenn Sie wissen, was Sie auf jeder Seite des Assistenten machen können, ist es für Sie ein Leichtes, eine Anpassungsfunktion mit ihm zu erstellen. Auf der linken Seite werden allgemeine Schritte zum Erstellen einer benutzerdefinierten Anpassungsfunktion erläutert. Außerdem wird Ihnen gezeigt, was auf der jeweiligen Seite getan werden kann. Sie können auch <a href="../../UserGuide/UserGuide/A_Simple_Example_to_Show_You_How_to_Create_A_New_Fitting_Function_with_The_Fitting_Function_Builder.html" title="UserGuide:A Simple Example to Show You How to Create A New Fitting Function with The Fitting Function Builder"><b>hier</b></a> ein Tutorial nachlesen, das Ihnen die Vorgehensweise Schritt für Schritt erklärt. Bitte beachten Sie, dass Origin für jede hinzugefügte Funktion eine entsprechende .FDF-Datei erstellt, die im Ordner \FitFunc Ihres Origin-<a href="../../UserGuide/UserGuide/The_User_Files_Folder.html" title="UserGuide:The User Files Folder">Anwenderdateiordners</a> gespeichert wird. Sobald die Funktion erstellt wurde, kann sie in dem Dialogfeld der Nichtlinearen Anpassung verwendet werden.</p>

  <dl>
    <dd><a class="image"><img alt="Ffb home 1.png" src="../images/User-Defined_Fitting_Functions/Ffb_home_1.png" width="799"></a></dd>
  </dl>

  <div id="toc" class="toc">
    <div id="toctitle">
      <h2>Inhalt</h2>
    </div>

    <ul>
      <li class="toclevel-1 tocsection-1"><a href="#General_Steps_to_Create_a_New_Fitting_Function"><span class="tocnumber">1</span> <span class="toctext">Allgemeine Schritte zum Erstellen einer neuen Anpassungsfunktion</span></a></li>

      <li class="toclevel-1 tocsection-2"><a href="#Opening_the_Fitting_Function_Builder"><span class="tocnumber">2</span> <span class="toctext">Dialog Fitfunktionen erstellen öffnen</span></a></li>

      <li class="toclevel-1 tocsection-3"><a href="#What_You_Can_Do_in_the_Goal_Page"><span class="tocnumber">3</span> <span class="toctext">Schritte auf der Seite <i>Ziel</i></span></a></li>

      <li class="toclevel-1 tocsection-4">
        <a href="#What_You_Can_Do_in_the_Name_and_Type_Page"><span class="tocnumber">4</span> <span class="toctext">Schritte auf der Seite <i>Name und Typ</i></span></a>

        <ul>
          <li class="toclevel-2 tocsection-5"><a href="#Create_a_Function_Category"><span class="tocnumber">4.1</span> <span class="toctext">Eine Funktionskategorie erstellen</span></a></li>

          <li class="toclevel-2 tocsection-6"><a href="#Choose_a_Function_Type"><span class="tocnumber">4.2</span> <span class="toctext">Einen Funktionstyp wählen</span></a></li>
        </ul>
      </li>

      <li class="toclevel-1 tocsection-7"><a href="#What_You_Can_Do_in_the_Variables_and_Parameters_Page"><span class="tocnumber">5</span> <span class="toctext">Schritte auf der Seite <i>Variablen und Parameter</i></span></a></li>

      <li class="toclevel-1 tocsection-8">
        <a href="#What_You_Can_Do_in_the_Function_Body_Page"><span class="tocnumber">6</span> <span class="toctext">Schritte auf der Seite <i>Ausdrucksfunktion</i> (Funktionskörper)</span></a>

        <ul>
          <li class="toclevel-2 tocsection-9"><a href="#Input_Function_Body"><span class="tocnumber">6.1</span> <span class="toctext">Funktionskörper eingeben</span></a></li>

          <li class="toclevel-2 tocsection-10"><a href="#Editing_the_Function_in_Code_Builder"><span class="tocnumber">6,2</span> <span class="toctext">Die Funktion im Code-Builder bearbeiten</span></a></li>

          <li class="toclevel-2 tocsection-11"><a href="#Evaluate_the_Function"><span class="tocnumber">6.3</span> <span class="toctext">Die Funktion Schnellprüfung</span></a></li>
        </ul>
      </li>

      <li class="toclevel-1 tocsection-12"><a href="#What_You_Can_Do_in_the_Parameter_Initialization_Code_Page"><span class="tocnumber">7</span> <span class="toctext">Schritte auf der Seite <i>Parameterinitialisierungscode</i></span></a></li>

      <li class="toclevel-1 tocsection-13"><a href="#What_You_Can_Do_in_the_Bounds_and_General_Linear_Constrains_Page"><span class="tocnumber">8</span> <span class="toctext">Schritte auf der Seite <i>Grenzen und allgemeine lineare Nebenbedingungen</i></span></a></li>

      <li class="toclevel-1 tocsection-14"><a href="#What_You_Can_Do_in_the_Derived_Parameters_Page"><span class="tocnumber">9</span> <span class="toctext">Schritte auf der Seite <i>Abgeleitete Parameter</i></span></a></li>

      <li class="toclevel-1 tocsection-15"><a href="#What_You_Can_Do_in_the_Script_Before_or_After_Fitting_Page"><span class="tocnumber">10</span> <span class="toctext">Schritte auf der Seite <i>Skript vor oder nach Anpassung</i></span></a></li>
    </ul>
  </div>

  <h2><a name="General_Steps_to_Create_a_New_Fitting_Function"></a><span class="mw-headline">Allgemeine Schritte zum Erstellen einer neuen Anpassungsfunktion</span></h2>

  <p>Im Folgenden sind die allgemeinen Schritte zum Erstellen einer Anpassungsfunktion erstellen. Sie können auch <a href="../../UserGuide/UserGuide/A_Simple_Example_to_Show_You_How_to_Create_A_New_Fitting_Function_with_The_Fitting_Function_Builder.html" title="UserGuide:A Simple Example to Show You How to Create A New Fitting Function with The Fitting Function Builder"><b>hier</b></a> ein Tutorial nachlesen, das Ihnen die Vorgehensweise Schritt für Schritt erklärt.</p>

  <ol>
    <li>Öffnen Sie <b>Fitfunktionen erstellen</b> und wählen Sie die Option <b>Eine neue Funktion erstellen</b> auf der ersten Seite - die Seite <b>Ziel</b>. Klicken Sie auf die Schaltfläche <b>Weiter</b>, um zur Seite <b>Name und Typ</b> zu gelangen.</li>

    <li>Wählen und erstellen Sie auf der Seite <b>Name und Typ</b> eine Kategorie für die neue Funktion und geben Sie den Namen Ihrer Funktion in das Bearbeitungsfeld <b>Funktionsname</b> ein. Sie können optional Kommentare in das Bearbeitungsfeld <b>Beschreibung</b> einfügen. Sie müssen auch einen geeigneten <b>Funktionstyp</b> entsprechend der realen Situation wählen. Klicken Sie auf die Schaltfläche Weiter, um zur Seite <b>Variablen und Parameter</b> zu gelangen.

      <table class="noborder">
        <tr>
          <td style="vertical-align:top" width="60"><img src="../images/User-Defined_Fitting_Functions/Tip_icon.png" width="57" border="0" alt=""></td>

          <td>
            <p>Wenn Sie beabsichtigen, eine <b>externe DLL-basierte Funktion zu erstellen</b>, lesen Sie bitte <a href="../../UserGuide/UserGuide/Using_External_DLLs.html" title="UserGuide:Using External DLLs">Externe DLLs verwenden</a> sowie die Dokumentation, die in <i>FittingWithExternalDLL.opx</i> eingebunden ist.</p>
          </td>
        </tr>
      </table>
    </li>

    <li>Auf der Seite <b>Variablen und Parameter</b> müssen Sie die Namen für die <b>Unabhängigen Variablen</b>, die <b>Abhängigen Variablen</b> und die <b>Parameter</b> festlegen. Sie können optional auswählen, auf dieser Seite die <b>Abgeleiteten Parameter</b> und <b>Konstanten</b> zu definieren. Wenn Sie Ihre Funktion zum Anpassen von Peaks im Hilfsmittel Peaks analysieren oder von Wiederholungen im Hilfsmittel NLFit verwenden möchten, aktivieren Sie das Kontrollkästchen <b>Peakfunktion</b>. Klicken Sie auf die Schaltfläche Weiter, um zur Seite <b>Ausdrucksfunktion</b> zu gelangen.</li>

    <li>Sie können auf der Seite <b>Ausdrucksfunktion</b> manuell die Initialisierungswerte für die Parameter und Konstanten auf der Registerkarte <b>Parameter</b> und <b>Konstanten</b> festlegen. Wenn Sie auf der vorhergehenden Seite die <b>Peakfunktion</b> aktiviert haben, müssen Sie die <b>Peakattribute</b> auf der Registerkarte <b>Parameter</b> wählen. Außerdem müssen Sie den Funktionskörper in das Bearbeitungsfeld <b>Funktionskörper</b> eingeben. Wenn Sie <b>Origin C</b> als <b>Funktionstyp</b> auf der Seite <b>Name und Typ</b> ausgewählt haben, kann es bequemer sein, für die Definition Ihrer Funktion den Arbeitsbereich des <b>Code Builders</b> zu verwenden. Nachdem Sie die Einstellungen auf dieser Seite vorgenommen haben, können Sie direkt auf die Schaltfläche <b>Fertigstellen</b> klicken, um die Erstellung der Funktion abzuschließen. Oder Sie können direkt auf die Schaltfläche <b>Weiter</b> klicken, um auf den linken Seiten des Assistenten weitere Einstellungen vorzunehmen.</li>

    <li>Die letzten vier Seiten <b>Parameterinitialisierungscode</b>, <b>Grenzen und allgemeine lineare Nebenbedingungen</b>, <b>Abgeleitete Parameter</b> und <b>Skript vor oder nach Anpassung</b> sind optionale Seiten, d.h., Sie können wählen, ob Sie in einer von Ihnen Einstellungen vornehmen möchten oder direkt auf Weiter/Fertigstellen klicken und sie ignorieren.</li>

    <li>Nachdem Sie Einstellungen auf den Seiten durchgeführt haben, können Sie auf die Schaltfläche Fertigstellen klicken und die Funktion speichern</li>
  </ol>

  <h2><a name="Opening_the_Fitting_Function_Builder"></a><span class="mw-headline">Dialog Fitfunktionen erstellen öffnen</span></h2>

  <p>Der Dialog Fitfunktionen erstellen kann folgendermaßen geöffnet werden:</p>

  <ul>
    <li>Wählen Sie <b>Hilfsmittel: Fitfunktion erstellen</b> oder drücken Sie auf <b>F8</b>.</li>

    <li>Klicken Sie auf die Schaltfläche <b>Builder</b> im Dialog <b>Fitfunktionen verwalten</b>.</li>

    <li>Klicken Sie auf die Schaltfläche <b>Neue Fitfunktion erstellen</b> <a class="image"><img alt="Ffb nlfit createnew.png" src="../images/User-Defined_Fitting_Functions/Ffb_nlfit_createnew.png" width="26"></a> im Dialog <b>NLFit</b>.</li>
  </ul>

  <h2><a name="What_You_Can_Do_in_the_Goal_Page"></a><span class="mw-headline">Schritte auf der Seite <i>Ziel</i></span></h2>

  <p>Die Seite <b>Ziel</b> ist die erste Seite des Assistenten, auf der Sie ein <b>Ziel</b> auswählen können: <b>Eine neue Funktion erstellen</b> oder <b>Eine benutzerdefinierte Funktion bearbeiten</b>. Auf dieser Seite sollten Sie <b>Eine neue Funktion erstellen</b> wählen, wenn Sie eine benutzerdefinierte Funktion erstellen möchten. Weitere Einzelheiten zu den Einstellungen auf dieser Seite finden Sie unter <a href="../../UserGuide/UserGuide/The_Goal_Page.html" title="UserGuide:The Goal Page">Die Seite Ziel</a>.</p>

  <h2><a name="What_You_Can_Do_in_the_Name_and_Type_Page"></a><span class="mw-headline">Schritte auf der Seite <i>Name und Typ</i></span></h2>

  <p>Die Seite <b>Name und Typ</b> ist die zweite Seite, auf der Sie eine Funktionskategorie auswählen/erstellen, der Funktion einen Namen geben oder einen Funktionstyp auswählen können. Weitere Einzelheiten zu den Einstellungen auf dieser Seite finden Sie unter <a href="../../UserGuide/UserGuide/The_Name_and_Type_Page.html" title="UserGuide:The Name and Type Page">Die Seite Name und Typ.</a> Sie müssen dabei auf die folgenden zwei Einstellungen achten.</p>

  <h3><a name="Create_a_Function_Category"></a><span class="mw-headline">Eine Funktionskategorie erstellen</span></h3>

  <p>Um eine Kategorie zu erstellen, müssen Sie:</p>

  <ol>
    <li>Auf die Schaltfläche <b>Neu</b> klicken, die sich neben dem Bearbeitungsfeld <b>Eine Kategorie auswählen oder erstellen</b> befindet.</li>

    <li>Geben Sie einen Kategorienamen in das Feld <b>Name</b> ein.</li>

    <li>Klicken Sie dann auf die Schaltfläche OK, um ihn zu speichern.</li>
  </ol>

  <table class="note">
    <tr>
      <td>
        <b>Hinweis:</b> Ab Origin 2018 werden diese Kategorieinformationen in der FDF-Datei gespeichert. Sie können die FDF-Datei mit ihren Freunden teilen. Wenn diese die FDF-Datei per Drag&amp;Drop in ihr jeweiliges Origin gezogen haben, um diese Funktion zu installieren, wird sie in die gleiche Kategorie wie bei Ihnen kopiert.

        <p>Bei früheren Versionen wird der Dialog <b>Kategorie zum Hinzufügen der Funktion auswählen</b> geöffnet, mit dem Sie die Kategorie zum Hinzufügen dieser neuen Funktion festlegen können, da die Informationen der Funktionskategorie nicht mit der FDF-Datei gespeichert werden, wenn Sie die Funktionen per Drag&amp;Drop installieren.</p>
      </td>
    </tr>
  </table>

  <h3><a name="Choose_a_Function_Type"></a><span class="mw-headline">Einen Funktionstyp wählen</span></h3>

  <p>Sie müssen einen geeigneten Funktionstypen aus der Gruppe <b>Funktionstyp</b> wählen. Die folgende Tabelle führt die Unterschiede zwischen ihnen auf.</p>

  <table class="simple">
    <tr>
      <th>Funktionsform</th>

      <th width="250px">Beispiel</th>

      <th>Kommentare</th>
    </tr>

    <tr>
      <td><b>LabTalk-Ausdruck</b></td>

      <td>
        <dl>
          <dd><i>a + b * exp( -x^c / d )</i></dd>
        </dl>
      </td>

      <td>Wählen Sie diese Option für einfache Anpassungsfunktionen, die nur über eine abhängige Variable verfügen. Der Funktionskörper ist auf einen Ausdruck beschränkt, und Sie müssen nur die rechte Seite der Gleichung eingeben. Diese Option bietet eine höhere Geschwindigkeit als <b>Origin C</b>.</td>
    </tr>

    <tr>
      <td><b>Python-Funktion (Skalar)</b></td>

      <td>
        <dl>
          <dd><i>y = py.pyline(x, a, b);</i></dd>
        </dl>
      </td>

      <td>Wählen Sie diese Option nur zum Anpassen von kleineren Datensätzen, das sie langsamer ist als die <b>Python-Funktion (Vektor)</b>. Beachten Sie, dass Sie dem Funktionsnamen das Präfix "py." voranstellen müssen, wenn Sie den Funktionskörper erstellen.</td>
    </tr>

    <tr>
      <td><b>Python-Funktion (Vektor)</b></td>

      <td>
        <dl>
          <dd><i>y=pyGaussVectorEq(x,y0,xc,A,w);</i></dd>
        </dl>
      </td>

      <td>Wählen Sie diese Option zum Anpassen von größeren Datensätzen. Funktionen erhalten einen Array (in Form einer Liste) der unabhängigen Werte für jede unabhängige Variable während eines Abrufs und geben einen Array (in Form einer Liste) für jede abhängige Variable aus. Diese Option verwendet keine LabTalk-Verarbeitung und sollte daher relativ schnell sein.</td>
    </tr>

    <tr>
      <td><b>LabTalk-Gleichungen</b></td>

      <td>
        <dl>
          <dd><i>temp = 10;</i></dd>

          <dd><i>y1 = A + exp( (x1 - xc) / temp^2 );</i></dd>

          <dd><i>y2 = A + temp / (x2 - xc)^2;</i></dd>
        </dl>
      </td>

      <td>Wählen Sie diese Option, wenn Sie mehrere Zeilen brauchen oder über mehr als eine abhängige Variable verfügen. Diese Option unterstützt Kontrollstrukturen wie Schleifen oder if-else-Anweisungen nicht. Sie können jedoch den ternären Operator verwenden. Diese Option bietet eine höhere Geschwindigkeit als <b>Origin C</b>.</td>
    </tr>

    <tr>
      <td><b>Origin C</b></td>

      <td>
        <dl>
          <dd>
            <i>if ( x &lt; -PI )</i>

            <dl>
              <dd><i>y = y0 + exp( -x-a*PI );</i></dd>
            </dl>
          </dd>

          <dd>
            <i>else if ( x &gt; PI )</i>

            <dl>
              <dd><i>y = y0 + exp( x-a*PI );</i></dd>
            </dl>
          </dd>

          <dd>
            <i>else</i>

            <dl>
              <dd><i>y = cos(x);</i></dd>
            </dl>
          </dd>
        </dl>
      </td>

      <td>Diese Option ist langsamer als <b>Gleichungen</b>. Wählen Sie diese Option, wenn Ihre Anpassungsfunktion Schleifen oder Kontrollstrukturen benötigt, die nicht von dem ternären Operator ersetzt werden können. Beachten Sie, dass Sie sich streng an die C-Syntax halten müssen: Bei Parametern muss die Groß- und Kleinschreibung beachtet werden, und die Division durch eine ganze Zahl unterscheidet sich von der Division durch ein "double".</td>
    </tr>

    <tr>
      <td><b>LabTalk-Skript</b></td>

      <td>
        <dl>
          <dd><i>range rr = %C;</i></dd>

          <dd><i>int b = %(rr[P1]$);</i></dd>

          <dd><i>y = b + a*x;</i></dd>
        </dl>
      </td>

      <td>Diese Option ist viel langsamer als Gleichungen oder Origin C. Wählen Sie diese Option, wenn Sie Kontrollstrukturen brauchen oder nicht mit der C-Sprache vertraut sind.</td>
    </tr>

    <tr>
      <td><b>Externe DLL-basierte Funktion</b></td>

      <td></td>

      <td>Wählen Sie diese Option, um eine Anpassungsfunktion mit Hilfe einer externen DLL zu definieren. Mit einer externen DLL kann die Anpassungszeit signifikant verbessert werden. Weitere Einzelheiten zu diesem Typ finden Sie unter dem Thema <a href="../../UserGuide/UserGuide/Using_External_DLLs.html" title="UserGuide:Using External DLLs"><b>Externe DLL verwenden</b></a>.</td>
    </tr>
  </table>

  <table class="note">
    <tr>
      <td>
        <b>Hinweis:</b> Wenn Sie Origin C Fit-Funktionen erstellen, ist es eine gute Methode, den folgenden Ausdruck vor Ihrem Code zu verwenden:
        <pre class="oc" style="font-family:monospace;">
<span style="color: #0000ff;">#pragma</span> numlittype<span style="color: #000000;">(</span>push, <span style="color: #0000ff;">TRUE</span><span style="color: #000000;">)</span>
</pre>

        <p>Dann behandelt Origin ganze Zahlen wie 3 als Gleitkommazahl 3,0. Dies ist sehr nützlich, wenn Sie andere Funktionsformen in Origin konvertieren. In LabTalk ist 3/2 = 1,5, während es in Standard C 1 ist. Der Ausdruck <i>#pragma</i> hilft, inkonsistente Ergebnisse zu vermeiden, wenn Funktionsformen konvertiert werden.</p>
      </td>
    </tr>
  </table>

  <h2><a name="What_You_Can_Do_in_the_Variables_and_Parameters_Page"></a><span class="mw-headline">Schritte auf der Seite <i>Variablen und Parameter</i></span></h2>

  <p>Die Seite <b>Variablen und Parameter</b> ist die dritte Seite, auf der Sie unabhängige Variablen, abhängige Variablen, Parameter (einschließlich den abgeleiteten Parametern) und Konstanten definieren können. Weitere Einzelheiten zu den Einstellungen auf dieser Seite finden Sie unter <a href="../../UserGuide/UserGuide/The_Variables_and_Parameters_Page.html" title="UserGuide:The Variables and Parameters Page">Die Seite Variablen und Parameter.</a></p>

  <table class="note">
    <tr>
      <td>
        <b>Hinweis:</b> Wenn Sie Ihre Funktion zum Anpassen von Peaks im <b>Peaks analysieren</b> oder von Wiederholungen im <b>NLFit</b> verwenden möchten, müssen Sie das Kontrollkästchen <b>Peakfunktion</b> auf dieser Seite aktivieren.

        <p>Parameter für Peakfunktionen haben spezielle Peakattribute, die auf der nächsten Seite festgelegt werden müssen. Der erste Parameter in der Parameterliste muss als "y0" bezeichnet werden und sollte das Peakattribut "Versatz/Basislinie" zugeordnet bekommen. Abgesehen von "y0" müssen Sie mindestens drei weitere Parameter definieren und das Peakattribut auf "Zentrum", "Breite" und "Amplitude/Fläche" setzen. Im Folgenden sehen Sie ein Beispiel für eine Peakanpassungsfunktion:</p>

        <dl>
          <dd><i>y = y0 + (2*A/PI)(w/(4*(x-xc)^2 + w^2))</i></dd>
        </dl>
      </td>
    </tr>
  </table>

  <h2><a name="What_You_Can_Do_in_the_Function_Body_Page"></a><span class="mw-headline">Schritte auf der Seite Ausdrucksfunktion (<i>Funktionskörper</i>)</span></h2>

  <p>Die Seite <b>Ausdrucksfunktion</b> ist die vierte Seite, auf der Sie den Funktionskörper eingeben und einige grundlegende Einstellungen für die Parameter wie Initialisierungswerte, feste Parameter etc. vornehmen können. Bitte beachten Sie, wenn Sie eine Peakanpassungsfunktion definieren möchten, dass Sie spezielle Peakattribute für die Parameter auf dieser Seite wählen können. Außerdem können Sie die Anpassungsfunktion auf dieser Seite überprüfen. Weitere Einzelheiten zu den Einstellungen auf dieser Seite finden Sie unter <a href="../../UserGuide/UserGuide/The_Function_Body_Page.html" title="UserGuide:The Function Body Page">Die Seite Ausdrucksfunktion</a>.</p>

  <h3><a name="Input_Function_Body"></a><span class="mw-headline">Funktionskörper eingeben</span></h3>

  <p>Es gibt 5 Funktionstypen, die auf der Seite <b>Name und Typ</b> eingeführt werden und von denen jeder seine eigenen Funktionskörperformate besitzt. Um sicherzustellen, dass die Anpassungsfunktion korrekt geschrieben werden konnte, müssen Sie den Anweisungen auf der Seite <b>Name und Typ</b> folgen oder sich an den Hinweisen links vom Feld des Funktionskörpers orientieren.</p>

  <table class="note">
    <tr>
      <td>
        <b>Hinweis:</b> Anwender können <b>nlf_<i>FuncName</i></b> verwenden, um eine standardmäßige Anpassungsfunktion beim Erstellen einer neuen zu verwenden. Definieren Sie eine Funktion zum Beispiel folgendermaßen:<br>

        <dl>
          <dd>y1 = nlf_Expdec1(x, y01, A11, t1);<br></dd>
        </dl>

        <p>Wobei <b>nlf_Expdec1</b> die Standardfunktion <b>ExpDec1</b> bezeichnet.</p>
      </td>
    </tr>
  </table>

  <h3><a name="Editing_the_Function_in_Code_Builder"></a><span class="mw-headline">Die Funktion im Code-Builder bearbeiten</span></h3>

  <p>Sie können Ihren Code im Code Builder bearbeiten, wenn <b>Origin C</b> auf der Seite <b>Name und Typ</b> ausgewählt wurde. Sie können auf die Schaltfläche <a class="image"><img alt="User-Defined Fitting Functions-2.png" src="../images/User-Defined_Fitting_Functions/User-Defined_Fitting_Functions-2.png" width="19"></a> klicken, die sich in der oberen rechten Ecke des Bearbeitungsfelds <b>Funktionskörper</b> befindet, eine besondere Instanz des Code Builder-Arbeitsbereichs öffnet sich und dieses Fenster wird als _nlf<i>functionName</i>.fit bezeichnet (im folgenden Screenshot hat das Fenster den Namen _nlfAsymmetricGaussian.fit). Danach können Sie den Funktionskörper in diesem Fenster bearbeiten.</p>

  <dl>
    <dd><a class="image"><img alt="User-Defined Fitting Functions-3.png" src="../images/User-Defined_Fitting_Functions/User-Defined_Fitting_Functions-3.png" width="494"></a></dd>
  </dl>

  <p>Die ersten Zeilen enthalten <b>#include</b>-Anweisungen, die auf Headerdateien verweisen, die wiederum zum Kompilieren Ihrer Anpassungsfunktion benötigt werden. In unserem Beispiel beginnt die Funktionsdefinition mit der Anweisung:</p>
  <pre class="oc" style="font-family:monospace;">
<span style="color: #0000ff;">void</span> _nlsfAsymmetricGaussian
</pre>

  <p>Zu Beginn der Funktionsdefinition werden die Parameter sowie die unabhängigen und abhängigen Variablen deklariert. Im Anschluss an diese Deklarationen sehen Sie ein Bearbeitungsfeld - die weiß hervorgehobene Fläche - das für die Eingabe Ihrer Funktionsdefinition reserviert ist.</p>

  <p>Die oben stehende Abbildung zeigt die Definitionseingabe für die asymmetrische Gaussian-Funktion. Beachten Sie, dass die Funktionsdefinition mit der Syntax der Programmiersprache C kompatibel sein muss. So kennen z.B. die Parameter und alle Variablentypen Fallunterscheidung. Variablen für Zwischenwerte – wie B in diesem Beispiel – müssen zuerst mit Hilfe des folgenden Befehls deklariert werden:</p>
  <pre class="oc" style="font-family:monospace;">
<span style="color: #0000ff;">double</span> B;
</pre>

  <p>Diese Deklaration muss zuerst erfolgen, bevor die Variable in der Funktionsdefinition verwendet werden kann.</p>

  <p>Beachten Sie, dass die Funktion vom Typ <b>void</b> ist, was darauf hinweist, dass keine Werte von der Funktion zurückgegeben werden. Stattdessen wird der Wert der abhängigen Variablen innerhalb des Funktionscodes festgelegt. In unserem Beispiel wird der abhängigen Variablen y ein Wert zugeordnet, der davon abhängt, ob x kleiner oder größer als der Schwerpunktsparameter xc ist.</p>

  <p>Sobald Sie die Funktion definiert haben, sollten Sie sich vergewissern, dass Ihre Syntax korrekt ist. Um dies zu testen, klicken Sie auf die Schaltfläche <b>Kompilieren</b> im oberen Bereich des Code-Builders. Sollten während des Kompilierungsvorgangs Fehler auftreten, so werden diese im Ausgabefenster des Code-Builders im unteren Arbeitsbereich angezeigt. Dort erscheint auch eine entsprechende Meldung, wenn Ihre Datei erfolgreich kompiliert wurde.</p>

  <p>Sobald die Funktion definiert und kompiliert wurde, können Sie zum Dialogfeld des Funktionsmanagers zurückkehren, indem Sie auf die Schaltfläche <b>Zurück zu NLSF</b> oben im Fenster klicken. Dadurch wird das spezielle Fenster des Code Builders geschlossen.</p>

  <p> </p>

  <h3><a name="Evaluate_the_Function"></a><span class="mw-headline">Die Funktion prüfen</span></h3>

  <p>Unten auf der Seite <b>Funktionskörper</b> finden Sie eine Gruppe von Bedienelementen, die so genannte <b>Schnellprüfung</b>, die Ihnen dabei hilft, die Gültigkeit der Funktion zu überprüfen. Zuerst geben Sie die gewünschten Werte für die Parameter in der Spalte <b>Initialisierungswert</b> auf der Registerkarte <b>Parameter</b> dieser Seite ein und dann die Werte für die unabhängigen Variablen in der Gruppe <b>Schnellprüfung</b>. Klicken Sie dann auf die Schaltfläche <a class="image"><img alt="Ffb evaluate.png" src="../images/User-Defined_Fitting_Functions/Ffb_evaluate.png" width="23"></a>, um sich den Ausgabewert der abhängigen Variablen anzeigen zu lassen. Wenn in Ihrem Funktionskörper Fehler auftreten oder Sie ungeeignete Eingabewerte für Parameter oder Variablen festgelegt haben, wird ein fehlender Wert zusammen mit einer entsprechenden Fehlernachricht in dem Ausgabefeld angezeigt.</p>

  <h2><a name="What_You_Can_Do_in_the_Parameter_Initialization_Code_Page"></a><span class="mw-headline">Schritte auf der Seite <i>Parameterinitialisierungscode</i></span></h2>

  <p>Die Seite <b>Parameterinitialisierungscode</b> ist die fünfte Seite, auf der Sie die Codes eingeben, die ausgeführt werden, um Initialisierungswerte für Anpassungsfunktionsparameter zu berechnen. Diese Seite ist optional, d.h., Sie können direkt auf <b>Weiter</b> klicken, um zu der nächsten Seite zu gelangen, auf der weitere Einstellungen vorgenommen werden können. Weitere Einzelheiten zu den Einstellungen auf dieser Seite finden Sie unter <a href="../../UserGuide/UserGuide/The_Parameter_Initialization_Code_Page.html" title="UserGuide:The Parameter Initialization Code Page">Die Seite Parameterinitialisierungscode.</a></p>

  <p>Die Iterationsmethode, die bei nichtlinearen Anpassungen verwendet wird, erfordert, dass Initialisierungswerte für alle Parameter bereitgestellt werden. Gute Initialisierungswerte haben eine schnelle und zuverlässige Konvergenz der Modelle/Daten zur Folge. Es gibt zwei Möglichkeiten, wie Sie die Parameterinitialisierung bei der Definition einer neuen Funktion bearbeiten können:</p>

  <ul>
    <li>Weisen Sie feste Initialisierungswerte auf der Registerkarte <b>Parameter</b> auf der Seite <b>Ausdrucksfunktion</b> zu.</li>

    <li>Geben Sie den Initialisierungscode ein, der die Initialisierungswerte schätzt, in den <b>Initialisierungscode</b> auf der Seite <i>Parameterinitialisierungscode</i> ein.</li>
  </ul>

  <p>Bitte lesen Sie den Abschnitt <a href="../../UserGuide/UserGuide/Parameter_Initialization.html" title="UserGuide:Parameter Initialization">Parameterinitialisierung</a> zum Initialisieren von Parameterwerten. Beachten Sie, dass das Definieren von Initialisierungswerten oder -codes für die Definition der Anpassungsfunktion nicht erforderlich ist. Wenn die Parameterinitialisierung jedoch nicht von der Anpassungsfunktionsdatei verarbeitet wird, müssen sie bei Durchführung des Anpassens mit der Funktion im Dialogfeld <b>NLFit</b> manuell initialisiert werden.</p>

  <h2><a name="What_You_Can_Do_in_the_Bounds_and_General_Linear_Constrains_Page"></a><span class="mw-headline">Schritte auf der Seite <i>Grenzen und allgemeine lineare Nebenbedingungen</i></span></h2>

  <p>Die Seite <b>Grenzen und allgemeine lineare Nebenbedingungen</b> ist die sechste Seite, auf der Sie die Grenzen und linearen Nebenbedingungen für die Anpassungsfunktionsparameter eingeben. Diese Seite ist optional, d.h., Sie können direkt auf <b>Weiter</b> klicken, um zu der nächsten Seite zu gelangen, auf der weitere Einstellungen vorgenommen werden können. Weitere Einzelheiten zu den Einstellungen auf dieser Seite finden Sie unter <a href="../../UserGuide/UserGuide/The_Bounds_and_General_Linear_Constrains_Page.html" title="UserGuide:The Bounds and General Linear Constrains Page">Die Seite Grenzen und allgemeine lineare Nebenbedingungen.</a></p>

  <h2><a name="What_You_Can_Do_in_the_Derived_Parameters_Page"></a><span class="mw-headline">Schritte auf der Seite <i>Abgeleitete Parameter</i></span></h2>

  <p>Die Seite <b>Abgeleitete Parameter</b> ist die siebte Seite, auf der Sie die abgeleiteten Parameter definieren können. Diese Seite ist optional, d.h., Sie können direkt auf <b>Weiter</b> klicken, um zu der nächsten Seite zu gelangen, auf der weitere Einstellungen vorgenommen werden können. Weitere Einzelheiten zu den Einstellungen auf dieser Seite finden Sie unter <a href="../../UserGuide/UserGuide/The_Derived_Parameters.html" title="UserGuide:The Derived Parameters">Die Seite Abgeleitete Parameter.</a></p>

  <h2><a name="What_You_Can_Do_in_the_Script_Before_or_After_Fitting_Page"></a><span class="mw-headline">Schritte auf der Seite <i>Skript vor oder nach Anpassung</i></span></h2>

  <p>Die Seite <b>Abgeleitete Parameter</b> ist die achte Seite und gleichzeitig die letzte Seite, auf der Sie das LabTalk-Skript eingeben können, das vor und/oder nach der Anpassung ausgeführt wird. Bitte beachten Sie, dass diese Seite optional ist, so dass Sie auch direkt auf die Schaltfläche <b>Fertigstellen</b> klicken können, um den Vorgang zum Erstellen einer Anpassungsfunktion zu beenden. Weitere Einzelheiten zu den Einstellungen auf dieser Seite finden Sie unter <a href="../../UserGuide/UserGuide/The_Script_Before_Or_After_Fitting_Page.html" title="UserGuide:The Script Before Or After Fitting Page">Die Seite Skript vor oder nach der Anpassung</a>.</p>
