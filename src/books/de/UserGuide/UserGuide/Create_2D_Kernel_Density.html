<h1 class="firstHeading">2D-Kernel-Dichte</h1>

  <p class='urlname' style='display: none'>Create-2D-Kernel-Density</p>

  <p>&#160;</p>

  <p>Das 2D-Kernel-Dichtediagramm ist eine geglättete Darstellung der Farbdichte des Punktdiagramms, basierend auf der Kernel-Schätzung, eine nichtparametrische Methode für Wahrscheinlichkeitsfunktionen. Das Ziel der Dichteschätzung besteht darin, eine endliche Stichprobe von Daten zu nehmen und die zugrundeliegende Wahrscheinlichkeitsdichtefunktionen überall abzuleiten, einschließlich dort, wo kein Datenpunkt dargestellt wird. In Kernel-Dichte-Schätzungen wird der Beitrag jedes Datenpunkts von einem einzelnen Punkt aus in den angrenzenden Bereich geglättet. Diese geglätteten Dichtediagramme zeigen einen Durchschnittstrend für das Punktdiagramm.</p>

  <div id="toc" class="toc">
    <div id="toctitle">
      <h2>Inhalt</h2>
    </div>

    <ul>
      <li class="toclevel-1 tocsection-1"><a href="#Creating_2D_Kernel_Density_Plot"><span class="tocnumber">1</span> <span class="toctext">2D-Kernel-Dichtediagramm erstellen</span></a></li>

      <li class="toclevel-1 tocsection-2"><a href="#The_Dialog_of_plot_kde2"><span class="tocnumber">2</span> <span class="toctext">Der Dialog plot_kde2</span></a></li>

      <li class="toclevel-1 tocsection-3">
        <a href="#Algorithm"><span class="tocnumber">3</span> <span class="toctext">Algorithmus</span></a>

        <ul>
          <li class="toclevel-2 tocsection-4">
            <a href="#Density_Calculation_Method"><span class="tocnumber">3.1</span> <span class="toctext">Berechnungsmethode der Dichte</span></a>

            <ul>
              <li class="toclevel-3 tocsection-5"><a href="#Exact_Estimation"><span class="tocnumber">3.1.1</span> <span class="toctext">Genaue Schätzung</span></a></li>

              <li class="toclevel-3 tocsection-6"><a href="#Binned_Approximate_Estimation"><span class="tocnumber">3.1.2</span> <span class="toctext">Eingeteilte approximative Schätzung</span></a></li>
            </ul>
          </li>

          <li class="toclevel-2 tocsection-7">
            <a href="#Bandwidth_Methods"><span class="tocnumber">3.2</span> <span class="toctext">Bandbreitenmmethode</span></a>

            <ul>
              <li class="toclevel-3 tocsection-8"><a href="#Bivariate_Kernel_Density_Estimator"><span class="tocnumber">3.2.1</span> <span class="toctext">Bivariater Kerndichteschätzer</span></a></li>

              <li class="toclevel-3 tocsection-9"><a href="#Rule_of_Thumb"><span class="tocnumber">3.2.2</span> <span class="toctext">Daumenregel</span></a></li>
            </ul>
          </li>

          <li class="toclevel-2 tocsection-10"><a href="#Interpolate_Density_Points"><span class="tocnumber">3.3</span> <span class="toctext">Dichtepunkte interpolieren</span></a></li>
        </ul>
      </li>
    </ul>
  </div>

  <h2><a name="Creating_2D_Kernel_Density_Plot"></a><span class="mw-headline">2D-Kernel-Dichtediagramm erstellen</span></h2>

  <p>Um ein 2D-Kernel-Dichtediagramm zu erstellen</p>

  <ol>
    <li>Markieren Sie eine Y-Spalte.</li>

    <li>Öffnen Sie den Dialog des 2D-Kernel-Dichtediagramms, indem Sie auf <b>Zeichnen: Kontur: 2D-Kernel-Dichte</b> klicken.</li>

    <li>Legen Sie im Dialog plot_kde2 <i><b>Methode, Anzahl der Gitternetzpunkte in X/Y</b> und <b>Anzahl der anzuzeigenden Punkte</b> sowie den <b>Diagrammtyp</b></i> fest.</li>

    <li>Klicken Sie auf <b>OK</b>, um ein 2D-Kernel-Dichtediagramm zu erstellen.

      <dl>
        <dd><a class="image"><img alt="2D-Kernel.png" src="../images/Create_2D_Kernel_Density/2D-Kernel.png" width="452"></a></dd>
      </dl>
    </li>
  </ol>

  <h2><a name="The_Dialog_of_plot_kde2"></a><span class="mw-headline">Der Dialog plot_kde2</span></h2>

  <dl>
    <dd>
      <dl>
        <dd><a class="image"><img alt="2D Kernel Density dialog.png" src="../images/Create_2D_Kernel_Density/2D_Kernel_Density_dialog.png" width="466"></a></dd>
      </dl>
    </dd>
  </dl>

  <table class="dialogcontroltable">
    <tr>
      <td>
        <p><b>Eingabedaten</b></p>
      </td>

      <td>
        <p>Legen Sie den Eingabedatenbereich fest.</p>
      </td>
    </tr>

    <tr>
      <td>
        <p><b>Einstellungen</b></p>
      </td>

      <td>
        <dl>
          <dd>
            <b>Bandbreitenmethode</b>

            <dl>
              <dd>
                Legen Sie die Bandbreitenberechnungsmethode des 2D-Kernel-Dichtediagramms fest.

                <ul>
                  <li><b>Bivariater Kerndichteschätzer</b></li>

                  <li><b>Daumenregel</b></li>
                </ul>
              </dd>
            </dl>
          </dd>

          <dd>
            <b>Dichtemethode</b>

            <dl>
              <dd>
                Legen Sie eine Methode zum Berechnen der Kerneldichte für definierte XY-Gitternetze fest.

                <ul>
                  <li><b>Genaue Schätzung</b></li>
                </ul>

                <dl>
                  <dd>Wählen Sie die Option zum Berechnen der Dichtewerte gemäß der Gleichung <a class="external text" href="../../LabTalk/LabTalk/Ks2density_(function).html">Ks2density</a>. Bei einem großen Datensatz kann die Berechnung der genauen Schätzung aus sehr umfassend ausfallen.</dd>
                </dl>

                <ul>
                  <li><b>Eingeteilte approximative Schätzung</b></li>
                </ul>

                <dl>
                  <dd>Wählen Sie die Option zum Berechnen der Approximation der Dichtewerte. Diese Option wird für eine große Stichprobe empfohlen.</dd>
                </dl>
              </dd>
            </dl>
          </dd>
        </dl>

        <dl>
          <dd>
            <b>Anzahl der anzuzeigenden Punkte</b>

            <dl>
              <dd>Legen Sie die ersten N niedrigsten Dichtepunkte fest, die im Dichtebild eingeblendet werden sollen.</dd>
            </dl>
          </dd>
        </dl>

        <dl>
          <dd>
            <b>Dichtepunkte interpolieren</b>

            <dl>
              <dd>Legen Sie die Berechnungsmethode fest, um zu entscheiden, welche Punkte im Dichtebild eingeblendet werden sollen (siehe Einzelheiten im Abschnitt <a href="#Interpolate_Density_Points">Algorithmus</a> unten). Üblicherweise empfehlen wird, wenn die Anzahl der Quelldaten groß ist (d. h. &gt; 50000) die Verwendung dieser Option, um die Geschwindigkeit zu verbessern.</dd>
            </dl>
          </dd>
        </dl>

        <dl>
          <dd>
            <b>Anzahl der Gitternetzpunkte in X/Y</b>

            <dl>
              <dd>Legen Sie die Anzahl der äquidistant verteilten Gitternetzpunkte für die Dichteschätzung fest.</dd>
            </dl>
          </dd>

          <dd>
            <b>Anzahl der anzuzeigenden Punkte</b>

            <dl>
              <dd>Legen Sie die ersten N niedrigsten Dichtepunkte fest, die im Dichtebild eingeblendet werden sollen, wenn das Kontrollkästchen <b>Alle</b> deaktiviert ist. Standardmäßig ist das Kontrollkästchen <b>Alle</b> aktiviert, und es werden alle Punkte angezeigt.</dd>
            </dl>
          </dd>

          <dd>
            <b>Gitternetzbereich</b>

            <dl>
              <dd>
                In einem Zwischenschritt wird eine Matrix der Gridding-Werte aus den XY-Daten erzeugt und das Kernel-Dichte-Diagramm aus den Matrixwerten erstellt. Standardmäßig registriert der <b>Gitternetzbereich</b> die minimalen und maximalen X- und Y-Werte in dieser Matrix. Deaktivieren Sie das Kontrollkästchen <b>Auto</b>, um einen Wert manuell einzugeben.

                <ul>
                  <li><b>X-Minimum</b></li>

                  <li><b>X-Maximum</b></li>

                  <li><b>Y-Minimum</b></li>

                  <li><b>Y-Maximum</b></li>
                </ul>
              </dd>
            </dl>
          </dd>

          <dd>
            <b>Diagrammtyp</b>

            <dl>
              <dd>
                Legen Sie den Diagrammtyp fest.

                <ul>
                  <li><b>Kontur</b></li>
                </ul>

                <dl>
                  <dd>Verwenden Sie die Dichtematrix, um die Kontur zu zeichnen.</dd>
                </dl>
              </dd>
            </dl>
          </dd>
        </dl>

        <dl>
          <dd>
            <dl>
              <dd>
                <ul>
                  <li><b>Bild</b></li>
                </ul>

                <dl>
                  <dd>Verwenden Sie die Dichtematrix, um ein Bilddiagramm zu erstellen.</dd>
                </dl>
              </dd>
            </dl>
          </dd>
        </dl>
      </td>
    </tr>

    <tr>
      <td>
        <p><b>Daten der Dichteschätzung</b></p>
      </td>

      <td>
        <p>Diese Option bestimmt, wo die für das Diagramm berechneten Daten gespeichert werden.</p>
      </td>
    </tr>

    <tr>
      <td>
        <p><b>Daten anzeigen</b></p>
      </td>

      <td>
        <p>Diese Option bestimmt, wo die Daten des angezeigten Punktdiagramms gespeichert werden. Sie ist nur verfügbar, wenn <b>Anzahl der anzuzeigenden Punkte</b> nicht 0 ist.</p>
      </td>
    </tr>
  </table>

  <h2><a name="Algorithm"></a><span class="mw-headline">Algorithmus</span></h2>

  <p>Die Kerneldichteschätzung ist eine nichtparametrische Methode zum Schätzen der Dichte von Streupunkten. Das Ziel der Dichteschätzung besteht darin, die zugrundeliegende Wahrscheinlichkeitsdichtefunktion überall in den vorhandenen Streupunkten zu schätzen, einschließlich dort, wo kein Daten beobachtet werden. Eine Kernel-Funktion wird mit dem Bezugswert in ihrer Mitte erstellt – dies stellt sicher, dass der Kernel symmetrisch zum Bezugswert ist. Die Schätzung der Kernel-Dichte glättet den Beitrag der Datenpunkte, um ein Gesamtbild der Dichte der Datenpunkte zu liefern.</p>

  <dl>
    <dd><a class="image"><img alt="Density grids.png" src="../images/Create_2D_Kernel_Density/Density_grids.png" width="360"></a></dd>
  </dl>

  <h4><a name="Density_Calculation_Method"></a><span class="mw-headline">Berechnungsmethode der Dichte</span></h4>

  <p>Legen Sie eine Methode zum Berechnen der Kerneldichte für definierte XY-Gitternetze fest.</p>

  <h5><a name="Exact_Estimation"></a><span class="mw-headline">Genaue Schätzung</span></h5>

  <p>Die Dichtewerte werden basierend auf der untenstehenden Gleichung berechnet.</p>

  <p><img src="../images/Create_2D_Kernel_Density/math-ca8f0550c764c6ca39d8c58ad1acbded.png" title="f(x,y,\text{vX},\text{vY},w_x,w_y) = \frac{1}{n} \sum_{i=1}^{n} \frac{1}{ 2\pi w_x w_y } \exp \left(-\frac{(x-\text{vX}_i)^2}{2w_x ^2} - \frac{(y-\text{vY}_i)^2}{2w_y^2} \right)" alt="f(x,y,\text{vX},\text{vY},w_x,w_y) = \frac{1}{n} \sum_{i=1}^{n} \frac{1}{ 2\pi w_x w_y } \exp \left(-\frac{(x-\text{vX}_i)^2}{2w_x ^2} - \frac{(y-\text{vY}_i)^2}{2w_y^2} \right)" class="tex"></p>

  <p>wobei <i>n</i> die Anzahl der Elemente in Vektor vX oder vY, <img src="../images/Create_2D_Kernel_Density/math-d42590de7df507482af1323d9ced6ebd.png" title="\text{vX}_i" alt="\text{vX}_i" class="tex"> das <i>i-te</i> Element in Vector vX und <img src="../images/Create_2D_Kernel_Density/math-cc693045aa2161426c9f2b97f77a6a49.png" title="\text{vY}_i" alt="\text{vY}_i" class="tex"> das <i>i-te</i> Element in Vektor vY ist. <img src="../images/Create_2D_Kernel_Density/math-4a5d1969fe1ef947082a32d547c247d7.png" title="w_x" alt="w_x" class="tex"> und <img src="../images/Create_2D_Kernel_Density/math-e939f0323d8d49a8482b30a5284c8374.png" title="w_y" alt="w_y" class="tex"> sind die optimalen Bandbreitenwerte.</p>

  <h5><a name="Binned_Approximate_Estimation"></a><span class="mw-headline">Eingeteilte approximative Schätzung</span></h5>

  <p>Beschleunigen Sie die Dichteberechnung durch eine Approximation an die genaue Schätzung der 2D-Kernel-Dichte.</p>

  <p>Zuerst wird eine 2D-Einteilung für die (X-, Y-) Punkte durchgeführt, um eine Matrix mit den Klassenanzahlen zu erhalten. Dann wird die 2D-Fast-Fourier-Transformation verwendet, um diskrete Faltungen zum Berechnen der Dichtewerte von jedem Gitternetz durchzuführen.</p>

  <p>Die 4. Wurzel der Dichtewerte wird berechnet, um die Dichteskala auf die Farbskala abzubilden.</p>

  <h4><a name="Bandwidth_Methods"></a><span class="mw-headline">Bandbreitenmethode</span></h4>

  <h5><a name="Bivariate_Kernel_Density_Estimator"></a><span class="mw-headline">Bivariater Kerndichteschätzer</span></h5>

  <p>Berechnen Sie die Bandbreite basierend auf einem linearen Diffusionsprozess.</p>

  <h5><a name="Rule_of_Thumb"></a><span class="mw-headline">Daumenregel</span></h5>

  <p>Die Schätzung von <i>wx</i> und <i>wy</i> kann einfach mit Folgendem berechnet werden:</p>

  <dl>
    <dd><img src="../images/Create_2D_Kernel_Density/math-cec7115d5d7539d52893269c30efe6e0.png" title="w_x = \frac{\sigma_x}{2n^{1/6}}" alt="w_x = \frac{\sigma_x}{2n^{1/6}}" class="tex"></dd>

    <dd><img src="../images/Create_2D_Kernel_Density/math-10e70e705a9ba4b7186d81a054f0ae60.png" title="w_y = \frac{\sigma_y}{2n^{1/6}}" alt="w_y = \frac{\sigma_y}{2n^{1/6}}" class="tex"></dd>
  </dl>

  <p>wobei <i>n</i> die Größe des Vektors vX oder vY, <img src="../images/Create_2D_Kernel_Density/math-5bd0825b15108cd960569affb725147c.png" title="\sigma_x" alt="\sigma_x" class="tex"> die Standardstreuung der Stichprobe für den Datensatz vX und <img src="../images/Create_2D_Kernel_Density/math-ba323dc814191392965d1fa1728664fc.png" title="\sigma_y" alt="\sigma_y" class="tex"> diese entsprechend für den Datensatz vY ist.</p>

  <p>&#160;</p>

  <h4><a name="Interpolate_Density_Points"></a><span class="mw-headline">Dichtepunkte interpolieren</span></h4>

  <p>Legen Sie die Berechnungsmethode fest, um zu entscheiden, welche Punkte im Dichtebild eingeblendet werden sollen.</p>

  <p>Wenn die Option ausgewählt ist, wird die Kernel-Dichte der Punkte durch die Interpolation der Dichtematrix für definierte XY-Gitternetze berechnet. Wenn die Anzahl der Quelldaten sehr groß ist, kann die Verwendung dieser Option die Geschwindigkeit enorm verbessern.</p>

  <p>Sollte die Option nicht ausgewählt sein, werden die Dichtewerte mit der <a href="#Exact_Estimation">Methode der genauen Schätzung</a> berechnet.</p>
