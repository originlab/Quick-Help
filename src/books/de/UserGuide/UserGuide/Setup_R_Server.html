<h1 class="firstHeading">Rserve einrichten</h1>

  <p class='urlname' style='display: none'>Setup-R-Server</p>

  <p>Rserve unterstützt beim Zugriff auf die R-Software auf einem Servercomputer, wenn es keine R-Software auf Clientseite gibt.</p>

  <div id="toc" class="toc">
    <div id="toctitle">
      <h2>Inhalt</h2>
    </div>

    <ul>
      <li class="toclevel-1 tocsection-1">
        <a href="#Configuration_on_Server_Side"><span class="tocnumber">1</span> <span class="toctext">Konfiguration auf Serverseite</span></a>

        <ul>
          <li class="toclevel-2 tocsection-2"><a href="#Install_R_and_Rserve_Package"><span class="tocnumber">1.1</span> <span class="toctext">R- und Rserve-Paket installieren</span></a></li>

          <li class="toclevel-2 tocsection-3"><a href="#Create_an_account"><span class="tocnumber">1.2</span> <span class="toctext">Ein Konto erstellen</span></a></li>

          <li class="toclevel-2 tocsection-4"><a href="#Add_system_path"><span class="tocnumber">1.3</span> <span class="toctext">Systempfad hinzufügen</span></a></li>
        </ul>
      </li>

      <li class="toclevel-1 tocsection-5"><a href="#Configure_Origin_on_Client_Side"><span class="tocnumber">2</span> <span class="toctext">Origin auf Clientseite konfigurieren</span></a></li>
    </ul>
  </div>

  <h2><a name="Configuration_on_Server_Side"></a><span class="mw-headline">Konfiguration auf Serverseite</span></h2>

  <h3><a name="Install_R_and_Rserve_Package"></a><span class="mw-headline">R- und Rserve-Paket installieren</span></h3>

  <ol>
    <li>Laden Sie <b>R</b> von <a class="external text" href="http://cran.r-project.org/mirrors.html" target="_blank">CRAN</a> herunter. Beachten Sie, dass die Schritte unten auf <b>R 3.2.0</b> basieren.</li>

    <li>Installieren und starten Sie <b>R 3.2.0</b>. Führen Sie das folgende Skript in der R-Konsole der R-Installation, um die Installation des Rserve-Pakets zu initiieren.
      <pre class="lt" style="font-family:monospace;">
install.<span style="color: #000080;">packages</span><span style="color: #000000;">(</span><span style="color: #ff00ff;">"Rserve"</span><span style="color: #000000;">)</span>
</pre>
    </li>

    <li>Wählen Sie im Popup-Dialog einen Download-Kanal und klicken Sie auf <b>OK</b>, um das Paket herunterzuladen. Nach dem Download wird das Paket automatisch ausgepackt und installiert.</li>
  </ol>

  <h3><a name="Create_an_account"></a><span class="mw-headline">Ein Konto erstellen</span></h3>

  <ol>
    <li>Führen Sie das Skript aus in der <b>R</b>-Konsole aus, um den <b>R</b>-Bibliothekspfad zu erhalten, und öffnen Sie dann den Pfad.
      <pre class="python" style="font-family:monospace;">
.<span style="color: #000;">libPaths</span><span style="color: #000;">(</span><span style="color: #000;">)</span><span style="color: #000;">[</span><span style="color: #000;">1</span><span style="color: #000;">]</span> <span style="color: #d00; font-style: italic;">#output could be [1] "C:/Program Files/R/R-3.2.0/library"</span>
</pre>
    </li>

    <li>Geben Sie diesen Pfad in den <b>Windows Explorer</b> ein und suchen Sie den Unterordner <i>Rserve/lib/x64/</i> in diesem Pfad. Erstellen Sie eine .txt-Datei mit dem Namen <b>RserveAuth.txt</b> und schreiben Sie dann den Benutzernamen und das Passwort in die Datei, zum Beispiel:

      <p><b>Admin 123456</b></p>
    </li>

    <li>Erstellen Sie eine weitere Datei mit dem Namen <b>Rserv.txt</b> und schreiben Sie den Inhalt unten in die Datei:

      <p><b>pwdfile RserveAuth.txt</b><br>
      <b>remote enable</b><br>
      <b>auth required</b><br>
      <b>plaintext enable</b></p>
    </li>

    <li>Ändern Sie die Dateierweiterung von <b>Rserv.txt</b> in <i>conf</i>, so dass die Datei stattdessen als <b>Rserv.conf</b> gespeichert wird.</li>
  </ol>

  <h3><a name="Add_system_path"></a><span class="mw-headline">Systempfad hinzufügen</span></h3>

  <ol>
    <li>Klicken Sie auf die <b>Start</b>-Schaltfläche von Windows und wählen Sie <b>Systemsteuerung: System und Sicherheit: System</b>. Wählen Sie auf der Startseite <b>Erweiterte Systemeinstellungen</b>, um den Dialog <b>Systemeigenschaften</b> zu öffnen.</li>

    <li>Klicken Sie auf die Schaltfläche <b>Umgebungsvariablen...</b> auf der Registerkarte <b>Erweitert</b>, suchen Sie die Variable <i>Path</i> in der Gruppe <b>Systemvariablen</b> und klicken Sie auf <b>Bearbeiten</b>, um den Dialog <b>Systemvariable bearbeiten</b> zu öffnen.</li>

    <li>Fügen Sie den Pfad, einschließlich R.dll-Datei, zB. C:\Program Files\R\R-3.2.0\bin\x64, in das Bearbeitungsfeld <b>Wert der Variablen:</b> ein. Klicken Sie dann auf die Schaltfläche <b>OK</b>, um den Dialog zu verlassen.<br>

      <dl>
        <dd>
          <dl>
            <dd><a class="image"><img alt="Systempath.png" src="../images/Setup_R_Server/Systempath.png" width="426"></a></dd>
          </dl>
        </dd>
      </dl>
    </li>

    <li>Klicken Sie auf die <b>Start</b>-Schaltfläche von Windows und wählen Sie <b>Alle Programme: Zubehör: Eingabeaufforderung</b>, um das Fenster der Eingabeaufforderung zu öffnen. Geben Sie ein:
      <pre class="oc" style="font-family:monospace;">
cd C<span style="color: #000000;">:</span>\Program Files\R\R<span style="color: #000040;">-</span>3.2.0\library\Rserve\libs\x64
</pre>

      <p>Sie können den Pfad verlassen, wenn es nicht der Speicherort Ihrer Rserve.dll ist. Drücken Sie Enter, um zu dem Pfad zu gelangen. Sie müssen Ihren Computer vielleicht neu starten, um die Einstellungen anzuwenden, wenn Sie den folgenden Befehl ausführen.</p>
    </li>

    <li>Geben Sie den Inhalt unten in das Befehlsfenster ein. Klicken Sie auf Enter.
      <pre class="oc" style="font-family:monospace;">
Rserve.<span style="color: #000000;">exe</span> <span style="color: #000040;">--</span>RS<span style="color: #000040;">-</span>conf Rserv.<span style="color: #000000;">conf</span> <span style="color: #000040;">--</span>RS<span style="color: #000040;">-</span>port <span style="color: #0000dd;">12306</span>
</pre>

      <p>Die Meldung <i><b>Rserve: Ok, ready to answer queries.</b></i> wird ausgegeben.</p>
    </li>

    <li>Starten Sie eine neue Instanz der Eingabeaufforderung und führen Sie Folgendes aus:
      <pre class="oc" style="font-family:monospace;">
ipconfig
</pre>

      <p>, um die Rserve PC IP, z.B: 192.168.18.75 zu erhalten.</p>
    </li>
  </ol>

  <h2><a name="Configure_Origin_on_Client_Side"></a><span class="mw-headline">Origin auf Clientseite konfigurieren</span></h2>

  <ol>
    <li>Stellen Sie sicher, dass sich die Dateien ORserve9.dll und ORserve9_64.dll im Origin-Verzeichnis befinden, z.B., <i>C:\Program Files\OriginLab\Origin2016</i>. Versichern Sie sich außerdem, dass die PC-Firewall ausgeschaltet ist, um die Rserve-Verbindung nicht zu blockieren.</li>

    <li>Vergewissern Sie sich, dass das Fenster der Eingabeaufforderung, das unten gezeigt wird, offen bleibt.

      <dl>
        <dd>
          <dl>
            <dd><a class="image"><img alt="RServeConnectionCommandSession.png" src="../images/Setup_R_Server/RServeConnectionCommandSession.png" width="677"></a></dd>
          </dl>
        </dd>
      </dl>
    </li>

    <li>Starten Sie Origin 2016 und wählen Sie <b>Konnektivität: Rserve-Konsole</b>, um den Dialog <b>Verbindung</b> zu öffnen.</li>

    <li>Geben Sie die IP (die Sie von dem Rserve-PC erhalten, z.B.: 192.168.18.75) der Maschine, die Rserve.exe ausführt, im Bearbeitungsfeld <b>Server</b> ein. Der <b>Port</b> lautet <i>12306</i>.</li>

    <li>Aktivieren Sie das Kontrollkästchen <b>Login mit Benutzername und Passwort</b> und geben Sie <b>Benutzername</b> und <b>Passwort</b> ein. In diesem Beispiel ist das <i>Admin</i> bzw. <i>123456</i>, wie in RserveAuth.txt gespeichert.

      <dl>
        <dd>
          <dl>
            <dd><a class="image"><img alt="RserveConnectionDialog.png" src="../images/Setup_R_Server/RserveConnectionDialog.png" width="390"></a></dd>
          </dl>
        </dd>
      </dl>
    </li>

    <li>Klicken Sie auf <b>OK</b>. Sie sehen, dass die <b>RServe</b>-Konsole gestartet wird:

      <dl>
        <dd>
          <dl>
            <dd><a class="image"><img alt="RServeDialog.png" src="../images/Setup_R_Server/RServeDialog.png" width="624"></a></dd>
          </dl>
        </dd>
      </dl>
    </li>
  </ol>
