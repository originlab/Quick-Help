<h1 class="firstHeading">2.14.1 Getting Numeric and String Input</h1><p class='urlname' style='display: none'>Getting-Numeric-and-String-Input</p>
<p><span class="OIndex" style="display:none">Get Input</span>
This section gives examples of prompting for three types of user input during script execution: 
</p>
<ol><li> <a href="#Get_a_Yes.2FNo_Response">Yes/No response</a></li>
<li> <a href="#Get_a_String">Single String</a></li>
<li> <a href="#Get_Multiple_Values">Multi-Type Input (GetN)</a></li></ol>
<table class="noborder"><tr>
	<td style="vertical-align:top" width="60"><img src="../images/Getting_Numeric_and_String_Input/Tip_icon.png?v=0" width="57"  border="0" /></td><td><pre> <b>The User Interface Module</b> (<b>UIM</b>) alllows users to build complex user interface controls. See the <a href="../../LabTalk/LabTalk/UIM.html" title="LabTalk:UIM"><b>UIM Objects</b></a> page.
</pre>
</td></tr></table>
<h2><a name="Get_a_Yes.2FNo_Response"></a><span class="mw-headline">Get a Yes/No Response</span></h2>
<p>The <a href="../../LabTalk/LabTalk/GetYesNo_(command).html" title="LabTalk:GetYesNo (command)"><span class="OIndex">GetYesNo command</span></a> can be used to get a Yes or No response from the user.  The command takes three arguments:
</p><p>Syntax: <b>getyesno</b> <i>stringMessageToUser</i> <i>numericVariableName</i> <i>windowTitle</i>
</p><p>For example, entering the following line in the Script Window will generate a pop-up window titled <b>Check Sign of X</b> and ask the user the  Yes/No question <b>Should X be positive?</b> with the options <b>Yes</b>, <b>No</b>, and <b>Cancel</b> as clickable buttons.  If <b>Yes</b> is selected, <b>xpos</b> will be assigned a value of 1.  If <b>No</b> is selected, <b>xpos</b> will be assigned the value 0.  If <b>Cancel</b> is selected, <b>#Command Error!</b> will be printed, and script execution will stop.
</p>
<pre class="lt" style="font-family:monospace;">getyesno <span style="color: #ff00ff;">&quot;Should X be positive?&quot;</span> xpos <span style="color: #ff00ff;">&quot;Check Sign of X&quot;</span></pre> 
<p>If additional script processing is required in any event, this command should be called from elsewhere and the numeric value can be tested. In the following example, <b>getyesno</b> is called from <b>Main</b> section of code and two string inputs are passed as arguments to the section. 
</p>
<pre class="lt" style="font-family:monospace;"><span style="color: #000000;">&#91;</span>Main<span style="color: #000000;">&#93;</span>
<span style="color: #008000;">// Here is the calling code</span>
int iVal <span style="color: #000080;">=</span> <span style="color: #000080;">-</span><span style="color: #0000dd;">1</span>;
run.<span style="color: #000080;">section</span><span style="color: #000000;">&#40;</span>,myGetYesNo,<span style="color: #ff00ff;">&quot;Create a Graph of results?&quot;</span> <span style="color: #ff00ff;">&quot;Graphing Option&quot;</span><span style="color: #000000;">&#41;</span>;
if<span style="color: #000000;">&#40;</span> iVal <span style="color: #000080;">&gt;</span> <span style="color: #0000dd;">0</span> <span style="color: #000000;">&#41;</span>
<span style="color: #000000;">&#123;</span>
   type <span style="color: #ff00ff;">&quot;Graph generated&quot;</span>;        <span style="color: #008000;">// Yes response </span>
<span style="color: #000000;">&#125;</span>
else
<span style="color: #000000;">&#123;</span>
   type <span style="color: #ff00ff;">&quot;Graph NOT generated&quot;</span>;    <span style="color: #008000;">// No or Cancel response </span>
<span style="color: #000000;">&#125;</span>

<span style="color: #008000;">// 'myGetYesNo' section </span>
<span style="color: #000000;">&#91;</span>myGetYesNo<span style="color: #000000;">&#93;</span>
getyesno <span style="color: #000000;">&#40;</span><span style="color: #000080;">%</span>1<span style="color: #000000;">&#41;</span> iVal <span style="color: #000000;">&#40;</span><span style="color: #000080;">%</span>2<span style="color: #000000;">&#41;</span>;</pre>
<p>Because the above LabTalk Script contains two sections, <b>Main</b> and <b>myGetYesNo</b>, it can't run directly in Script window. Please save it as an OGS file and then type <b>run.section(test.ogs,main)</b> and press ENTER key to run it in Script window. See <a class="external text" href="../../LabTalk/Script/From_Files.html#Sections_in_an_OGS_FileSectionScript_Section">Sections in an OGS File</a>.
</p>
<h2><a name="Get_a_String"></a><span class="mw-headline">Get a String</span></h2>
<p><i><b><a href="../../LabTalk/LabTalk/GetString_(command).html" title="LabTalk:GetString (command)"><span class="OIndex">GetString</span></a></b></i> can be used for user entry of a single string.
</p>
<pre class="lt" style="font-family:monospace;"><span style="color: #000080;">%</span>B <span style="color: #000080;">=</span> <span style="color: #ff00ff;">&quot;&quot;</span>;
GetString <span style="color: #000000;">&#40;</span>Enter as Last, First<span style="color: #000000;">&#41;</span> Last <span style="color: #000000;">&#40;</span>Your Name<span style="color: #000000;">&#41;</span>;
<span style="color: #008000;">// Cancel stops here unless using technique as in GetYesNo</span>
if<span style="color: #000000;">&#40;</span><span style="color: #ff00ff;">&quot;%B&quot;</span><span style="color: #000080;">!</span><span style="color: #000080;">=</span><span style="color: #ff00ff;">&quot;Last&quot;</span><span style="color: #000000;">&#41;</span>
<span style="color: #000000;">&#123;</span>
    type User entered <span style="color: #000080;">%</span>B.;
<span style="color: #000000;">&#125;</span>
else
<span style="color: #000000;">&#123;</span>
    type User clicked OK, but did not modify text;
<span style="color: #000000;">&#125;</span></pre>
<h2><a name="Get_Multiple_Values"></a><span class="mw-headline">Get Multiple Values</span></h2>
<p>The <a href="../../LabTalk/LabTalk/GetNumber_(command).html" title="LabTalk:GetNumber (command)"><span class="OIndex">GetN</span></a> or <a href="../../LabTalk/LabTalk/GetNumber_(command).html" title="LabTalk:GetNumber (command)"><span class="OIndex">GetNumber dialog</span></a> prompts a user for a number, a string, a list entry, or a control selection (in early versions of Origin only numeric values were possible, hence the name).  Prior to version 8.1, GetNumber supported only string registers (e.g.&#160;%A) for string input. In <a href="../../LabTalk/LabTalk/GetNumber_(command).html#Using_Origin_C.27s_GetNBox_from_LabTalk" title="LabTalk:GetNumber (command)">Origin 8.1 and later versions</a>, <b>GetNumber</b> accepts both string variables (e.g. string str1$) and string registers. <b>GetN</b> currently accepts up to 50 variables in addition to the dialog title.
</p><p>Note that strings must first be declared.  It is always a good practice to create variables by declaration rather than by assignment alone; for more see <a href="../../LabTalk/LabTalk/Data_Types_and_Variables.html#Scope_of_Variables" title="LabTalk:Data Types and Variables">Scope of (String) Variables</a>.  For example:
</p>
<pre class="lt" style="font-family:monospace;"><span style="color: #008000;">// First, declare the variables to be used:</span>
double nn <span style="color: #000080;">=</span> <span style="color: #0000dd;">3.2</span>;
string measurement<span style="color: #000080;">$</span><span style="color: #000080;">=</span><span style="color: #ff00ff;">&quot;length&quot;</span>, units<span style="color: #000080;">$</span><span style="color: #000080;">=</span><span style="color: #ff00ff;">&quot;inches&quot;</span>, event<span style="color: #000080;">$</span><span style="color: #000080;">=</span><span style="color: #ff00ff;">&quot;Experiment #2&quot;</span>;

<span style="color: #008000;">// Use GetN dialog to collect user data:</span>
getn
<span style="color: #000000;">&#40;</span>Value<span style="color: #000000;">&#41;</span> nn 
<span style="color: #000000;">&#40;</span>Measurement Type<span style="color: #000000;">&#41;</span> measurement<span style="color: #000080;">$</span>
<span style="color: #000000;">&#40;</span>Units<span style="color: #000000;">&#41;</span> units<span style="color: #000080;">$</span>
<span style="color: #000000;">&#40;</span>Event Name<span style="color: #000000;">&#41;</span> event<span style="color: #000080;">$</span>
<span style="color: #000000;">&#40;</span>Dialog Title<span style="color: #000000;">&#41;</span>;</pre>
<p>brings up the following dialog, prompting the user for input:
</p><p><a  class="image"><img alt="GetN Dialog.png" src="../images/Getting_Numeric_and_String_Input/GetN_Dialog.png?v=0" width="329"  /></a>
</p><p>The values entered in this dialog will be assigned to the declared variables.  If the variables have an initial value (before <b>GetN</b> is called), that value will show up in the input box, otherwise the input box will appear blank.  In either case, the initial value can be changed or kept.
</p><p>To check the data entered, run the following line of script:
</p>
<pre class="lt" style="font-family:monospace;"><span style="color: #008000;">// Output the data:</span>
type In <span style="color: #000080;">%</span><span style="color: #000000;">&#40;</span>event<span style="color: #000080;">$</span><span style="color: #000000;">&#41;</span>, the <span style="color: #000080;">%</span><span style="color: #000000;">&#40;</span>measurement<span style="color: #000080;">$</span><span style="color: #000000;">&#41;</span> was <span style="color: #000080;">$</span><span style="color: #000000;">&#40;</span>nn<span style="color: #000000;">&#41;</span> <span style="color: #000080;">%</span><span style="color: #000000;">&#40;</span>units<span style="color: #000080;">$</span><span style="color: #000000;">&#41;</span>;</pre>
<hr />
<p>This next example script assumes a Graph is the active window and prompts for information then draws a line and labels it.  The call to <b>GetN</b> uses string registers and pre-defined lists as inputs.
</p>
<pre class="lt" style="font-family:monospace;"><span style="color: #000080;">%</span>A<span style="color: #000080;">=</span>Minimum;
iColor <span style="color: #000080;">=</span> <span style="color: #0000dd;">15</span>;
dVal <span style="color: #000080;">=</span> <span style="color: #0000dd;">2.75</span>;
iStyle <span style="color: #000080;">=</span> <span style="color: #0000dd;">2</span>;

<span style="color: #008000;">// Opens the GetN dialog ...</span>
<span style="color: #008000;">// The extra&#160;%-sign in front of&#160;%A interprets the string register </span>
<span style="color: #008000;">// literally, instead of treating it as a variable name.</span>
getn <span style="color: #000000;">&#40;</span>Label Quantile<span style="color: #000000;">&#41;</span> <span style="color: #000080;">%%</span>A 
<span style="color: #000000;">&#40;</span>Color<span style="color: #000000;">&#41;</span> iColor<span style="color: #000000;">:</span>@C 
<span style="color: #000000;">&#40;</span>Style<span style="color: #000000;">&#41;</span> iStyle<span style="color: #000000;">:</span>@D 
<span style="color: #000000;">&#40;</span>Value<span style="color: #000000;">&#41;</span> dVal 
<span style="color: #000000;">&#40;</span>Set Quantile<span style="color: #000000;">&#41;</span>;
 
draw <span style="color: #000080;">-</span>n <span style="color: #000080;">%</span>A <span style="color: #000080;">-</span>l <span style="color: #000080;">-</span>h dVal;     <span style="color: #008000;">// Draws a horzontal, named line</span>
<span style="color: #000080;">%</span>A.<span style="color: #000080;">color</span> <span style="color: #000080;">=</span> iColor;         <span style="color: #008000;">// Sets the line color</span>
<span style="color: #000080;">%</span>A.<span style="color: #000080;">linetype</span> <span style="color: #000080;">=</span> iStyle;      <span style="color: #008000;">// Sets the line style</span>

<span style="color: #008000;">// Creates a text label named QLabel at the right end of the</span>
<span style="color: #008000;">// line</span>
label <span style="color: #000080;">-</span>s <span style="color: #000080;">-</span>a x2 dVal <span style="color: #000080;">-</span>n QLabel <span style="color: #000080;">%</span>A; 

<span style="color: #000080;">%</span>A.<span style="color: #000080;">Connect</span><span style="color: #000000;">&#40;</span>QLabel,<span style="color: #0000dd;">1</span><span style="color: #000000;">&#41;</span>;       <span style="color: #008000;">// Connects the two objects</span></pre>
<p>Note&#160;: The script requires that&#160;%A should be a single word and that object <i>QLabel</i> does not exist.
</p><p>The following character sequences, beginning with the <b>@</b> character, access pre-defined lists for <b>GetN</b> arguments:
</p>
<table class="simple">
<tr>
<th> List</th>
<th> Description
</th></tr>
<tr>
<td>&#160;:@B
</td>
<td> List of Object Background attributes
</td></tr>
<tr>
<td>&#160;:@C
</td>
<td> Basic Color List
</td></tr>
<tr>
<td>&#160;:@D
</td>
<td> Line Style List
</td></tr>
<tr>
<td>&#160;:@P
</td>
<td> Pattern List
</td></tr>
<tr>
<td>&#160;:@S
</td>
<td> Font Size List
</td></tr>
<tr>
<td>&#160;:@T
</td>
<td> Font List
</td></tr>
<tr>
<td>&#160;:@W
</td>
<td> Line Width List
</td></tr>
<tr>
<td>&#160;:@Z
</td>
<td> Symbol Size List
</td></tr></table>
<p>Note that the value returned when a list item is selected within the 
<b>GetN</b> dialog is the index of the item in the list.  For instance, if one of your <b>GetN</b> entries is:
</p>
<pre class="lt" style="font-family:monospace;"><span style="color: #000000;">&#40;</span>Font Size<span style="color: #000000;">&#41;</span> fs<span style="color: #000000;">:</span>@S</pre>
<p>and you select <b>18</b> from the drop-down list in the dialog, the variable <b>fs</b> will hold the value <b>8</b>, since 18 is the 8th item in the list.
</p><p><br />
</p>
<hr />
<p>Below is another example script that allows a user to change a Symbol Plot to a Line + Symbol Plot or the reverse:
</p>
<pre class="lt" style="font-family:monospace;">get <span style="color: #000080;">%</span>C <span style="color: #000080;">-</span>z iSymbolSize;  <span style="color: #008000;">// Get current Symbol Size</span>
get <span style="color: #000080;">%</span>C <span style="color: #000080;">-</span>cl iLineColor;  <span style="color: #008000;">// Get current Line color</span>
iUseLine <span style="color: #000080;">=</span> <span style="color: #0000dd;">0</span>;
<span style="color: #008000;">// Now open the dialog to the user</span>
getn <span style="color: #000000;">&#40;</span>Symbol Size<span style="color: #000000;">&#41;</span> iSymbolSize
     <span style="color: #000000;">&#40;</span>Use Line<span style="color: #000000;">&#41;</span> iUseLine<span style="color: #000000;">:</span>2s
     <span style="color: #000000;">&#40;</span>Line Color<span style="color: #000000;">&#41;</span> iLineColor<span style="color: #000000;">:</span>@C
     <span style="color: #000000;">&#40;</span>Set Plot Style<span style="color: #000000;">&#41;</span>;
<span style="color: #008000;">// If User asked for Line</span>
if<span style="color: #000000;">&#40;</span>iUseLine <span style="color: #000080;">==</span> <span style="color: #0000dd;">1</span><span style="color: #000000;">&#41;</span>
<span style="color: #000000;">&#123;</span>
    set <span style="color: #000080;">%</span>C <span style="color: #000080;">-</span>l <span style="color: #0000dd;">1</span>;           <span style="color: #008000;">// Turn on the line</span>
    set <span style="color: #000080;">%</span>C <span style="color: #000080;">-</span>cl iLineColor; <span style="color: #008000;">// Set the line color</span>
<span style="color: #000000;">&#125;</span>
<span style="color: #008000;">// .. if not</span>
else
    set <span style="color: #000080;">%</span>C <span style="color: #000080;">-</span>l <span style="color: #0000dd;">0</span>;           <span style="color: #008000;">// Turn off line</span>
set <span style="color: #000080;">%</span>C <span style="color: #000080;">-</span>z iSymbolSize;     <span style="color: #008000;">// Set Symbol size</span></pre>
<hr />


