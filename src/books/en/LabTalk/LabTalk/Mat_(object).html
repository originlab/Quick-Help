<h1 class="firstHeading">3.7.5.41 Mat</h1><p class='urlname' style='display: none'>Mat-obj</p>
<p><b>LabTalk Object Type:</b> 
</p>
<dl><dd><a href="../../LabTalk/LabTalk/External_Objects.html" title="LabTalk:External Objects">External Object</a></dd></dl>
<p>The mat object handles many operations on matrices including conversion between worksheets and matrices, mathematical operations such as inverse, transpose, computing the X and Y projections, multiplication, and  data preparation such as gridding. 
</p>
<table class="noborder"><tr>
	<td style="vertical-align:top" width="60"><img src="../images/Mat_(object)/Tip_icon.png?v=0" width="57"  border="0" /></td><td><p>Please see the <a class="external text" href="../../XFunction/X-Function/M2w.html"><b>m2w</b></a>, <a class="external text" href="../../XFunction/X-Function/W2m.html"><b>w2m</b></a>, <a class="external text" href="../../XFunction/X-Function/Minverse.html"><b>minverse</b></a>,<a class="external text" href="../../XFunction/X-Function/Mexpand.html"><b>mexpand</b></a> X-Functions for Matrix to Worksheet conversion, Worksheet to Matrix conversion, Inversion of a Matrix and Matrix expansion.
</p></td></tr></table>
<table class="note">
<tr>
<td><b>Note:</b> The mat object does not contain matrix <b>sheet</b> properties. Properties for sheets such as sheet dimensions (wks.ncols, wks.nrows), sheet name (wks.name$), and number of objects in a matrixsheet (wks.nmats) are controlled by the <a href="../../LabTalk/LabTalk/Wks_(object).html" title="LabTalk:Wks (object)">wks object</a>. Also view the section on <a href="../../LabTalk/LabTalk/External_Objects.html" title="LabTalk:External Objects">common properties and methods of external objects</a>.
<p>Besides controlling matrixsheets using this mat object and the <a href="../../LabTalk/LabTalk/Wks_(object).html" title="LabTalk:Wks (object)">wks object</a>, you can also use <a class="external text" href="../../LabTalk/Script/LabTalk-Supported_X-Functions.html#Matrix">matrix related X-Functions</a>, such as <a class="external text" href="../../XFunction/X-Function/Mdim.html">mdim</a>, and <a class="external text" href="../../XFunction/X-Function/Msetvalue.html">msetvalue</a>, to change matrix dimension and set cell values.
</p>
</td></tr></table>
<h2><a name="Properties:Matrix_property"></a><span class="mw-headline"><font color="chocolate">Properties:</font><span class="OIndex" style="display:none">Matrix property</span></span></h2>
<table class="simple">
<tr>
<th width="110">Property
</th>
<th width="70">Access
</th>
<th width="540">Description
</th></tr>
<tr>
<td> <b>mat.edgeView.xeCol$</b>
</td>
<td> Read/write<br />string
</td>
<td> <b>Used with the mat.edgeview( )</b> method.  This is the X column in the <b>mat.edgeview.xeWksName$</b> worksheet.
</td></tr>
<tr>
<td> <b>mat.edgeView.xeWksName$</b>
</td>
<td> Read/write<br /> string
</td>
<td> Used with the <b>mat.edgeview( )</b> method.  This is the worksheet where the X projection is stored.
</td></tr>
<tr>
<td> <b>mat.edgeView.yeCol$</b>
</td>
<td> Read/write<br /> string
</td>
<td> Used with the <b>mat.edgeview( )</b> method.  This is the worksheet where the Y projection is stored.
</td></tr>
<tr>
<td> <b>mat.edgeView.yeWksName$</b>
</td>
<td> Read/write<br /> string
</td>
<td> Used with the <b>mat.edgeview( )</b> method.  This is the worksheet where the Y projection is stored.
</td></tr>
<tr>
<td> <b>mat.edgeView.zxeCol$</b>
</td>
<td> Read/write<br /> string
</td>
<td> Used with the <b>mat.edgeview( )</b> method.  This is the Y column in the <b>mat.edgeview.xeWksName$</b> worksheet.  This column contains the maximum Y along that X.
</td></tr>
<tr>
<td> <b>mat.edgeView.zxsCol$</b>
</td>
<td> Read/write<br /> string
</td>
<td> Used with the <b>mat.edgeview( )</b> method.  This is a column in the <b>mat.edgeview.xeWksName$</b> worksheet.  This column contains the sum of all Ys along that X.
</td></tr>
<tr>
<td> <b>mat.edgeView.zyeCol$</b>
</td>
<td> Read/write<br /> string
</td>
<td> Used with the <b>mat.edgeview( )</b> method.  This is the X column in the <b>mat.edgeview.xeWksName$</b> worksheet.  This column contains the maximum X along that Y.
</td></tr>
<tr>
<td> <b>mat.edgeView.zysCol$</b>
</td>
<td> Read/write<br /> string
</td>
<td> <b>Used with the mat.edgeview( )</b> method.  This is a column in the <b>mat.edgeview.xeWksName$</b> worksheet.  This column contains the sum of all Xs along that Y.
</td></tr>
<tr>
<td> <b>mat.exp2m.cols</b>
</td>
<td> Read/write<br /> numeric
</td>
<td> When converting a worksheet to a matrix using the <b>mat.exp2m( )</b> method, this property value controls the number of columns in the matrix.  The number of columns in the matrix is determined by the number of columns in the worksheet multiplied by this property value.
</td></tr>
<tr>
<td> <b>mat.expand.col</b>
</td>
<td> Read/write<br /> numeric
</td>
<td> Column expansion factor when using the <b>mat.expand( )</b> method.
</td></tr>
<tr>
<td> <b>mat.expand.row</b>
</td>
<td> Read/write<br /> numeric
</td>
<td> Row expansion factor when using the <b>mat.expand( )</b> method.
</td></tr>
<tr>
<td> <b>mat.grid.average</b>
</td>
<td> Read/write, numeric
</td>
<td> Used in correlation gridding.  Average all points in a grid unit:  1 = enable, 0 = disable.
</td></tr>
<tr>
<td> <b>mat.grid.dCluster</b>
</td>
<td> Read/write<br /> numeric
</td>
<td> Used in correlation gridding.  When <b>mat.grid.average</b> is enabled, this property represents the minimum number of cluster points used in a given direction.  The maximum value allowed is 5 and the minimum is 3.
</td></tr>
<tr>
<td> <b>mat.grid.gcSize</b>
</td>
<td> Read/write<br /> numeric
</td>
<td> Size of a grid unit in the X direction.  Choosing a smaller size gives better results but increases calculation time.
</td></tr>
<tr>
<td> <b>mat.grid.grSize</b>
</td>
<td> Read/write<br /> numeric
</td>
<td> Size of a grid unit in the Y direction.  Choosing a smaller size gives better results but increases the calculation time.
</td></tr>
<tr>
<td> <b>mat.grid.maxSubpts</b>
</td>
<td> Read/write<br /> numeric
</td>
<td> The maximum number of points (raw data or grid units) allowed in gridding.
</td></tr>
<tr>
<td> <b>mat.grid.maxUseAll</b>
</td>
<td> Read/write<br /> numeric
</td>
<td> Used in correlation gridding.  When the total number of data points is less than this value, all the data points are used in gridding.  This speeds up the gridding process when the total number of points is less than 64 (default value).
</td></tr>
<tr>
<td> <b>mat.grid.minQuadra</b>
</td>
<td> Read/write<br /> numeric
</td>
<td> Used in correlation gridding.  The minimum number of points used in a given direction in correlation gridding when <b>mat.grid.average</b> is disabled.  The maximum value is 5 and the minimum value is 3.
</td></tr>
<tr>
<td> <b>mat.grid.nMatCols</b>
</td>
<td> Read/write<br /> numeric
</td>
<td> Number of columns in the matrix after gridding.
</td></tr>
<tr>
<td> <b>mat.grid.nMatRows</b>
</td>
<td> Read/write<br /> numeric
</td>
<td> Number of rows in the matrix after gridding.
</td></tr>
<tr>
<td> <b>mat.grid.radius</b>
</td>
<td> Read/write<br /> numeric
</td>
<td> If the distance between a data point and the gridding point is larger than this value, the contribution of this data point is set to a minimal value.
</td></tr>
<tr>
<td> <b>mat.grid.rule</b>
</td>
<td> Read/write<br /> numeric
</td>
<td> Used in weighted average gridding.  This parameter determines the weight as a function of the distance between a data point and the gridding point:  1 = linear, 2 = power, 3 = logarithmic, 4 = exponential.
</td></tr>
<tr>
<td> <b>mat.grid.smooth</b>
</td>
<td> Read/write<br />numeric
</td>
<td> Used in correlation gridding.  Smaller values give smoother results.
</td></tr>
<tr>
<td> <b>mat.interpolate</b>
</td>
<td> Read/write<br /> numeric
</td>
<td> Control whether or not interpolation is used with the <b>mat.profile( )</b> and the <b>mat.segment( )</b> methods:  0 = no interpolation, non-zero = interpolation.
</td></tr>
<tr>
<td> <b>mat.interpolatePts</b>
</td>
<td> Read/write<br /> numeric
</td>
<td> Number of points to use for interpolating with the<b> mat.profile( )</b> and the <b>mat.segment( )</b> methods.  If set to -1, then the matrix number of columns or rows is used.
</td></tr>
<tr>
<td> <b>mat.matName$</b>
</td>
<td> Read/write<br /> string
</td>
<td> Name of the active matrix.  Specify the active matrix before executing a <b>mat</b> object method.
</td></tr>
<tr>
<td> <b>mat.profile.angle</b>
</td>
<td> Read/write<br />numeric
</td>
<td> Used with the <b>mat.profile( )</b> method - for a profile along a line with a preset slope.  This is the angle with X axis (in radians).  The default value is PI/4.
</td></tr>
<tr>
<td> <b>mat.profile.hSection</b>
</td>
<td> Read/write<br /> numeric
</td>
<td> Used with the <b>mat.profile( )</b> method.  This is the number of points in the horizontal profile.
</td></tr>
<tr>
<td> <b>mat.profile.hwksName$</b>
</td>
<td> Read/write<br /> string
</td>
<td> Used with the <b>mat.profile( )</b> method.  This is the worksheet that stores the horizontal profile.
</td></tr>
<tr>
<td> <b>mat.profile.hXCol</b>
</td>
<td> Read/write<br />numeric
</td>
<td> Used with the <b>mat.profile( )</b> method.  This is the worksheet column that stores the X horizontal profile.
</td></tr>
<tr>
<td> <b>mat.profile.hZCol</b>
</td>
<td> Read/write<br />numeric
</td>
<td> Used with the <b>mat.profile( )</b> method.  This is the worksheet column that stores the Z horizontal profile.
</td></tr>
<tr>
<td> <b>mat.profile.sSection</b>
</td>
<td> Read/write<br /> numeric
</td>
<td> Used with the <b>mat.profile( )</b> method.  This is the number of points in the slanted profile.
</td></tr>
<tr>
<td> <b>mat.profile.vSection</b>
</td>
<td> Read/write<br /> numeric
</td>
<td> Used with the <b>mat.profile( )</b> method.  This is the number of points in the vertical profile.
</td></tr>
<tr>
<td> <b>mat.profile.vWksName$</b>
</td>
<td> Read/write<br /> string
</td>
<td> Used with the <b>mat.profile( )</b> method.  This is the worksheet that stores the vertical profile.
</td></tr>
<tr>
<td> <b>mat.profile.vYCol</b>
</td>
<td> Read/write<br /> numeric
</td>
<td> Used with the <b>mat.profile( )</b> method.  This is the worksheet column that stores the Y vertical profile.
</td></tr>
<tr>
<td> <b>mat.profile.vZCol</b>
</td>
<td> Read/write<br />numeric
</td>
<td> Used with the <b>mat.profile( )</b> method.  This is the worksheet column that stores the Z vertical profile.
</td></tr>
<tr>
<td> <b>mat.res, mat.resolution</b>
</td>
<td> Read/write<br /> numeric
</td>
<td> When converting a regular worksheet to a matrix, small variations in the data are allowed.  The tolerance for these variations is determined by this property.  The default value is 10, which allows up to a 10% variation in the step size in X or Y.  If you have very small variations of data, the default value may be too large (the conversion would still go through).  Likewise, if you have very large fluctuations in your data, then the default value could be too small (the conversion will fail).  Calculate a value appropriate for your data using: (maximum variation from mean step size * 100 / mean step size)
</td></tr>
<tr>
<td> <b>mat.shrink.col</b>
</td>
<td> Read/write<br />numeric
</td>
<td> Column shrinkage factor when using the <b>mat.shrink( )</b> method.
</td></tr>
<tr>
<td> <b>mat.shrink.row</b>
</td>
<td> Read/write<br />numeric
</td>
<td> Row shrinkage factor when using the <b>mat.shrink( )</b> method.
</td></tr>
<tr>
<td> <b>mat.type</b>
</td>
<td> Read/write<br />numeric
</td>
<td> Used in conversion from a matrix to a worksheet in the <b>mat.m2xyz( )</b> method.  0 = X column first, 1 = Y column first.
</td></tr>
<tr>
<td> <b>mat.wksName$</b>
</td>
<td> Read/write<br />string
</td>
<td> Name of the active worksheet.  (Used with the <b>mat.profile( )</b> method.  This is the worksheet that stores the slanted profile.)
</td></tr>
<tr>
<td> <b>mat.xCol</b>
</td>
<td> Read/write<br />numeric
</td>
<td> The X column number in the worksheet.  (Used with the <b>mat.profile( )</b> method.  This is the worksheet column that stores the X slanted profile.)
</td></tr>
<tr>
<td> <b>mat.yCol</b>
</td>
<td> Read/write<br />numeric
</td>
<td> The Y column number in the worksheet.  (Used with the <b>mat.profile( )</b> method.  This is the worksheet column that stores the Y slanted profile.)
</td></tr>
<tr>
<td> <b>mat.zCol</b>
</td>
<td> Read/write<br />numeric
</td>
<td> The Z column number in the worksheet.  (Used with the <b>mat.profile( )</b> method.  This is the worksheet column that stores the Z slanted profile.)
</td></tr></table>
<h2><a name="Methods:Matrix_method"></a><span class="mw-headline"><font color="chocolate">Methods:</font><span class="OIndex" style="display:none">Matrix method</span></span></h2>
<table class="simple">
<tr>
<th width="180">Method
</th>
<th> Description
</th></tr>
<tr>
<td> <b>mat.edgeView( )</b>
</td>
<td> Plot the maximum values of X along a given Y, and Y along a given X.  You can also specify a column (optional) to compute and store the sum of all Y along a particular X and the sum of all X along a particular Y.
</td></tr>
<tr>
<td> <b>mat.exp2m( )</b>
</td>
<td> Expand all columns of the active worksheet (<b>mat.wksName$</b>) by a factor and convert it to a matrix (<b>mat.matName</b>$).  The expansion factor is determined by <b>mat.exp2m.cols</b>.  For example, if the active worksheet has 3 columns and <b>mat.exp2m.cols = 2</b>, the resultant matrix will have 6 columns.
</td></tr>
<tr>
<td><b> mat.expand( )</b>
</td>
<td> Expand the active matrix (<b>mat.matName$</b>).  The expansion factor is determined by <b>mat.expand.row</b> and <b>mat.expand.col.</b>
</td></tr>
<tr>
<td> <b>mat.grid(coo)</b>
</td>
<td> Correlation gridding.
</td></tr>
<tr>
<td> <b>mat.grid(ave)</b>
</td>
<td> Weighted average gridding.
</td></tr>
<tr>
<td> <b>mat.grid(check)</b>
</td>
<td> Check and set the consistency and validity of gridding smoothness vs. minimum points per direction.
</td></tr>
<tr>
<td> <b>mat.integrate([varName])</b>
</td>
<td> Integrate the matrix by starting from zero.  If varName is included, the integration result is stored in varName.  If not included, the integration result is output to the Script window.
</td></tr>
<tr>
<td> <b>mat.inv( )</b>
</td>
<td> Inverse the active matrix (<b>mat.matName$</b>).
</td></tr>
<tr>
<td> <b>mat.m2w( )</b>
</td>
<td> Convert the active matrix (<b>mat.matName$</b>) to a worksheet (<b>mat.wksName$</b>) by the columns and rows directly.  The worksheet looks exactly like the original matrix, but the X Y coordinate mapping information is lost.
</td></tr>
<tr>
<td> <b>mat.m2xyz( )</b>
</td>
<td> Convert the active matrix (<b>mat.matName$</b>) to a worksheet (<b>mat.wksName$</b>).  This method creates a worksheet with X, Y and Z columns.  The cell values of the matrix are converted to a Z column.  The corresponding X and Y column values in the worksheet are set by the X and Y coordinate mapping information in the matrix.
</td></tr>
<tr>
<td> <b>mat.multiply(matrix1, matrix2)</b>
</td>
<td> Multiply matrix1 by matrix2.  <b>Mat.matName$</b> stores the name of the target matrix.  If this matrix is matrix1 or matrix2, the input matrix is overwritten.
</td></tr>
<tr>
<td> <b>mat.profile(x1, y1)</b>
</td>
<td> Provides three profiles:
<ol><li>The horizontal profile y = y1.  </li>
<li>The vertical profile x = x1.  </li>
<li>The profile along a line with a preset slope passing through (x1, y1).  Set the angle with the X axis in radians using the <b>mat.profile.angle</b> property.  The default angle is PI/4.  </li></ol>
<p>The profiles are stored in the following worksheets:  
</p>
<ol><li>Horizontal: <b> mat.profile.hwksname, mat.profile.hXcol, mat.profile.hZcol. </b> </li>
<li>Vertical:  <b>mat.profile.vwksname, mat.profile.vYcol, mat.profile.vZcol. </b> </li>
<li>Slanted:  <b>mat.wksname, mat.xcol, mat.ycol, mat.zcol</b>.  </li></ol>
<p>The number of points in each profile can be accessed from <b>mat.profile.hsection</b>, <b>mat.profile.vsection</b>, and mat.profile.ssection.  Specify use of interpolation with the <b>mat.interpolate</b> and the <b>mat.interpolatePts</b> properties.
</p>
</td></tr>
<tr>
<td> <b>mat.segment(x1, y1, x2, y2)</b>
</td>
<td> Find the profile between (x1, y1) and (x2, y2).  The results are written to <b>mat.wksName$</b>.  Control whether interpolation is used with the <b>mat.interpolate</b> and the <b>mat.interpolatePts</b> properties.
</td></tr>
<tr>
<td> <b>mat.shrink( )</b>
</td>
<td> Shrink the active matrix (<b>mat.matName$</b>).  The shrinkage factor is determined by <b>mat.shrink.row</b> and <b>mat.shrink.col</b>.
</td></tr>
<tr>
<td> <b>mat.w2m( )</b>
</td>
<td> Convert the active worksheet (<b>mat.wksName$</b>) to a matrix (<b>mat.matName$</b>) by the columns and rows directly.  The matrix looks exactly like the original worksheet.
</td></tr>
<tr>
<td> <b>mat.xyz2m( )</b>
</td>
<td> Convert the active worksheet (<b>mat.wksName$</b>) to a matrix (<b>mat.matName$</b>).  This method creates a matrix with cell values from the Z column.  The X and Y coordinate mapping information in the matrix is from the corresponding X and Y column values in the worksheet.
</td></tr></table>
<h2><a name="Examples:"></a><span class="mw-headline"><font color="chocolate">Examples:</font></span></h2>
<p>This script converts a matrix to a worksheet using the matrix to regular XYZ format.  The mat.type property determines the type of data transfer from the worksheet to the matrix.  When mat.type = 0 or not specified (default), data copying follows the "X First" rule, i.e., the X axis of the matrix is the independent axis.  When mat.type is any integer greater than zero, data copying follows the "Y First" rule.  
</p>
<pre class="lt" style="font-family:monospace;"> <span style="color: #008000;">//Create a matrix</span>
win <span style="color: #000080;">-</span>t mat;
<span style="color: #008000;">//Set the dimensions to 10X10</span>
matrix <span style="color: #000080;">-</span>ps DIM <span style="color: #0000dd;">10</span> <span style="color: #0000dd;">10</span>;
<span style="color: #008000;">//Fill the cells of the matrix</span>
<span style="color: #000000;">&#40;</span><span style="color: #000080;">%</span>H<span style="color: #000000;">&#41;</span> <span style="color: #000080;">=</span> Data<span style="color: #000000;">&#40;</span><span style="color: #0000dd;">1</span>,<span style="color: #0000dd;">100</span>,<span style="color: #0000dd;">1</span><span style="color: #000000;">&#41;</span>;
mat.<span style="color: #000080;">matname</span><span style="color: #000080;">$</span> <span style="color: #000080;">=</span> <span style="color: #000080;">%</span>H;
<span style="color: #008000;">//Create an XYZ worksheet</span>
win <span style="color: #000080;">-</span>t wks xyz;
mat.<span style="color: #000080;">wksname</span><span style="color: #000080;">$</span> <span style="color: #000080;">=</span> <span style="color: #000080;">%</span>H;
mat.<span style="color: #000080;">type</span> <span style="color: #000080;">=</span> <span style="color: #0000dd;">1</span>;
<span style="color: #008000;">//Convert the matrix to regular XYZ format</span>
mat.<span style="color: #000080;">m2xyz</span><span style="color: #000000;">&#40;</span><span style="color: #000000;">&#41;</span>;</pre>
<p><b>Note</b>:&#160;%H is used only if the name of the window to be specified is the active window.  Otherwise, specify the name of the window enclosed in double quotes, such as "data1" and "matrix1".
</p><p>This script converts a worksheet to a matrix using the regular XYZ to matrix format.  X, Y, and Z columns for the matrix are specified within the worksheet.  The X column contains the independent data.  The Y column contains the dependent data.  The Z column contains data that are to be placed in the corresponding cells in the matrix.  
</p>
<pre class="lt" style="font-family:monospace;">mat.<span style="color: #000080;">wksname</span><span style="color: #000080;">$</span> <span style="color: #000080;">=</span> <span style="color: #000080;">%</span>H;
mat.<span style="color: #000080;">xcol</span> <span style="color: #000080;">=</span> <span style="color: #0000dd;">1</span>;
mat.<span style="color: #000080;">ycol</span> <span style="color: #000080;">=</span> <span style="color: #0000dd;">2</span>;
mat.<span style="color: #000080;">zcol</span> <span style="color: #000080;">=</span> <span style="color: #0000dd;">3</span>;
<span style="color: #008000;">//Create a new matrix</span>
win <span style="color: #000080;">-</span>t mat;
mat.<span style="color: #000080;">matname</span><span style="color: #000080;">$</span> <span style="color: #000080;">=</span> <span style="color: #000080;">%</span>H;
<span style="color: #008000;">//Convert the XYZ data to a matrix</span>
mat.<span style="color: #000080;">xyz2m</span><span style="color: #000000;">&#40;</span><span style="color: #000000;">&#41;</span>;</pre>
<p>This script converts a matrix to a worksheet using the column-row format.  The resultant worksheet is exactly the same as the matrix.  
</p>
<pre class="lt" style="font-family:monospace;">mat.<span style="color: #000080;">matname</span><span style="color: #000080;">$</span> <span style="color: #000080;">=</span> <span style="color: #000080;">%</span>H;
<span style="color: #008000;">//Create a new worksheet</span>
win <span style="color: #000080;">-</span>t wks;
mat.<span style="color: #000080;">wksname</span><span style="color: #000080;">$</span> <span style="color: #000080;">=</span> <span style="color: #000080;">%</span>H;
<span style="color: #008000;">//Convert the matrix directly to a worksheet</span>
mat.<span style="color: #000080;">m2W</span><span style="color: #000000;">&#40;</span><span style="color: #000000;">&#41;</span>;</pre>
<p>This script converts a worksheet to a matrix by correlation gridding.  
</p>
<pre class="lt" style="font-family:monospace;">mat.<span style="color: #000080;">grid</span>.<span style="color: #000080;">nmatcols</span> <span style="color: #000080;">=</span> <span style="color: #0000dd;">32</span>;
mat.<span style="color: #000080;">grid</span>.<span style="color: #000080;">nmatrows</span> <span style="color: #000080;">=</span> <span style="color: #0000dd;">32</span>;
mat.<span style="color: #000080;">grid</span>.<span style="color: #000080;">grsize</span> <span style="color: #000080;">=</span> <span style="color: #0000dd;">4</span>;
mat.<span style="color: #000080;">grid</span>.<span style="color: #000080;">gcsize</span> <span style="color: #000080;">=</span> <span style="color: #0000dd;">4</span>;
mat.<span style="color: #000080;">grid</span>.<span style="color: #000080;">average</span> <span style="color: #000080;">=</span> <span style="color: #0000dd;">0</span>;
mat.<span style="color: #000080;">grid</span>.<span style="color: #000080;">minquadra</span> <span style="color: #000080;">=</span> <span style="color: #0000dd;">3</span>;
mat.<span style="color: #000080;">grid</span>.<span style="color: #000080;">radius</span> <span style="color: #000080;">=</span> <span style="color: #0000dd;">2</span>;
mat.<span style="color: #000080;">grid</span>.<span style="color: #000080;">dcluster</span> <span style="color: #000080;">=</span> <span style="color: #0000dd;">3</span>;
mat.<span style="color: #000080;">grid</span>.<span style="color: #000080;">smooth</span> <span style="color: #000080;">=</span> .8;
mat.<span style="color: #000080;">xcol</span> <span style="color: #000080;">=</span> <span style="color: #0000dd;">1</span>;
mat.<span style="color: #000080;">ycol</span> <span style="color: #000080;">=</span> <span style="color: #0000dd;">2</span>;
mat.<span style="color: #000080;">zcol</span> <span style="color: #000080;">=</span> <span style="color: #0000dd;">3</span>;
mat.<span style="color: #000080;">wksname</span><span style="color: #000080;">$</span> <span style="color: #000080;">=</span> <span style="color: #000080;">%</span>H;
sum<span style="color: #000000;">&#40;</span>wcol<span style="color: #000000;">&#40;</span>mat.<span style="color: #000080;">xcol</span><span style="color: #000000;">&#41;</span><span style="color: #000000;">&#41;</span>;
xmax <span style="color: #000080;">=</span> sum.<span style="color: #000080;">max</span>;
xmin <span style="color: #000080;">=</span> sum.<span style="color: #000080;">min</span>;
limit <span style="color: #000080;">-</span>r xmin xmax <span style="color: #0000dd;">8</span>;
sum<span style="color: #000000;">&#40;</span>wcol<span style="color: #000000;">&#40;</span>mat.<span style="color: #000080;">ycol</span><span style="color: #000000;">&#41;</span><span style="color: #000000;">&#41;</span>;
ymax <span style="color: #000080;">=</span> sum.<span style="color: #000080;">max</span>;
ymin <span style="color: #000080;">=</span> sum.<span style="color: #000080;">min</span>;
limit <span style="color: #000080;">-</span>r ymin ymax <span style="color: #0000dd;">8</span>;
win <span style="color: #000080;">-</span>t m;
matrix <span style="color: #000080;">-</span>ps x xmin xmax;
matrix <span style="color: #000080;">-</span>ps y ymin ymax;
mat.<span style="color: #000080;">matname</span><span style="color: #000080;">$</span> <span style="color: #000080;">=</span> <span style="color: #000080;">%</span>H;
mat.<span style="color: #000080;">grid</span><span style="color: #000000;">&#40;</span>coo<span style="color: #000000;">&#41;</span>;</pre>


