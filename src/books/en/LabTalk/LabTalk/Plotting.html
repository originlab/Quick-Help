<h1 class="firstHeading">4.2.1 General Plotting Examples</h1><p class='urlname' style='display: none'>Plotting</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#LabTalk_Plotting_Examples"><span class="tocnumber">1</span> <span class="toctext">LabTalk Plotting Examples</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#plotgroup"><span class="tocnumber">1.1</span> <span class="toctext">plotgroup</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#plotmatrix"><span class="tocnumber">1.2</span> <span class="toctext">plotmatrix</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#plotstack"><span class="tocnumber">1.3</span> <span class="toctext">plotstack</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#plotxy"><span class="tocnumber">1.4</span> <span class="toctext">plotxy</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#plotxyz"><span class="tocnumber">1.5</span> <span class="toctext">plotxyz</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#plotm"><span class="tocnumber">1.6</span> <span class="toctext">plotm</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#plot_3D_box_and_sphere_using_plotm"><span class="tocnumber">1.7</span> <span class="toctext">plot 3D box and sphere using plotm</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#plotpClamp"><span class="tocnumber">1.8</span> <span class="toctext">plotpClamp</span></a></li>
</ul>
</li>
</ul>
</div>

<h2><a name="LabTalk_Plotting_Examples"></a><span class="mw-headline">LabTalk Plotting Examples</span></h2>
<h3><a name="plotgroup"></a><span class="mw-headline">plotgroup</span></h3>
<p>The plotgroup function creates 'graph groups' with 'layer groups' with 'dataplot groups' where variables (datasets) are used to determine the groups for each. To work properly, the worksheet should be sorted by the graph group data first, then the layer group data and finally the dataplot group data.
</p>
<pre class="lt" style="font-family:monospace;"><span style="color: #008000; font-style: regular;">/*
This example shows how to plot by group
The sample data is exe_path\Samples\Statistics\body.dat
1. Load sample data.
2. Sort worksheet.
3. Plot graphs.
*/</span>
<span style="color: #008000;">// Get the sample data</span>
fn<span style="color: #000080;">$</span> <span style="color: #000080;">=</span> system.<span style="color: #000080;">path</span>.<span style="color: #000080;">program</span><span style="color: #000080;">$</span> <span style="color: #000080;">+</span> <span style="color: #ff00ff;">&quot;Samples\Statistics\body.dat&quot;</span>;
newbook;
impASC fn<span style="color: #000080;">$</span>;
<span style="color: #008000;">// Sort worksheet - sorting is very important</span>
wsort bycol<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">3</span>;
<span style="color: #008000;">// Plot by group</span>
plotgroup iy<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #000000;">&#40;</span><span style="color: #0000dd;">4</span>,<span style="color: #0000dd;">5</span><span style="color: #000000;">&#41;</span> pgrp<span style="color: #000000;">:</span><span style="color: #000080;">=</span>Col<span style="color: #000000;">&#40;</span><span style="color: #0000dd;">3</span><span style="color: #000000;">&#41;</span>;
 
<span style="color: #008000; font-style: regular;">/* This next example creates graph windows based on one group
 and graph layers based on a second group
*/</span>
<span style="color: #008000;">// Bring in Sample data</span>
fn<span style="color: #000080;">$</span> <span style="color: #000080;">=</span> system.<span style="color: #000080;">path</span>.<span style="color: #000080;">program</span><span style="color: #000080;">$</span> <span style="color: #000080;">+</span> <span style="color: #ff00ff;">&quot;Samples\Graphing\Categorical Data.dat&quot;</span>;
newbook;
impASC fn<span style="color: #000080;">$</span>;
<span style="color: #008000;">// Sort</span>
dataset sortcol <span style="color: #000080;">=</span> <span style="color: #000000;">&#123;</span><span style="color: #0000dd;">4</span>,<span style="color: #0000dd;">3</span><span style="color: #000000;">&#125;</span>; <span style="color: #008000;">// sort by drug, then gender</span>
dataset sortord <span style="color: #000080;">=</span> <span style="color: #000000;">&#123;</span><span style="color: #0000dd;">1</span>,<span style="color: #0000dd;">1</span><span style="color: #000000;">&#125;</span>; <span style="color: #008000;">// both ascending sort</span>
wsort nest<span style="color: #000000;">:</span><span style="color: #000080;">=</span>sortcol ord<span style="color: #000000;">:</span><span style="color: #000080;">=</span>sortord;
<span style="color: #008000;">// Plot each drug in a separate graph with gender separated by layer</span>
plotgroup iy<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #000000;">&#40;</span><span style="color: #0000dd;">2</span>,<span style="color: #0000dd;">1</span><span style="color: #000000;">&#41;</span> pgrp<span style="color: #000000;">:</span><span style="color: #000080;">=</span>col<span style="color: #000000;">&#40;</span>drug<span style="color: #000000;">&#41;</span> lgrp<span style="color: #000000;">:</span><span style="color: #000080;">=</span>col<span style="color: #000000;">&#40;</span>gender<span style="color: #000000;">&#41;</span>;</pre>
<p>Note&#160;: Each group variable is optional. For example, you could use one group variable to organize data into layers by omitting Page Group and Data Group. The same sort order is important for whichever options you do use.
</p>
<h3><a name="plotmatrix"></a><span class="mw-headline">plotmatrix</span></h3>
<p>The plotmatrix function creates a Scatter Matrix plot. Each data member is plotted as Y against every other member as X.
The resulting plots are put into a worksheet grid. Options are available to include a confidence ellipse and to do a linear fit of each plot and report the correlation coefficient.
</p>
<pre class="lt" style="font-family:monospace;"><span style="color: #008000;">// Create a Scatter Matrix using columns 2, 3 and 5 of the specified Worksheet</span>
newbook na<span style="color: #000000;">:</span><span style="color: #000080;">=</span>PlotMatrixEX op<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">1</span>;
wo <span style="color: #000080;">-</span>a <span style="color: #0000dd;">3</span>;   <span style="color: #008000;">// Add 3 columns</span>
col<span style="color: #000000;">&#40;</span><span style="color: #0000dd;">1</span><span style="color: #000000;">&#41;</span><span style="color: #000080;">=</span>data<span style="color: #000000;">&#40;</span><span style="color: #0000dd;">1</span>,<span style="color: #0000dd;">30</span><span style="color: #000000;">&#41;</span>;
col<span style="color: #000000;">&#40;</span><span style="color: #0000dd;">2</span><span style="color: #000000;">&#41;</span><span style="color: #000080;">=</span>uniform<span style="color: #000000;">&#40;</span><span style="color: #0000dd;">30</span><span style="color: #000000;">&#41;</span>;
col<span style="color: #000000;">&#40;</span><span style="color: #0000dd;">3</span><span style="color: #000000;">&#41;</span><span style="color: #000080;">=</span>normal<span style="color: #000000;">&#40;</span><span style="color: #0000dd;">30</span><span style="color: #000000;">&#41;</span>;
col<span style="color: #000000;">&#40;</span><span style="color: #0000dd;">4</span><span style="color: #000000;">&#41;</span><span style="color: #000080;">=</span>uniform<span style="color: #000000;">&#40;</span><span style="color: #0000dd;">30</span><span style="color: #000000;">&#41;</span>;
col<span style="color: #000000;">&#40;</span><span style="color: #0000dd;">5</span><span style="color: #000000;">&#41;</span><span style="color: #000080;">=</span>col<span style="color: #000000;">&#40;</span><span style="color: #0000dd;">3</span><span style="color: #000000;">&#41;</span>;
plotmatrix
  irng<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #000000;">&#91;</span>PlotMatrixEX<span style="color: #000000;">&#93;</span>Sheet1<span style="color: #000080;">!</span><span style="color: #000000;">&#40;</span><span style="color: #0000dd;">2</span>,<span style="color: #0000dd;">3</span>,<span style="color: #0000dd;">5</span><span style="color: #000000;">&#41;</span>
  ellipse<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">1</span>
  conflevel<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">50</span>
  fit<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">1</span>;
 
<span style="color: #008000;">// Here we create a new book with sheets for our data and our graphs.</span>
<span style="color: #008000;">// We then use this same book for gathering Scatter Matrix results</span>
<span style="color: #008000;">// for columns 1 and 2 in all sheets in our source book.</span>
newbook na<span style="color: #000000;">:</span><span style="color: #000080;">=</span>PMEx2 op<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">1</span>;
repeat <span style="color: #0000dd;">3</span> newsheet;
loop<span style="color: #000000;">&#40;</span>ii,<span style="color: #0000dd;">1</span>,<span style="color: #0000dd;">4</span><span style="color: #000000;">&#41;</span> <span style="color: #000000;">&#123;</span>
    page.<span style="color: #000080;">active</span> <span style="color: #000080;">=</span> ii;     <span style="color: #008000;">// for each sheet</span>
    col<span style="color: #000000;">&#40;</span><span style="color: #0000dd;">1</span><span style="color: #000000;">&#41;</span> <span style="color: #000080;">=</span> uniform<span style="color: #000000;">&#40;</span><span style="color: #0000dd;">25</span><span style="color: #000000;">&#41;</span>;
    col<span style="color: #000000;">&#40;</span><span style="color: #0000dd;">2</span><span style="color: #000000;">&#41;</span> <span style="color: #000080;">=</span> uniform<span style="color: #000000;">&#40;</span><span style="color: #0000dd;">25</span><span style="color: #000000;">&#41;</span>;
<span style="color: #000000;">&#125;</span>
for<span style="color: #000000;">&#40;</span> ii <span style="color: #000080;">=</span> <span style="color: #0000dd;">1</span>&#160;; ii <span style="color: #000080;">&lt;=</span> <span style="color: #0000dd;">4</span>&#160;; ii<span style="color: #000080;">++</span><span style="color: #000000;">&#41;</span>
<span style="color: #000000;">&#123;</span>
  range rData <span style="color: #000080;">=</span> <span style="color: #000000;">&#91;</span>PMEx2<span style="color: #000000;">&#93;</span><span style="color: #000080;">$</span><span style="color: #000000;">&#40;</span>ii<span style="color: #000000;">&#41;</span><span style="color: #000080;">!</span><span style="color: #000000;">&#40;</span><span style="color: #0000dd;">1</span>,<span style="color: #0000dd;">2</span><span style="color: #000000;">&#41;</span>;
  plotmatrix
  irng<span style="color: #000000;">:</span><span style="color: #000080;">=</span>rData
  ellipse<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">1</span>
  conflevel<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">50</span>
  fit<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">1</span>
  rd<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #000000;">&#91;</span>STATS<span style="color: #000000;">&#93;</span>MyScatterData
  rt<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #000000;">&#91;</span>STATS<span style="color: #000000;">&#93;</span>MyScatterGraphs;
<span style="color: #000000;">&#125;</span></pre>
<h3><a name="plotstack"></a><span class="mw-headline">plotstack</span></h3>
<p>The plotstack function is used to create stacked plots from multiple datasets.
</p>
<pre class="lt" style="font-family:monospace;"><span style="color: #008000;">// Bring in some Sample data</span>
newbook;
string fn<span style="color: #000080;">$</span> <span style="color: #000080;">=</span> system.<span style="color: #000080;">path</span>.<span style="color: #000080;">program</span><span style="color: #000080;">$</span> <span style="color: #000080;">+</span> <span style="color: #ff00ff;">&quot;Samples\Graphing\Linked Layers 1.dat&quot;</span>;
impasc fname<span style="color: #000000;">:</span><span style="color: #000080;">=</span>fn<span style="color: #000080;">$</span>;
<span style="color: #000080;">%</span>N <span style="color: #000080;">=</span> <span style="color: #000080;">%</span>H;
<span style="color: #008000;">// Create a Stack plot of all columns vs column 1</span>
plotstack iy<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #000000;">&#40;</span><span style="color: #0000dd;">1</span>,<span style="color: #0000dd;">2</span><span style="color: #000000;">:</span>end<span style="color: #000000;">&#41;</span> plottype<span style="color: #000000;">:</span><span style="color: #000080;">=</span>line link<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">1</span> xlink<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">1</span>;

<span style="color: #008000;">// Create stack plot of column 2 vs. column 1 and column 4 vs. column 3</span>
win <span style="color: #000080;">-</span>a <span style="color: #000080;">%</span>N;
plotstack iy<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #000000;">&#40;</span><span style="color: #000000;">&#40;</span><span style="color: #0000dd;">1</span>,<span style="color: #0000dd;">2</span><span style="color: #000000;">&#41;</span>, <span style="color: #000000;">&#40;</span><span style="color: #0000dd;">3</span>,<span style="color: #0000dd;">4</span><span style="color: #000000;">&#41;</span><span style="color: #000000;">&#41;</span> plottype<span style="color: #000000;">:</span><span style="color: #000080;">=</span>column link<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">0</span>;

<span style="color: #008000;">// We can specify a template to use, but this template should be a single layer template</span>
<span style="color: #008000;">// as the function loads one instance of the template for each dataset.</span>
<span style="color: #008000;">// Plot Type should match your template if you wish to use its style holder.</span>
win <span style="color: #000080;">-</span>a <span style="color: #000080;">%</span>N;
plotstack iy<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #000000;">&#40;</span><span style="color: #000000;">&#40;</span><span style="color: #0000dd;">1</span>,<span style="color: #0000dd;">2</span><span style="color: #000000;">&#41;</span>,<span style="color: #000000;">&#40;</span><span style="color: #0000dd;">1</span>,<span style="color: #0000dd;">3</span><span style="color: #000000;">&#41;</span>,<span style="color: #000000;">&#40;</span><span style="color: #0000dd;">1</span>,<span style="color: #0000dd;">4</span><span style="color: #000000;">&#41;</span><span style="color: #000000;">&#41;</span> plottype<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">3</span> template<span style="color: #000000;">:</span><span style="color: #000080;">=</span>column;</pre>
<h3><a name="plotxy"></a><span class="mw-headline">plotxy</span></h3>
<p>The <a class="external text" href="../../XFunction/X-Function/Plotxy.html">plotxy</a> function is for general purpose plotting. Here are some examples:
</p>
<pre class="lt" style="font-family:monospace;"><span style="color: #008000;">// Begin with three sheets of six columns of data</span>
<span style="color: #008000;">// to be used in Examples 1 to 4</span>
newbook sheet<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">3</span>;
string bkName<span style="color: #000080;">$</span> <span style="color: #000080;">=</span> <span style="color: #000080;">%</span>H;
loop<span style="color: #000000;">&#40;</span>ii,<span style="color: #0000dd;">1</span>,page.<span style="color: #000080;">nlayers</span><span style="color: #000000;">&#41;</span> <span style="color: #000000;">&#123;</span>
    page.<span style="color: #000080;">active</span> <span style="color: #000080;">=</span> ii;
    wo <span style="color: #000080;">-</span>a <span style="color: #0000dd;">4</span>;
    col<span style="color: #000000;">&#40;</span><span style="color: #0000dd;">1</span><span style="color: #000000;">&#41;</span> <span style="color: #000080;">=</span> data<span style="color: #000000;">&#40;</span><span style="color: #0000dd;">1</span>,<span style="color: #0000dd;">30</span><span style="color: #000000;">&#41;</span>;
    col<span style="color: #000000;">&#40;</span><span style="color: #0000dd;">2</span><span style="color: #000000;">&#41;</span> <span style="color: #000080;">=</span> uniform<span style="color: #000000;">&#40;</span><span style="color: #0000dd;">30</span><span style="color: #000000;">&#41;</span>;
    col<span style="color: #000000;">&#40;</span><span style="color: #0000dd;">3</span><span style="color: #000000;">&#41;</span> <span style="color: #000080;">=</span> normal<span style="color: #000000;">&#40;</span><span style="color: #0000dd;">30</span><span style="color: #000000;">&#41;</span>;
    col<span style="color: #000000;">&#40;</span><span style="color: #0000dd;">4</span><span style="color: #000000;">&#41;</span> <span style="color: #000080;">=</span> <span style="color: #0000dd;">2</span> <span style="color: #000080;">*</span> col<span style="color: #000000;">&#40;</span><span style="color: #0000dd;">2</span><span style="color: #000000;">&#41;</span>;
    col<span style="color: #000000;">&#40;</span><span style="color: #0000dd;">5</span><span style="color: #000000;">&#41;</span> <span style="color: #000080;">=</span> <span style="color: #0000dd;">3</span> <span style="color: #000080;">*</span> col<span style="color: #000000;">&#40;</span><span style="color: #0000dd;">3</span><span style="color: #000000;">&#41;</span>;
    col<span style="color: #000000;">&#40;</span><span style="color: #0000dd;">6</span><span style="color: #000000;">&#41;</span> <span style="color: #000080;">=</span> col<span style="color: #000000;">&#40;</span><span style="color: #0000dd;">5</span><span style="color: #000000;">&#41;</span> <span style="color: #000080;">/</span> col<span style="color: #000000;">&#40;</span><span style="color: #0000dd;">4</span><span style="color: #000000;">&#41;</span>;
<span style="color: #000000;">&#125;</span>

<span style="color: #008000;">////////// Example 1 ////////////////////////////////////////</span>
<span style="color: #008000;">// Plot the third column of the active Worksheet</span>
plotxy <span style="color: #0000dd;">3</span>;
page.<span style="color: #000080;">label</span><span style="color: #000080;">$</span> <span style="color: #000080;">=</span> plotxy <span style="color: #0000dd;">3</span>;

<span style="color: #008000;">////////// Example 2 ////////////////////////////////////////</span>
<span style="color: #008000;">// Plot columns 3, 4 and 5 of the active Worksheet</span>
win <span style="color: #000080;">-</span>a <span style="color: #000080;">%</span><span style="color: #000000;">&#40;</span>bkName<span style="color: #000080;">$</span><span style="color: #000000;">&#41;</span>; <span style="color: #008000;">// Make Book active because plotxy does not specify Book</span>
plotxy <span style="color: #0000dd;">3</span><span style="color: #000000;">:</span><span style="color: #0000dd;">5</span>;

<span style="color: #008000;">// Plot columns 3, 4 and 5 of Sheet2 against column 2 as X</span>
<span style="color: #008000;">// Uses default to add new graph layer to active graph window</span>
plotxy <span style="color: #000000;">&#91;</span>bkname<span style="color: #000080;">$</span><span style="color: #000000;">&#93;</span>Sheet2<span style="color: #000080;">!</span><span style="color: #000000;">&#40;</span><span style="color: #0000dd;">2</span>,<span style="color: #0000dd;">3</span><span style="color: #000000;">:</span><span style="color: #0000dd;">5</span><span style="color: #000000;">&#41;</span>; <span style="color: #008000;">// plotxy specifies Book and Sheet so does not need to be active</span>

<span style="color: #008000;">// Re-arrange our two layers</span>
layarrange row<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">2</span> col<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">1</span> ygap<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">7</span> left<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">12</span> right<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">12</span> top<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">10</span> bottom<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">15</span>;
page.<span style="color: #000080;">label</span><span style="color: #000080;">$</span> <span style="color: #000080;">=</span> plotxy <span style="color: #0000dd;">3</span><span style="color: #000000;">:</span><span style="color: #0000dd;">5</span> and <span style="color: #000000;">&#91;</span><span style="color: #000080;">%</span><span style="color: #000000;">&#40;</span>bkname<span style="color: #000080;">$</span><span style="color: #000000;">&#41;</span><span style="color: #000000;">&#93;</span>Sheet2<span style="color: #000080;">!</span><span style="color: #000000;">&#40;</span><span style="color: #0000dd;">2</span>,<span style="color: #0000dd;">3</span><span style="color: #000000;">:</span><span style="color: #0000dd;">5</span><span style="color: #000000;">&#41;</span>;

<span style="color: #008000;">////////// Example 3 ////////////////////////////////////////</span>
<span style="color: #008000;">// Use special notation to</span>
<span style="color: #008000;">//    plot all y in a range&#160;: (?,1:end)</span>
<span style="color: #008000;">//    create a named graph from a template&#160;: [&lt;new template:=column.otp name:=MyGraph&gt;]</span>
plotxy <span style="color: #000000;">&#91;</span>bkname<span style="color: #000080;">$</span><span style="color: #000000;">&#93;</span>Sheet3<span style="color: #000080;">!</span><span style="color: #000000;">&#40;</span>?,<span style="color: #0000dd;">1</span><span style="color: #000000;">:</span>end<span style="color: #000000;">&#41;</span> pl<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">230</span> ogl<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #000000;">&#91;</span><span style="color: #000080;">&lt;</span>new template<span style="color: #000000;">:</span><span style="color: #000080;">=</span>column.<span style="color: #000080;">otp</span> name<span style="color: #000000;">:</span><span style="color: #000080;">=</span>MyGraph<span style="color: #000080;">&gt;</span><span style="color: #000000;">&#93;</span>;
page.<span style="color: #000080;">label</span><span style="color: #000080;">$</span> <span style="color: #000080;">=</span> plotxy <span style="color: #000000;">&#91;</span><span style="color: #000080;">%</span><span style="color: #000000;">&#40;</span>bkname<span style="color: #000080;">$</span><span style="color: #000000;">&#41;</span><span style="color: #000000;">&#93;</span>Sheet3<span style="color: #000080;">!</span><span style="color: #000000;">&#40;</span>?,<span style="color: #0000dd;">1</span><span style="color: #000000;">:</span>end<span style="color: #000000;">&#41;</span> pl<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">230</span> ogl<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #000000;">&#91;</span><span style="color: #000080;">&lt;</span>new template<span style="color: #000000;">:</span><span style="color: #000080;">=</span>column.<span style="color: #000080;">otp</span><span style="color: #000080;">&gt;</span><span style="color: #000000;">&#93;</span>;

<span style="color: #008000;">////////// Example 4 ////////////////////////////////////////</span>
<span style="color: #008000;">// You can use variables</span>
win <span style="color: #000080;">-</span>a <span style="color: #000080;">%</span><span style="color: #000000;">&#40;</span>bkname<span style="color: #000080;">$</span><span style="color: #000000;">&#41;</span>;
range rSheet <span style="color: #000080;">=</span> <span style="color: #000080;">$</span><span style="color: #000000;">&#40;</span>page.<span style="color: #000080;">active</span><span style="color: #000000;">&#41;</span><span style="color: #000080;">!</span>;
range rPage <span style="color: #000080;">=</span> rSheet.<span style="color: #000080;">GetPage</span><span style="color: #000000;">&#40;</span><span style="color: #000000;">&#41;</span><span style="color: #000080;">$</span>;
for<span style="color: #000000;">&#40;</span> ix <span style="color: #000080;">=</span> <span style="color: #0000dd;">1</span>&#160;; ix <span style="color: #000080;">&lt;</span> int<span style="color: #000000;">&#40;</span>rSheet.<span style="color: #000080;">NCOLS</span><span style="color: #000000;">&#41;</span>&#160;; ix <span style="color: #000080;">+</span><span style="color: #000080;">=</span> <span style="color: #0000dd;">2</span> <span style="color: #000000;">&#41;</span>
<span style="color: #000000;">&#123;</span>
   plotxy <span style="color: #000000;">&#91;</span><span style="color: #000080;">%</span><span style="color: #000000;">&#40;</span>rPage.<span style="color: #000080;">name</span><span style="color: #000080;">$</span><span style="color: #000000;">&#41;</span><span style="color: #000000;">&#93;</span><span style="color: #000080;">%</span><span style="color: #000000;">&#40;</span>rSheet.<span style="color: #000080;">name</span><span style="color: #000080;">$</span><span style="color: #000000;">&#41;</span><span style="color: #000080;">!</span><span style="color: #000000;">&#40;</span><span style="color: #000080;">$</span><span style="color: #000000;">&#40;</span>ix<span style="color: #000000;">&#41;</span>,<span style="color: #000080;">$</span><span style="color: #000000;">&#40;</span>ix<span style="color: #000080;">+</span><span style="color: #0000dd;">1</span><span style="color: #000000;">&#41;</span><span style="color: #000000;">&#41;</span> ogl<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">1</span>;
<span style="color: #000000;">&#125;</span>

<span style="color: #008000;">// Group the datasets in the layer to auto-color increment</span>
layer <span style="color: #000080;">-</span>g;
page.<span style="color: #000080;">label</span><span style="color: #000080;">$</span> <span style="color: #000080;">=</span> Using variables with plotxy;

<span style="color: #008000;">////////// Example 5 ////////////////////////////////////////</span>
<span style="color: #008000;">// Start with new data</span>
newbook template<span style="color: #000000;">:</span><span style="color: #000080;">=</span>origin.<span style="color: #000080;">otw</span>;
impasc fname<span style="color: #000000;">:</span><span style="color: #000080;">=</span>system.<span style="color: #000080;">path</span>.<span style="color: #000080;">program</span><span style="color: #000080;">$</span><span style="color: #000080;">+</span><span style="color: #ff00ff;">&quot;Samples\Curve Fitting\Activity.DAT&quot;</span> option.<span style="color: #000080;">names</span>.<span style="color: #000080;">FNameToBk</span><span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">0</span>;

<span style="color: #008000;">// Remember our book and sheet names</span>
string bkname<span style="color: #000080;">$</span> <span style="color: #000080;">=</span> page.<span style="color: #000080;">name</span><span style="color: #000080;">$</span>;
string shname<span style="color: #000080;">$</span> <span style="color: #000080;">=</span> layer.<span style="color: #000080;">name</span><span style="color: #000080;">$</span>;

<span style="color: #008000;">// Plot 3 ranges of column B into a specified graph template</span>
plotxy <span style="color: #000000;">&#91;</span>bkname<span style="color: #000080;">$</span><span style="color: #000000;">&#93;</span>shname<span style="color: #000080;">$!</span><span style="color: #000000;">&#40;</span><span style="color: #000000;">&#40;</span><span style="color: #0000dd;">1</span>,<span style="color: #0000dd;">2</span><span style="color: #000000;">&#91;</span><span style="color: #0000dd;">1</span><span style="color: #000000;">:</span><span style="color: #0000dd;">6</span><span style="color: #000000;">&#93;</span><span style="color: #000000;">&#41;</span>,<span style="color: #000000;">&#40;</span><span style="color: #0000dd;">1</span>,<span style="color: #0000dd;">2</span><span style="color: #000000;">&#91;</span><span style="color: #0000dd;">7</span><span style="color: #000000;">:</span><span style="color: #0000dd;">12</span><span style="color: #000000;">&#93;</span><span style="color: #000000;">&#41;</span>,<span style="color: #000000;">&#40;</span><span style="color: #0000dd;">1</span>,<span style="color: #0000dd;">2</span><span style="color: #000000;">&#91;</span><span style="color: #0000dd;">13</span><span style="color: #000000;">:</span><span style="color: #0000dd;">18</span><span style="color: #000000;">&#93;</span><span style="color: #000000;">&#41;</span><span style="color: #000000;">&#41;</span> plot<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">202</span> ogl<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #000000;">&#91;</span><span style="color: #000080;">&lt;</span>new template<span style="color: #000000;">:</span><span style="color: #000080;">=</span>doubley name<span style="color: #000000;">:</span><span style="color: #000080;">=</span>SamplePlot<span style="color: #000080;">&gt;</span><span style="color: #000000;">&#93;</span>;

<span style="color: #008000;">// Add 3 ranges of column C to the second layer of the template</span>
plotxy <span style="color: #000000;">&#91;</span>bkname<span style="color: #000080;">$</span><span style="color: #000000;">&#93;</span>shname<span style="color: #000080;">$!</span><span style="color: #000000;">&#40;</span><span style="color: #000000;">&#40;</span><span style="color: #0000dd;">1</span>,<span style="color: #0000dd;">3</span><span style="color: #000000;">&#91;</span><span style="color: #0000dd;">1</span><span style="color: #000000;">:</span><span style="color: #0000dd;">6</span><span style="color: #000000;">&#93;</span><span style="color: #000000;">&#41;</span>,<span style="color: #000000;">&#40;</span><span style="color: #0000dd;">1</span>,<span style="color: #0000dd;">3</span><span style="color: #000000;">&#91;</span><span style="color: #0000dd;">7</span><span style="color: #000000;">:</span><span style="color: #0000dd;">12</span><span style="color: #000000;">&#93;</span><span style="color: #000000;">&#41;</span>,<span style="color: #000000;">&#40;</span><span style="color: #0000dd;">1</span>,<span style="color: #0000dd;">3</span><span style="color: #000000;">&#91;</span><span style="color: #0000dd;">13</span><span style="color: #000000;">:</span><span style="color: #0000dd;">18</span><span style="color: #000000;">&#93;</span><span style="color: #000000;">&#41;</span><span style="color: #000000;">&#41;</span> plot<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">202</span> ogl<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">2</span>;

<span style="color: #008000;">// Rescale</span>
layer1.<span style="color: #000080;">x</span>.<span style="color: #000080;">from</span> <span style="color: #000080;">=</span> <span style="color: #0000dd;">2</span>;
layer1.<span style="color: #000080;">x</span>.<span style="color: #000080;">to</span> <span style="color: #000080;">=</span> <span style="color: #0000dd;">30</span>;
page.<span style="color: #000080;">label</span><span style="color: #000080;">$</span> <span style="color: #000080;">=</span> Multi<span style="color: #000080;">-</span>range plot;

<span style="color: #008000;">// Show all our graphs</span>
doc <span style="color: #000080;">-</span>e W <span style="color: #000000;">&#123;</span>
    win <span style="color: #000080;">-</span>i;
<span style="color: #000000;">&#125;</span>
win <span style="color: #000080;">-</span>s T;</pre>
<pre class="lt" style="font-family:monospace;"><span style="color: #008000;">// Plots a grouped plot where X values come from 1st worksheet</span>
<span style="color: #008000;">// and Y values come from 2nd sheet.</span>
<span style="color: #008000;">// Both sheets should have the same number of columns!</span>

<span style="color: #008000;">// Save name of active workbook.</span>
string sbook<span style="color: #000080;">$</span> <span style="color: #000080;">=</span> <span style="color: #000080;">%</span>H;

<span style="color: #008000;">// Number of cols in active sheet.</span>
int num_cols <span style="color: #000080;">=</span> wks.<span style="color: #000080;">ncols</span>;

<span style="color: #008000;">// Create a new graph.</span>
win <span style="color: #000080;">-</span>t plot;

<span style="color: #008000;">// Iterate through number of columns.</span>
for <span style="color: #000000;">&#40;</span>int ii <span style="color: #000080;">=</span> <span style="color: #0000dd;">1</span>; ii <span style="color: #000080;">&lt;=</span> num_cols; ii<span style="color: #000080;">++</span><span style="color: #000000;">&#41;</span>
<span style="color: #000000;">&#123;</span>
	<span style="color: #008000;">// Add a plot to the 1st layer of the new graph using</span>
	<span style="color: #008000;">// column index ii from sheet 1 as X and column index ii</span>
	<span style="color: #008000;">// from  sheet 2 as Y.</span>
	plotxy iy<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #000000;">&#91;</span>sbook<span style="color: #000080;">$</span><span style="color: #000000;">&#93;</span><span style="color: #000000;">&#40;</span><span style="color: #0000dd;">1</span><span style="color: #000080;">!$</span><span style="color: #000000;">&#40;</span>ii<span style="color: #000000;">&#41;</span>, <span style="color: #0000dd;">2</span><span style="color: #000080;">!$</span><span style="color: #000000;">&#40;</span>ii<span style="color: #000000;">&#41;</span><span style="color: #000000;">&#41;</span> plot<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">201</span> ogl<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #000080;">!</span><span style="color: #0000dd;">1</span>;
<span style="color: #000000;">&#125;</span>

<span style="color: #008000;">// Finally group the plots in the layer.</span>
layer <span style="color: #000080;">-</span>g;</pre>
<h3><a name="plotxyz"></a><span class="mw-headline">plotxyz</span></h3>
<p>X-function <a class="external text" href="../../XFunction/X-Function/Plotxyz.html#Additional_Information">plotxyz</a> is used to generate 3D plots from XYZ worksheet data. Examples follow:
</p>
<pre class="lt" style="font-family:monospace;"><span style="color: #008000;">////////// Example 1 ////////////////////////////////////////</span>
<span style="color: #008000;">//This example shows how to plot a 3D bar from discrete columns.</span>
<span style="color: #008000;">//Import the data file</span>
string fn<span style="color: #000080;">$</span><span style="color: #000080;">=</span>system.<span style="color: #000080;">path</span>.<span style="color: #000080;">program</span><span style="color: #000080;">$</span> <span style="color: #000080;">+</span> <span style="color: #ff00ff;">&quot;\Samples\Statistics\automobile.dat&quot;</span>; 
impasc fname<span style="color: #000000;">:</span><span style="color: #000080;">=</span>fn<span style="color: #000080;">$</span>; 
<span style="color: #008000;">//Set column types</span>
wks.<span style="color: #000080;">col3</span>.<span style="color: #000080;">type</span><span style="color: #000080;">=</span><span style="color: #0000dd;">6</span>;
wks.<span style="color: #000080;">col4</span>.<span style="color: #000080;">type</span><span style="color: #000080;">=</span><span style="color: #0000dd;">4</span>;
wks.<span style="color: #000080;">col6</span>.<span style="color: #000080;">type</span><span style="color: #000080;">=</span><span style="color: #0000dd;">1</span>;
<span style="color: #008000;">//Select columns from worksheet to generate 3D bar plot</span>
plotxyz iz<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #000000;">&#40;</span><span style="color: #0000dd;">4</span>,<span style="color: #0000dd;">6</span>,<span style="color: #0000dd;">3</span><span style="color: #000000;">&#41;</span> plot<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">242</span> ogl<span style="color: #000000;">:</span><span style="color: #000080;">=&lt;</span>new template<span style="color: #000000;">:</span><span style="color: #000080;">=</span>gl3dbars<span style="color: #000080;">&gt;</span>;
<span style="color: #008000;">//Turn off the speed mode and refresh the graph.</span>
layer.<span style="color: #000080;">maxpts</span><span style="color: #000080;">=</span><span style="color: #0000dd;">0</span>;
doc <span style="color: #000080;">-</span>uw;

<span style="color: #008000;">////////// Example 2 ////////////////////////////////////////</span>
<span style="color: #008000;">//This example will create a 3D colormap surface plot and generate a projection contour in the top.</span>
<span style="color: #008000;">//Import the data file</span>
string fn<span style="color: #000080;">$</span><span style="color: #000080;">=</span>system.<span style="color: #000080;">path</span>.<span style="color: #000080;">program</span><span style="color: #000080;">$</span> <span style="color: #000080;">+</span> <span style="color: #ff00ff;">&quot;\Samples\Graphing\Gaussian Surface.dat&quot;</span>; 
impasc fname<span style="color: #000000;">:</span><span style="color: #000080;">=</span>fn<span style="color: #000080;">$</span>; 
<span style="color: #008000;">//Set the third column as Z</span>
wks.<span style="color: #000080;">col3</span>.<span style="color: #000080;">type</span><span style="color: #000080;">=</span><span style="color: #0000dd;">6</span>;
plotxyz iz<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">3</span> plot<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">103</span> ogl<span style="color: #000000;">:</span><span style="color: #000080;">=&lt;</span>new template<span style="color: #000000;">:</span><span style="color: #000080;">=</span>glcmap<span style="color: #000080;">&gt;</span>;
layer <span style="color: #000080;">-</span>ip103 <span style="color: #000080;">%</span>c;
range rr <span style="color: #000080;">=</span> <span style="color: #0000dd;">2</span>;
set rr <span style="color: #000080;">-</span>spf <span style="color: #0000dd;">1</span>;
set rr <span style="color: #000080;">-</span>spz <span style="color: #0000dd;">100</span>;

<span style="color: #008000;">////////// Example 3 ////////////////////////////////////////</span>
<span style="color: #008000;">//The following example will plot three sub-ranges into one graph layer as 3D scatter.</span>
<span style="color: #008000;">//Import the data file</span>
string fn<span style="color: #000080;">$</span><span style="color: #000080;">=</span>system.<span style="color: #000080;">path</span>.<span style="color: #000080;">program</span><span style="color: #000080;">$</span> <span style="color: #000080;">+</span> <span style="color: #ff00ff;">&quot;\Samples\Statistics\Fisher's Iris Data.dat&quot;</span>; 
impasc fname<span style="color: #000000;">:</span><span style="color: #000080;">=</span>fn<span style="color: #000080;">$</span>; 
<span style="color: #008000;">//Set the third column as Z</span>
wks.<span style="color: #000080;">col3</span>.<span style="color: #000080;">type</span><span style="color: #000080;">=</span><span style="color: #0000dd;">6</span>;
<span style="color: #008000;">//Define the sub ranges</span>
range r1<span style="color: #000080;">=</span>col<span style="color: #000000;">&#40;</span><span style="color: #0000dd;">3</span><span style="color: #000000;">&#41;</span><span style="color: #000000;">&#91;</span><span style="color: #0000dd;">1</span><span style="color: #000000;">:</span><span style="color: #0000dd;">50</span><span style="color: #000000;">&#93;</span>;
range r2<span style="color: #000080;">=</span>col<span style="color: #000000;">&#40;</span><span style="color: #0000dd;">3</span><span style="color: #000000;">&#41;</span><span style="color: #000000;">&#91;</span><span style="color: #0000dd;">51</span><span style="color: #000000;">:</span><span style="color: #0000dd;">100</span><span style="color: #000000;">&#93;</span>;
range r3<span style="color: #000080;">=</span>col<span style="color: #000000;">&#40;</span><span style="color: #0000dd;">3</span><span style="color: #000000;">&#41;</span><span style="color: #000000;">&#91;</span><span style="color: #0000dd;">101</span><span style="color: #000000;">:</span>end<span style="color: #000000;">&#93;</span>;
<span style="color: #008000;">//Plot the 3D scatters respectively into the same layer</span>
plotxyz iz<span style="color: #000000;">:</span><span style="color: #000080;">=</span>r1 plot<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">240</span> ogl<span style="color: #000000;">:</span><span style="color: #000080;">=&lt;</span>new template<span style="color: #000000;">:</span><span style="color: #000080;">=</span>gl3d<span style="color: #000080;">&gt;</span>;
plotxyz iz<span style="color: #000000;">:</span><span style="color: #000080;">=</span>r2 plot<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">240</span> ogl<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #000000;">&#91;</span><span style="color: #000080;">%</span>H<span style="color: #000000;">&#93;</span><span style="color: #0000dd;">1</span><span style="color: #000080;">!</span>;
plotxyz iz<span style="color: #000000;">:</span><span style="color: #000080;">=</span>r3 plot<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">240</span> ogl<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #000000;">&#91;</span><span style="color: #000080;">%</span>H<span style="color: #000000;">&#93;</span><span style="color: #0000dd;">1</span><span style="color: #000080;">!</span>;
legendupdate;</pre>
<h3><a name="plotm"></a><span class="mw-headline">plotm</span></h3>
<p>X function <a class="external text" href="http://www.originlab.com/doc/X-Function/ref/plotm" target="_blank">plotm</a> plots a matrix into graph with a template customized by user.
</p>
<pre class="lt" style="font-family:monospace;">newbook name<span style="color: #000000;">:</span><span style="color: #000080;">=</span>MyMatrix mat<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">1</span>;
matrix <span style="color: #000080;">-</span>v x<span style="color: #000080;">^</span><span style="color: #0000dd;">2</span><span style="color: #000080;">-</span>y<span style="color: #000080;">^</span><span style="color: #0000dd;">2</span>;	
plotm im<span style="color: #000000;">:</span><span style="color: #000080;">=&lt;</span>active<span style="color: #000080;">&gt;</span> plot<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">103</span> ogl<span style="color: #000000;">:</span><span style="color: #000080;">=&lt;</span>new template<span style="color: #000000;">:</span><span style="color: #000080;">=</span>glcmap<span style="color: #000080;">&gt;</span>;</pre>
<p>The colormap of the 3D surface plot can be set from another matrix object by using <i>set&#160;%C -b3c</i> command.
</p>
<pre class="lt" style="font-family:monospace;">newbook name<span style="color: #000000;">:</span><span style="color: #000080;">=</span>CMap mat<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">1</span>;
matrix <span style="color: #000080;">-</span>v <span style="color: #0000dd;">10</span><span style="color: #000080;">*</span>x<span style="color: #000080;">+</span><span style="color: #0000dd;">10</span><span style="color: #000080;">*</span>y;    <span style="color: #008000;">//setup the matrix for colormap surface</span>
newbook name<span style="color: #000000;">:</span><span style="color: #000080;">=</span>MyMatrix mat<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">1</span>;
matrix <span style="color: #000080;">-</span>v x<span style="color: #000080;">^</span><span style="color: #0000dd;">2</span><span style="color: #000080;">+</span>y<span style="color: #000080;">^</span><span style="color: #0000dd;">2</span>;	<span style="color: #008000;">//setup the matrix for surface </span>
plotm im<span style="color: #000000;">:</span><span style="color: #000080;">=&lt;</span>active<span style="color: #000080;">&gt;</span> plot<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">103</span> ogl<span style="color: #000000;">:</span><span style="color: #000080;">=&lt;</span>new template<span style="color: #000000;">:</span><span style="color: #000080;">=</span>glcmap<span style="color: #000080;">&gt;</span>;  <span style="color: #008000;">//plot the surface matrix into 3D colormap surface</span>

range rr<span style="color: #000080;">=</span><span style="color: #000000;">&#91;</span>Cmap<span style="color: #000000;">&#93;</span><span style="color: #0000dd;">1</span><span style="color: #000080;">!</span><span style="color: #0000dd;">1</span>;  <span style="color: #008000;">//define the range</span>
set <span style="color: #000080;">%</span>C <span style="color: #000080;">-</span>b3c rr;  <span style="color: #008000;">//set the color map from anther matrix object</span></pre>
<h3><a name="plot_3D_box_and_sphere_using_plotm"></a><span class="mw-headline">plot 3D box and sphere using plotm</span></h3>
<p>The following code sample creates a 3D boxes and a sphere in a 3D layer. The box has six walls, and each wall is plotted as a 3D parametric function of a plane by <a class="external text" href="http://www.originlab.com/doc/X-Function/ref/plotm" target="_blank">plotm</a>. Mesh is enabled. The sphere is plotted with a specific radius and at the coordinates. 
</p>
<pre class="lt" style="font-family:monospace;"><span style="color: #008000;">//////////////////////////////////// Plot3DSphere /////////////////////////////////////////</span>
function int plotSphere<span style="color: #000000;">&#40;</span>ref string gg<span style="color: #000080;">$</span>, double dXc, double dYc, double dZc, double dR<span style="color: #000000;">&#41;</span> <span style="color: #000000;">&#123;</span>
	type <span style="color: #000080;">-</span>a Sphere  Center<span style="color: #000000;">:</span><span style="color: #000000;">&#123;</span><span style="color: #000080;">$</span><span style="color: #000000;">&#40;</span>dXc<span style="color: #000000;">&#41;</span>, <span style="color: #000080;">$</span><span style="color: #000000;">&#40;</span>dYc<span style="color: #000000;">&#41;</span>, <span style="color: #000080;">$</span><span style="color: #000000;">&#40;</span>dZc<span style="color: #000000;">&#41;</span><span style="color: #000000;">&#125;</span>, Radius<span style="color: #000000;">:</span><span style="color: #000080;">$</span><span style="color: #000000;">&#40;</span>dR<span style="color: #000000;">&#41;</span>;
	int newg <span style="color: #000080;">=</span> exist<span style="color: #000000;">&#40;</span>gname<span style="color: #000080;">$</span><span style="color: #000000;">&#41;</span><span style="color: #000080;">==</span><span style="color: #0000dd;">3</span>?<span style="color: #0000dd;">0</span><span style="color: #000000;">:</span><span style="color: #0000dd;">1</span>;
	string enu<span style="color: #000080;">$</span>, bk<span style="color: #000080;">$</span>;
	int npts <span style="color: #000080;">=</span> <span style="color: #0000dd;">30</span>;<span style="color: #008000;">//square matrix dim</span>
	create myx3 <span style="color: #000080;">-</span>fp2 npts <span style="color: #ff00ff;">&quot;dR*sin(v)*cos(u)+dXc&quot;</span> <span style="color: #000080;">-</span>pi<span style="color: #000080;">/</span><span style="color: #0000dd;">2</span> pi<span style="color: #000080;">/</span><span style="color: #0000dd;">2</span> npts <span style="color: #0000dd;">0</span> <span style="color: #0000dd;">2</span><span style="color: #000080;">*</span>pi; 
	create myy3 <span style="color: #000080;">-</span>fp2 npts <span style="color: #ff00ff;">&quot;dR*cos(v)*cos(u)+dYc&quot;</span> <span style="color: #000080;">-</span>pi<span style="color: #000080;">/</span><span style="color: #0000dd;">2</span> pi<span style="color: #000080;">/</span><span style="color: #0000dd;">2</span> npts <span style="color: #0000dd;">0</span> <span style="color: #0000dd;">2</span><span style="color: #000080;">*</span>pi;
	create myz3 <span style="color: #000080;">-</span>fp2 npts <span style="color: #ff00ff;">&quot;dR*sin(u)+dZc&quot;</span> <span style="color: #000080;">-</span>pi<span style="color: #000080;">/</span><span style="color: #0000dd;">2</span> pi<span style="color: #000080;">/</span><span style="color: #0000dd;">2</span> npts <span style="color: #0000dd;">0</span> <span style="color: #0000dd;">2</span><span style="color: #000080;">*</span>pi; 
	create FunSphere <span style="color: #000080;">-</span>mfp myz3 myx3 myy3 <span style="color: #ff00ff;">&quot;u,v&quot;</span>;
	enu<span style="color: #000080;">$</span> <span style="color: #000080;">=</span> mid<span style="color: #000000;">&#40;</span><span style="color: #000080;">%</span>H,<span style="color: #0000dd;">10</span><span style="color: #000000;">&#41;</span><span style="color: #000080;">$</span>;  <span style="color: #008000;">//obtain the enumeration part,&#160;%H holds the newly created active matrix window name</span>
	bb<span style="color: #000080;">$</span><span style="color: #000080;">=</span><span style="color: #ff00ff;">&quot;FunSphere&quot;</span><span style="color: #000080;">+</span>enu<span style="color: #000080;">$</span>;
	window <span style="color: #000080;">-</span>ch <span style="color: #0000dd;">1</span>;  <span style="color: #008000;">//hide matrix window</span>
	if<span style="color: #000000;">&#40;</span>exist<span style="color: #000000;">&#40;</span>gg<span style="color: #000080;">$</span><span style="color: #000000;">&#41;</span><span style="color: #000080;">==</span><span style="color: #0000dd;">3</span><span style="color: #000000;">&#41;</span>  <span style="color: #008000;">//graph existed</span>
		plotm im<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #000000;">&#91;</span><span style="color: #000080;">%</span><span style="color: #000000;">&#40;</span>bb<span style="color: #000080;">$</span><span style="color: #000000;">&#41;</span><span style="color: #000000;">&#93;</span><span style="color: #0000dd;">1</span><span style="color: #000080;">!</span><span style="color: #0000dd;">1</span> plot<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">103</span> x<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">2</span> y<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">3</span> ogl<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #000000;">&#91;</span>gg<span style="color: #000080;">$</span><span style="color: #000000;">&#93;</span><span style="color: #0000dd;">1</span><span style="color: #000080;">!</span>;
	else 
		plotm im<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #000000;">&#91;</span><span style="color: #000080;">%</span><span style="color: #000000;">&#40;</span>bb<span style="color: #000080;">$</span><span style="color: #000000;">&#41;</span><span style="color: #000000;">&#93;</span><span style="color: #0000dd;">1</span><span style="color: #000080;">!</span><span style="color: #0000dd;">1</span> plot<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">103</span> x<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">2</span> y<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">3</span>;   <span style="color: #008000;">//for lighting, use template with &quot;ogl:=&lt;new template:=EllipsoidLTCyan&gt;&quot; option</span>
	set <span style="color: #000080;">%</span><span style="color: #000000;">&#40;</span>bb<span style="color: #000080;">$</span><span style="color: #000000;">&#41;</span> <span style="color: #000080;">-</span>b3cc  <span style="color: #0000dd;">22</span>;  <span style="color: #008000;">//color: 22=LT Cyan</span>
	set <span style="color: #000080;">%</span><span style="color: #000000;">&#40;</span>bb<span style="color: #000080;">$</span><span style="color: #000000;">&#41;</span> <span style="color: #000080;">-</span>b3m <span style="color: #0000dd;">1</span>;<span style="color: #008000;">//0:No mesh, 1:Mesh</span>
	return <span style="color: #0000dd;">0</span>;
<span style="color: #000000;">&#125;</span>

<span style="color: #008000;">//////////////////////////////////// plotOneSide /////////////////////////////////////////</span>
function int plotOneSide<span style="color: #000000;">&#40;</span>string bb<span style="color: #000080;">$</span>, string gg<span style="color: #000080;">$</span>, int cc<span style="color: #000000;">&#41;</span> <span style="color: #000000;">&#123;</span>
	<span style="color: #008000;">//type -a In plotOneSide:  bb:&#160;%(bb$) gg:&#160;%(gg$);</span>
	if<span style="color: #000000;">&#40;</span>exist<span style="color: #000000;">&#40;</span>gg<span style="color: #000080;">$</span><span style="color: #000000;">&#41;</span><span style="color: #000080;">==</span><span style="color: #0000dd;">3</span><span style="color: #000000;">&#41;</span>  <span style="color: #008000;">//graph existed</span>
		plotm im<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #000000;">&#91;</span><span style="color: #000080;">%</span><span style="color: #000000;">&#40;</span>bb<span style="color: #000080;">$</span><span style="color: #000000;">&#41;</span><span style="color: #000000;">&#93;</span><span style="color: #0000dd;">1</span><span style="color: #000080;">!</span><span style="color: #0000dd;">1</span> plot<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">103</span> x<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">2</span> y<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">3</span> ogl<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #000000;">&#91;</span>gg<span style="color: #000080;">$</span><span style="color: #000000;">&#93;</span><span style="color: #0000dd;">1</span><span style="color: #000080;">!</span>;
	else 
		plotm im<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #000000;">&#91;</span><span style="color: #000080;">%</span><span style="color: #000000;">&#40;</span>bb<span style="color: #000080;">$</span><span style="color: #000000;">&#41;</span><span style="color: #000000;">&#93;</span><span style="color: #0000dd;">1</span><span style="color: #000080;">!</span><span style="color: #0000dd;">1</span> plot<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">103</span> x<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">2</span> y<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">3</span>;   <span style="color: #008000;">//for lighting, use template with &quot;ogl:=&lt;new template:=EllipsoidLTCyan&gt;&quot; option</span>
	set <span style="color: #000080;">%</span><span style="color: #000000;">&#40;</span>bb<span style="color: #000080;">$</span><span style="color: #000000;">&#41;</span> <span style="color: #000080;">-</span>b3cc cc;<span style="color: #008000;">//color</span>
	set <span style="color: #000080;">%</span><span style="color: #000000;">&#40;</span>bb<span style="color: #000080;">$</span><span style="color: #000000;">&#41;</span> <span style="color: #000080;">-</span>b3m <span style="color: #0000dd;">1</span>;<span style="color: #008000;">//0:No mesh, 1:Mesh</span>
	return <span style="color: #0000dd;">0</span>;
<span style="color: #000000;">&#125;</span>
<span style="color: #008000;">//////////////////////////////////// Plot3DBox /////////////////////////////////////////</span>
function int plot3DBox<span style="color: #000000;">&#40;</span>ref string gname<span style="color: #000080;">$</span>, double dX1, double dX2, double dY1, double dY2, double dZ1, double dZ2<span style="color: #000000;">&#41;</span> <span style="color: #000000;">&#123;</span>
	type <span style="color: #000080;">-</span>a 3DBox  X<span style="color: #000000;">:</span><span style="color: #000080;">$</span><span style="color: #000000;">&#40;</span>dX1<span style="color: #000000;">&#41;</span><span style="color: #000080;">==&gt;</span><span style="color: #000080;">$</span><span style="color: #000000;">&#40;</span>dX2<span style="color: #000000;">&#41;</span>, Y<span style="color: #000000;">:</span><span style="color: #000080;">$</span><span style="color: #000000;">&#40;</span>dY1<span style="color: #000000;">&#41;</span><span style="color: #000080;">==&gt;</span><span style="color: #000080;">$</span><span style="color: #000000;">&#40;</span>dY2<span style="color: #000000;">&#41;</span>, Z<span style="color: #000000;">:</span><span style="color: #000080;">$</span><span style="color: #000000;">&#40;</span>dZ1<span style="color: #000000;">&#41;</span><span style="color: #000080;">==&gt;</span><span style="color: #000080;">$</span><span style="color: #000000;">&#40;</span>dZ2<span style="color: #000000;">&#41;</span>;
	int newg <span style="color: #000080;">=</span> exist<span style="color: #000000;">&#40;</span>gname<span style="color: #000080;">$</span><span style="color: #000000;">&#41;</span><span style="color: #000080;">==</span><span style="color: #0000dd;">3</span>?<span style="color: #0000dd;">0</span><span style="color: #000000;">:</span><span style="color: #0000dd;">1</span>;
	string enu<span style="color: #000080;">$</span>, bk<span style="color: #000080;">$</span>;
	int npts <span style="color: #000080;">=</span> <span style="color: #0000dd;">5</span>;<span style="color: #008000;">//square matrix dim</span>
	<span style="color: #008000;">//// LEFT</span>
	<span style="color: #008000;">//Create 2D loose datasets of x, y and z for 3D parametric function plot</span>
	create myx <span style="color: #000080;">-</span>fp2 npts u dX1 dX2 npts dZ1 dZ2; 
	create myy <span style="color: #000080;">-</span>fp2 npts dY1 dX1 dX2 npts dZ1 dZ2;
	create myz <span style="color: #000080;">-</span>fp2 npts v dX1 dX2 npts dZ1 dZ2;
	<span style="color: #008000;">//Create matrices for left wall from 2D loose datasets for 3D parametric function plot</span>
	create FuncLeft <span style="color: #000080;">-</span>mfp myz myx myy <span style="color: #ff00ff;">&quot;u,v&quot;</span>;     <span style="color: #008000;">//create active matrix</span>
	<span style="color: #008000;">//create FuncLeft -mfph myz myx myy &quot;u,v&quot;;  //create hidden matrix, may need Origin 2017</span>
	<span style="color: #008000;">//////////////////////////////////////////////////</span>
	enu<span style="color: #000080;">$</span> <span style="color: #000080;">=</span> mid<span style="color: #000000;">&#40;</span><span style="color: #000080;">%</span>H,<span style="color: #0000dd;">9</span><span style="color: #000000;">&#41;</span><span style="color: #000080;">$</span>;  <span style="color: #008000;">//obtain the enumeration part,&#160;%H holds the newly created active matrix window name</span>
	window <span style="color: #000080;">-</span>ch <span style="color: #0000dd;">1</span>;       <span style="color: #008000;">//hide matrix window</span>
	<span style="color: #008000;">//enu$ = mid(&quot;%@N&quot;,9)$;  //obtain the enumeration part,&#160;%@N holds the newly created window name</span>
	<span style="color: #008000;">///////////////////////////////////////////////////</span>
	<span style="color: #008000;">//// RIGHT</span>
	<span style="color: #008000;">//Create 2D loose datasets of x, y and z for 3D parametric function plot</span>
	create myx <span style="color: #000080;">-</span>fp2 npts u dX2 dX1 npts dZ1 dZ2;     <span style="color: #008000;">//Outward Right face</span>
	create myy <span style="color: #000080;">-</span>fp2 npts dY2 dX1 dX2 npts dZ1 dZ2;
	create myz <span style="color: #000080;">-</span>fp2 npts v dX1 dX2 npts dZ1 dZ2;
	<span style="color: #008000;">//Create matrices for right wall from 2D loose datasets for 3D parametric function plot</span>
	create FuncRight <span style="color: #000080;">-</span>mfph myz myx myy <span style="color: #ff00ff;">&quot;u,v&quot;</span>;
	<span style="color: #008000;">////FRONT</span>
	<span style="color: #008000;">//Create 2D loose datasets of x, y and z for 3D parametric function plot</span>
	create myx <span style="color: #000080;">-</span>fp2 npts dX2 dY1 dY2 npts dZ1 dZ2;
	create myy <span style="color: #000080;">-</span>fp2 npts u dY1 dY2 npts dZ1 dZ2;
	create myz <span style="color: #000080;">-</span>fp2 npts v dY1 dY2 npts dZ1 dZ2;
	<span style="color: #008000;">//Create matrices for front wall from 2D loose datasets for 3D parametric function plot</span>
	create FuncFront <span style="color: #000080;">-</span>mfph myz myx myy <span style="color: #ff00ff;">&quot;u,v&quot;</span>;
	<span style="color: #008000;">//// BACK</span>
	<span style="color: #008000;">//Create 2D loose datasets of x, y and z for 3D parametric function plot</span>
	create myx <span style="color: #000080;">-</span>fp2 npts dX1 dY1 dY2 npts dZ1 dZ2;
	create myy <span style="color: #000080;">-</span>fp2 npts u dY2 dY1 npts dZ2 dZ1;   <span style="color: #008000;">//Outward Back face</span>
	create myz <span style="color: #000080;">-</span>fp2 npts v dY1 dY2 npts dZ1 dZ2;
	<span style="color: #008000;">//Create matrices for back wall from 2D loose datasets for 3D parametric function plot</span>
	create FuncBack <span style="color: #000080;">-</span>mfph myz myx myy <span style="color: #ff00ff;">&quot;u,v&quot;</span>;
	<span style="color: #008000;">//// TOP</span>
	<span style="color: #008000;">//Create 2D loose datasets of x, y and z for 3D parametric function plot</span>
	create myx <span style="color: #000080;">-</span>fp2 npts u dX1 dX2 npts dY1 dY2;
	create myy <span style="color: #000080;">-</span>fp2 npts v dX1 dX2 npts dY1 dY2;
	create myz <span style="color: #000080;">-</span>fp2 npts dZ2 dX1 dX2 npts dY1 dY2;
	<span style="color: #008000;">//Create matrices for top wall from 2D loose datasets for 3D parametric function plot</span>
	create FuncTop <span style="color: #000080;">-</span>mfph myz myx myy <span style="color: #ff00ff;">&quot;u,v&quot;</span>;
	<span style="color: #008000;">//// BOTTOM</span>
	<span style="color: #008000;">//Create 2D loose datasets of x, y and z for 3D parametric function plot</span>
	create myx <span style="color: #000080;">-</span>fp2 npts u dX2 dX1 npts dY1 dY2;   <span style="color: #008000;">//Outward Bottom face</span>
	create myy <span style="color: #000080;">-</span>fp2 npts v dX1 dX2 npts dY1 dY2;
	create myz <span style="color: #000080;">-</span>fp2 npts dZ1 dX1 dX2 npts dY1 dY2;
	<span style="color: #008000;">//Create matrices for bottom wall from 2D loose datasets for 3D parametric function plot</span>
	create FuncBottom <span style="color: #000080;">-</span>mfph myz myx myy <span style="color: #ff00ff;">&quot;u,v&quot;</span>;
	<span style="color: #008000;">//////////////////////////////////////////////////////////</span>
	<span style="color: #008000;">// Plot</span>
	if<span style="color: #000000;">&#40;</span>newg<span style="color: #000080;">==</span><span style="color: #0000dd;">0</span><span style="color: #000000;">&#41;</span> <span style="color: #000000;">&#123;</span>
	  win <span style="color: #000080;">-</span>o <span style="color: #000080;">%</span><span style="color: #000000;">&#40;</span>gname<span style="color: #000080;">$</span><span style="color: #000000;">&#41;</span> <span style="color: #000000;">&#123;</span>
		type <span style="color: #ff00ff;">&quot;&gt; Adding a plot of the Left face to the existing graph&#160;%(gname$)&quot;</span>;
		plotOneSide<span style="color: #000000;">&#40;</span><span style="color: #ff00ff;">&quot;FuncLeft&quot;</span><span style="color: #000080;">+</span>enu<span style="color: #000080;">$</span>, gname<span style="color: #000080;">$</span>, <span style="color: #0000dd;">5</span><span style="color: #000000;">&#41;</span>;
	  <span style="color: #000000;">&#125;</span>
	<span style="color: #000000;">&#125;</span>
	else <span style="color: #000000;">&#123;</span>
		plotOneSide<span style="color: #000000;">&#40;</span><span style="color: #ff00ff;">&quot;FuncLeft&quot;</span><span style="color: #000080;">+</span>enu<span style="color: #000080;">$</span>, gname<span style="color: #000080;">$</span>, <span style="color: #0000dd;">5</span><span style="color: #000000;">&#41;</span>;
		gname<span style="color: #000080;">$</span><span style="color: #000080;">=</span><span style="color: #000080;">%</span>H; <span style="color: #008000;">//hold the created graph window name</span>
		<span style="color: #008000;">//type &quot;&gt; Creating a new graph&#160;%(gname$) by plotting the Left face&quot;;</span>
	<span style="color: #000000;">&#125;</span>
	win <span style="color: #000080;">-</span>o <span style="color: #000080;">%</span><span style="color: #000000;">&#40;</span>gname<span style="color: #000080;">$</span><span style="color: #000000;">&#41;</span> <span style="color: #000000;">&#123;</span>
		<span style="color: #008000;">//type &quot;adding other faces to&#160;%(gname$)&quot;;</span>
		plotOneSide<span style="color: #000000;">&#40;</span><span style="color: #ff00ff;">&quot;FuncRight&quot;</span><span style="color: #000080;">+</span>enu<span style="color: #000080;">$</span>, gname<span style="color: #000080;">$</span>,<span style="color: #0000dd;">5</span><span style="color: #000000;">&#41;</span>; <span style="color: #008000;">//plot RIGHT wall in CYAN</span>
		plotOneSide<span style="color: #000000;">&#40;</span><span style="color: #ff00ff;">&quot;FuncFront&quot;</span><span style="color: #000080;">+</span>enu<span style="color: #000080;">$</span>, gname<span style="color: #000080;">$</span>,<span style="color: #0000dd;">4</span><span style="color: #000000;">&#41;</span>;  <span style="color: #008000;">//plot FRONT wall in BLUE</span>
		plotOneSide<span style="color: #000000;">&#40;</span><span style="color: #ff00ff;">&quot;FuncBack&quot;</span><span style="color: #000080;">+</span>enu<span style="color: #000080;">$</span>, gname<span style="color: #000080;">$</span>, <span style="color: #0000dd;">4</span><span style="color: #000000;">&#41;</span>;  <span style="color: #008000;">//plot BACK wall in BLUE</span>
		plotOneSide<span style="color: #000000;">&#40;</span><span style="color: #ff00ff;">&quot;FuncTop&quot;</span><span style="color: #000080;">+</span>enu<span style="color: #000080;">$</span>, gname<span style="color: #000080;">$</span>, <span style="color: #0000dd;">6</span><span style="color: #000000;">&#41;</span>;  <span style="color: #008000;">//plot TOP wall in MAGENTA</span>
		plotOneSide<span style="color: #000000;">&#40;</span><span style="color: #ff00ff;">&quot;FuncBottom&quot;</span><span style="color: #000080;">+</span>enu<span style="color: #000080;">$</span>, gname<span style="color: #000080;">$</span>,<span style="color: #0000dd;">6</span><span style="color: #000000;">&#41;</span>;  <span style="color: #008000;">//plot BOTTOM wall in MAGENTA</span>
	<span style="color: #000000;">&#125;</span>
	return <span style="color: #0000dd;">0</span>;
<span style="color: #000000;">&#125;</span>
<span style="color: #008000;">//////////////////////////////////////////////////</span>
<span style="color: #008000;">//                    MAIN                       //</span>
<span style="color: #008000;">//////////////////////////////////////////////////</span>
string str<span style="color: #000080;">$</span>;
plot3DBox<span style="color: #000000;">&#40;</span>str, <span style="color: #0000dd;">0</span>, <span style="color: #0000dd;">3</span>, <span style="color: #0000dd;">0</span>, <span style="color: #0000dd;">1.5</span>, <span style="color: #0000dd;">0</span>, <span style="color: #0000dd;">1</span><span style="color: #000000;">&#41;</span>;    <span style="color: #008000;">//to perform plot3DBox to create the first 3D box</span>
plotSphere<span style="color: #000000;">&#40;</span>str, <span style="color: #0000dd;">5</span>, <span style="color: #0000dd;">4</span>, <span style="color: #0000dd;">4</span>, <span style="color: #0000dd;">0.5</span><span style="color: #000000;">&#41;</span>;         <span style="color: #008000;">//to perform plotSphere to create a sphere</span>

<span style="color: #008000;">//due to timing issue, active window may not be our graph, so we need to use win -o</span>
win <span style="color: #000080;">-</span>o <span style="color: #000080;">%</span><span style="color: #000000;">&#40;</span>str<span style="color: #000080;">$</span><span style="color: #000000;">&#41;</span> <span style="color: #000000;">&#123;</span>
    x1<span style="color: #000080;">=</span><span style="color: #0000dd;">0</span>; x2<span style="color: #000080;">=</span><span style="color: #0000dd;">5</span>; y1<span style="color: #000080;">=</span><span style="color: #0000dd;">0</span>; y2<span style="color: #000080;">=</span><span style="color: #0000dd;">5</span>; z1<span style="color: #000080;">=</span><span style="color: #0000dd;">0</span>; z2<span style="color: #000080;">=</span><span style="color: #0000dd;">5</span>;  <span style="color: #008000;">//scale to make the boxes to the edges</span>
    win <span style="color: #000080;">-</span>a <span style="color: #000080;">%</span><span style="color: #000000;">&#40;</span>str<span style="color: #000080;">$</span><span style="color: #000000;">&#41;</span>;  <span style="color: #008000;">//Put the graph window to front as active</span>
<span style="color: #000000;">&#125;</span></pre>
<p><br />
</p>
<dl><dd><dl><dd><a  class="image"><img alt="Scr 3DBoxSphere.jpg" src="../images/Plotting/Scr_3DBoxSphere.jpg?v=34603" width="445"  /></a></dd></dl></dd></dl>
<h3><a name="plotpClamp"></a><span class="mw-headline">plotpClamp</span></h3>
<p>The <b>plotpclamp</b> function is exclusively for plotting data imported using pClamp import.
Here we bring in a sample pClamp file and plot without displaying the plot X-Function panel:
</p>
<pre class="lt" style="font-family:monospace;">fname<span style="color: #000080;">$</span><span style="color: #000080;">=</span>system.<span style="color: #000080;">path</span>.<span style="color: #000080;">program</span><span style="color: #000080;">$</span><span style="color: #000080;">+</span><span style="color: #ff00ff;">&quot;Samples\Import and Export\pCLAMP\93311C01.DAT&quot;</span>;
imppClamp;
plotpclamp <span style="color: #0000dd;">1</span><span style="color: #000000;">:</span>end tag<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">1</span> stimulur<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">1</span> septstim<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">0</span> ctrl<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">0</span> mode<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">2</span>;</pre>






