<h1 class="firstHeading">3.3.2.38 LR</h1><p class='urlname' style='display: none'>LR-cmd</p>
<p>This command performs a linear regression on dataset and its dependent X dataset.
</p>
<table class="noborder"><tr>
	<td style="vertical-align:top" width="60"><img src="../images/LR_(commmand)/Tip_icon.png?v=0" width="57"  border="0" /></td><td><p>Please see the <a class="external text" href="../../XFunction/X-Function/FitLR.html"><b>fitlr</b></a> X-Function.
</p></td></tr></table>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Syntax:"><span class="tocnumber">1</span> <span class="toctext">Syntax:</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Options:"><span class="tocnumber">2</span> <span class="toctext">Options:</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#no_option.3B_Perform_a_linear_regression_on_dataset"><span class="tocnumber">2.1</span> <span class="toctext">no option; Perform a linear regression on <i>dataset</i></span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#-b.2C_-e.3B_Perform_a_linear_regression_on_the_beginning_or_ending_linear_region_of_dataset"><span class="tocnumber">2.2</span> <span class="toctext">-b, -e; Perform a linear regression on the beginning or ending linear region of <i>dataset</i></span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#-n.3B_Perform_a_linear_regression_on_dataset_but_do_not_create_a_data_plot"><span class="tocnumber">2.3</span> <span class="toctext">-n; Perform a linear regression on <i>dataset</i> but do not create a data plot</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#-s.3B_Use_the_axis_scale_function_to_transform_the_data_before_performing_the_linear_regression"><span class="tocnumber">2.4</span> <span class="toctext">-s; Use the axis scale function to transform the data before performing the linear regression</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#-x.3B_Using_the_dataset_xdataset_as_X_values_to_perform_a_linear_regression"><span class="tocnumber">2.5</span> <span class="toctext">-x; Using the dataset <i>xdataset</i> as X values to perform a linear regression</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-8"><a href="#Examples:"><span class="tocnumber">3</span> <span class="toctext">Examples:</span></a></li>
</ul>
</div>

<h2><a name="Syntax:"></a><span class="mw-headline"><font color="chocolate">Syntax:</font></span></h2>
<pre class="lt" style="font-family:monospace;">lr  <span style="color: #000000;">&#91;</span>option<span style="color: #000000;">&#93;</span> dataset <span style="color: #000000;">&#91;</span>range<span style="color: #000000;">&#93;</span></pre>
<p>If the data is plotted in an active graph window, <b>lr</b> adds the data plot of the fitted curve to the graph window.  If the <b>Data Selector</b> tool was used to set the range, then the fit is performed over the selected range and the resulting curve displayed for the full range.  
</p><p><br />
<b>Note on LR Object Properties</b>
</p><p>The fitting results are stored in lr object properties.  To read the value of these properties, use the following syntax:
</p>
<dl><dd><dl><dd><dl><dd><dl><dd>lr.property =</dd></dl></dd></dl></dd></dl></dd></dl>
<p>The value of the property is returned in the Script window. The properties return a null value until the <code>lr</code> command has been executed. The <b>lr</b> object has the following properties:
</p>
<dl><dd><b>lr.b</b> -- Slope.</dd>
<dd><b>lr.a</b> -- Intercept.</dd>
<dd><b>lr.sdB</b> -- Standard deviation of slope.</dd>
<dd><b>lr.sdA</b> -- Standard deviation of intercept.</dd>
<dd><b>lr.sd</b>-- Standard deviation of the fit.</dd>
<dd><b>lr.r</b> -- Correlation coefficient.</dd>
<dd><b>lr.n</b> -- Number of points used in the fitting.</dd>
<dd><b>lr.chkLinearr</b> -- Sets the amount of tolerance in the automatic determination of linear segments from the data.  (See the -b and -e options.)</dd>
<dd><b>lr.maxLRange</b> -- Specifies the percentage of the entire data range to be examined by the find linear segment routine.  (See the -b and -e options.)</dd></dl>
<h2><a name="Options:"></a><span class="mw-headline"><font color="chocolate">Options:</font></span></h2>
<h3><a name="no_option.3B_Perform_a_linear_regression_on_dataset"></a><span class="mw-headline">no option; Perform a linear regression on <i>dataset</i></span></h3>
<p><b>Syntax:</b> lr <i>message</i>
</p><p>Perform a linear regression on <i>dataset</i>.
</p>
<h3><a name="-b.2C_-e.3B_Perform_a_linear_regression_on_the_beginning_or_ending_linear_region_of_dataset"></a><span class="mw-headline">-b, -e; Perform a linear regression on the beginning or ending linear region of <i>dataset</i></span></h3>
<p><b>Syntax:</b> lr <b>-b</b> <i>dataset</i>,<b>-e</b> <i>dataset</i>
</p><p>Perform a linear regression on the beginning or ending linear region of <i>dataset</i>.
</p>
<table class="note">

<tr>
<td><b>Note:</b>
<p>When you use the <b>lr -b</b> <i>dataset</i> or <b>lr -e</b> <i>dataset</i> commands to perform a linear regression on the beginning (b) or ending (e) linear region of dataset, the dataset is automatically searched for linearity, as determined by the following parameters that can be modified in the ORGSYS.CNF file: 
</p><p><b>lr.maxLRange</b>: The percentage of the entire data range to perform a linear regression on. For example, when lr.maxLRange = 40 (default) and dataset has 20 points, <b>lr -b</b> <i>dataset</i> performs a linear regression on the first 8 points in dataset, if these points meet the requirements of the <b>lr.chkLinearR</b> parameter.  Thus, if the fourth point is outside the tolerance set by <b>lr.chkLinearR</b>, then the <b>lr -b</b> <i>dataset</i> command would only perform a linear regression on the first three points in <i>dataset</i>.
</p><p><b>lr.chkLinearR</b>:  Sets the amount of tolerance in the automatic determination of linear segments.
</p>
</td></tr></table>
<h3><a name="-n.3B_Perform_a_linear_regression_on_dataset_but_do_not_create_a_data_plot"></a><span class="mw-headline">-n; Perform a linear regression on <i>dataset</i> but do not create a data plot</span></h3>
<p><b>Syntax:</b> lr <b>-n</b> <i>dataset [range]</i>
</p><p>Perform a linear regression on <i>dataset</i> but do not create a data plot of the fit line.
</p>
<h3><a name="-s.3B_Use_the_axis_scale_function_to_transform_the_data_before_performing_the_linear_regression"></a><span class="mw-headline">-s; Use the axis scale function to transform the data before performing the linear regression</span></h3>
<p><b>Syntax:</b> lr <b>-s</b> <i>dataset [range]</i>
</p><p>Use the axis scale function to transform the data before performing the linear regression.This allows you to do an apparent linear fit on data that is plotted against a nonlinear scale, for example, a Log 10 scale.
</p>
<h3><a name="-x.3B_Using_the_dataset_xdataset_as_X_values_to_perform_a_linear_regression"></a><span class="mw-headline">-x; Using the dataset <i>xdataset</i> as X values to perform a linear regression</span></h3>
<p><b>Syntax:</b> lr <b>-x</b> <i>dataset [range]</i>
</p><p>Perform a linear regression on <i>dataset</i>, using the dataset <i>xdataset</i> to supply the X values (independent variables).
</p>
<h2><a name="Examples:"></a><span class="mw-headline"><font color="chocolate">Examples:</font></span></h2>
<p>The following script performs a linear fit of dataset Data1_B beginning at the first data point and continuing until the end of the linear region.  It types the resulting slope and intercept to the Script window.
</p>
<pre class="lt" style="font-family:monospace;">lr col<span style="color: #000000;">&#40;</span><span style="color: #0000dd;">1</span><span style="color: #000000;">&#41;</span>;
type <span style="color: #ff00ff;">&quot;Slope is $(lr.b)&quot;</span>;
type <span style="color: #ff00ff;">&quot;Intercept is $(lr.a)&quot;</span>;</pre>


