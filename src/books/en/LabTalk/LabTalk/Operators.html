<h1 class="firstHeading">2.3.1.3 Operators</h1><p class='urlname' style='display: none'>Operators</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Introduction"><span class="tocnumber">1</span> <span class="toctext">Introduction</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Arithmetic_Operators"><span class="tocnumber">2</span> <span class="toctext">Arithmetic Operators</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Define_a_constant"><span class="tocnumber">2.1</span> <span class="toctext">Define a constant</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#A_Note_about_Logarithmic_Conversion"><span class="tocnumber">2.2</span> <span class="toctext">A Note about Logarithmic Conversion</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-5"><a href="#String_Concatenation"><span class="tocnumber">3</span> <span class="toctext">String Concatenation</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Assignment_Operators"><span class="tocnumber">4</span> <span class="toctext">Assignment Operators</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#Logical_and_Relational_Operators"><span class="tocnumber">5</span> <span class="toctext">Logical and Relational Operators</span></a>
<ul>
<li class="toclevel-2 tocsection-8"><a href="#Numeric_Comparison"><span class="tocnumber">5.1</span> <span class="toctext">Numeric Comparison</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#String_Comparison"><span class="tocnumber">5.2</span> <span class="toctext">String Comparison</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-10"><a href="#Conditional_Operator_.28.3F:.29"><span class="tocnumber">6</span> <span class="toctext">Conditional Operator (?:)</span></a></li>
<li class="toclevel-1 tocsection-11"><a href="#Performing_Calculations"><span class="tocnumber">7</span> <span class="toctext">Performing Calculations</span></a>
<ul>
<li class="toclevel-2 tocsection-12"><a href="#Scalar_Calculations"><span class="tocnumber">7.1</span> <span class="toctext"><span class="OIndex">Scalar Calculations</span></span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#Vector_CalculationsVector_Calculation"><span class="tocnumber">7.2</span> <span class="toctext">Vector Calculations<span class="OIndex" style="display:none">Vector Calculation</span></span></a>
<ul>
<li class="toclevel-3 tocsection-14"><a href="#Row-by-Row_CalculationsRow-by-Row_Calculations"><span class="tocnumber">7.2.1</span> <span class="toctext">Row-by-Row Calculations<span class="OIndex" style="display:none">Row-by-Row Calculations</span></span></a></li>
<li class="toclevel-3 tocsection-15"><a href="#Calculations_Using_InterpolationCalculation_Using_Interpolation"><span class="tocnumber">7.2.2</span> <span class="toctext">Calculations Using Interpolation<span class="OIndex" style="display:none">Calculation Using Interpolation</span></span></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>

<h2><a name="Introduction"></a><span class="mw-headline">Introduction</span></h2>
<p>LabTalk supports assignment, arithmetic, logical, relational, and conditional operators:
</p>
<table class="simple">

<tr>
<td> <b>Arithmetic Operators</b>
</td>
<td> &#160; + &#160;&#160;&#160; - &#160;&#160;&#160; * &#160;&#160;&#160; / &#160;&#160;&#160; ^ &#160;&#160;&#160; &amp; &#160;&#160;&#160; |
</td></tr>
<tr>
<td> <b>String Concatenation</b>
</td>
<td> &#160; +
</td></tr>
<tr>
<td> <b>Assignment Operators</b>
</td>
<td> &#160; = &#160;&#160;&#160; += &#160;&#160;&#160; -= &#160;&#160;&#160; *= &#160;&#160;&#160; /= &#160;&#160;&#160; ^=
</td></tr>
<tr>
<td> <b>Logical and Relational Operators</b>
</td>
<td> &#160; &gt; &#160;&#160;&#160; &gt;= &#160;&#160;&#160; &lt; &#160;&#160;&#160; &lt;= &#160;&#160;&#160; == &#160;&#160;&#160;&#160;!= &#160;&#160;&#160; &amp;&amp; &#160;&#160;&#160; ||
</td></tr>
<tr>
<td> <b>Conditional Operator</b>
</td>
<td> &#160;&#160;?&#160;:
</td></tr></table>
<p>These operations can be performed on scalars and in many cases they can also be performed on vectors (datasets). Origin also provides a variety of built-in numeric, trigonometric, and statistical <a href="../../LabTalk/Category/Function_Reference_(Labtalk).html" title="Category:Function Reference (Labtalk)">functions</a> which can act on <a href="../../LabTalk/LabTalk/Datasets_(object).html" title="LabTalk:Datasets (object)">datasets</a>.  
</p><p>When <span class="OIndex">evaluating an expression</span>, Origin observes the following precedence rules:
</p>
<ol><li>Exposed assignment operators (not within brackets) are evaluated.</li>
<li>Operations within brackets are evaluated before those outside brackets.</li>
<li>Multiplication and division are performed before addition and subtraction.</li>
<li>The (&gt;, &gt;=, &lt;, &lt;=) relational operators are evaluated, then the (== and&#160;!=) operators.</li>
<li>The logical operators || is prior to &amp;&amp;.</li>
<li>Conditional expressions (?:) are evaluated.</li></ol>
<h2><a name="Arithmetic_Operators"></a><span class="mw-headline">Arithmetic Operators</span></h2>
<p>Origin recognizes the following <span class="OIndex">arithmetic operator</span>s:
</p>
<table class="simple">
<tr>
<th> Operator
</th>
<th> Use
</th></tr>
<tr>
<td> <center>+</center>
</td>
<td> <span class="OIndex">Addition</span>
</td></tr>
<tr>
<td> <center>-</center>
</td>
<td> <span class="OIndex">Subtraction</span>
</td></tr>
<tr>
<td> <center>*</center>
</td>
<td> <span class="OIndex">Multiplication</span>
</td></tr>
<tr>
<td> <center>/</center>
</td>
<td> <span class="OIndex">Division</span>
</td></tr>
<tr>
<td> <center>^</center>
</td>
<td> <span class="OIndex">Exponentiate</span> (X^Y raises X to the Yth power) (see note below)
</td></tr>
<tr>
<td> <center>&amp;</center>
</td>
<td> Bitwise <span class="OIndex">And operator</span>. Acts on the binary bits of a number.
</td></tr>
<tr>
<td> <center>|</center>
</td>
<td> Bitwise <span class="OIndex">Or operator</span>. Acts on the binary bits of a number.
</td></tr></table>
<p><b>Note</b>: For 0 raised to the power n (0^n), if n &gt; 0, 0 is returned. If n &lt; 0, a missing value is returned. If n = 0, then 1 is returned (if @ZZ = 1) or a missing value is returned (if @ZZ = 0).
</p><p>These operations can be performed on scalars and on vectors (<a href="../../LabTalk/LabTalk/Data_Types_and_Variables.html#Dataset" title="LabTalk:Data Types and Variables">datasets</a>). For more information on scalar and vector calculations, see <a href="#Performing_Calculations">Performing Calculations</a> below. 
</p><p>The following example illustrates the use of the exponentiate operator:
Enter the following script in the <a href="../../LabTalk/Script/From_Script_and_Command_Window.html" title="Script:From Script and Command Window">Command window</a>: 
</p>
<pre class="lt" style="font-family:monospace;"><span style="color: #0000dd;">1.3</span> <span style="color: #000080;">^</span> <span style="color: #0000dd;">4.7</span> <span style="color: #000080;">=</span></pre>
<p>After pressing ENTER, 3.43189 is printed in the Command window.
The next example illustrates the use of the <b>bitwise and</b> operator. Enter the following script in the Command window:
</p>
<pre class="lt" style="font-family:monospace;">if <span style="color: #000000;">&#40;</span><span style="color: #0000dd;">27</span><span style="color: #000080;">&amp;</span><span style="color: #0000dd;">41</span> <span style="color: #000080;">==</span> <span style="color: #0000dd;">9</span><span style="color: #000000;">&#41;</span>
<span style="color: #000000;">&#123;</span>type <span style="color: #ff00ff;">&quot;Yes!&quot;</span><span style="color: #000000;">&#125;</span></pre>
<p>After pressing ENTER, <b>Yes!</b> is displayed in the Command window.  
</p><p><b>Note</b>: 27&amp;41 == 9 because
</p>
<pre class="lt" style="font-family:monospace;"><span style="color: #0000dd;">27</span> <span style="color: #000080;">=</span> 0000000000011011
<span style="color: #0000dd;">41</span> <span style="color: #000080;">=</span> 0000000000101001</pre>
<p>with bitwise &amp; yields:   
</p>
<pre class="lt" style="font-family:monospace;">0000000000001001 <span style="color: #000000;">&#40;</span>which is equal to <span style="color: #0000dd;">9</span><span style="color: #000000;">&#41;</span></pre>
<p><b>Note</b>:  Multiplication must be explicitly included in an expression. For example, 2*X must be used instead of 2X to indicate the multiplication of the variable X by the constant 2.
</p>
<h3><a name="Define_a_constant"></a><span class="mw-headline">Define a constant</span></h3>
<p>We can also define global constants in the CONST.CNF file under User File Folder:
</p>
<pre class="lt" style="font-family:monospace;"><span style="color: #008000;">//Euler's number</span>
const e <span style="color: #000080;">=</span> <span style="color: #0000dd;">2.718281828459045</span></pre>
<h3><a name="A_Note_about_Logarithmic_Conversion"></a><span class="mw-headline">A Note about Logarithmic Conversion</span></h3>
<ul><li>To convert a dataset to a logarithmic scale, use the following syntax:</li></ul>
<pre class="lt" style="font-family:monospace;">col<span style="color: #000000;">&#40;</span>c<span style="color: #000000;">&#41;</span> <span style="color: #000080;">=</span> log<span style="color: #000000;">&#40;</span>col<span style="color: #000000;">&#40;</span>c<span style="color: #000000;">&#41;</span><span style="color: #000000;">&#41;</span>;</pre>
<ul><li>To convert a dataset back to a linear scale, use the following syntax:</li></ul>
<pre class="lt" style="font-family:monospace;">col<span style="color: #000000;">&#40;</span>c<span style="color: #000000;">&#41;</span> <span style="color: #000080;">=</span> <span style="color: #0000dd;">10</span><span style="color: #000080;">^</span><span style="color: #000000;">&#40;</span>col<span style="color: #000000;">&#40;</span>c<span style="color: #000000;">&#41;</span><span style="color: #000000;">&#41;</span>;</pre>
<h2><a name="String_Concatenation"></a><span class="mw-headline">String Concatenation</span></h2>
<p>Very often you need to concatenate two or more strings of either the <a href="../../LabTalk/LabTalk/Data_Types_and_Variables.html#String_Variables" title="LabTalk:Data Types and Variables">string variable</a> or <a href="../../LabTalk/LabTalk/String_registers.html#.25.40_String_Registers" title="LabTalk:String registers">string register</a> type.  All of the code segments in this section return the string "Hello World."
</p><p>The <span class="OIndex">string concatenation</span> operator is the plus-sign (+), and can be used to concatenate two strings:
</p>
<pre class="lt" style="font-family:monospace;">aa<span style="color: #000080;">$</span> <span style="color: #000080;">=</span><span style="color: #ff00ff;">&quot;Hello&quot;</span>;
bb<span style="color: #000080;">$</span><span style="color: #000080;">=</span><span style="color: #ff00ff;">&quot;World&quot;</span>;
cc<span style="color: #000080;">$</span><span style="color: #000080;">=</span>aa<span style="color: #000080;">$</span><span style="color: #000080;">+</span><span style="color: #ff00ff;">&quot; &quot;</span><span style="color: #000080;">+</span>bb<span style="color: #000080;">$</span>;
cc<span style="color: #000080;">$</span><span style="color: #000080;">=</span>;</pre>
<p>To concatenate two <a href="../../LabTalk/LabTalk/String_registers.html#.25.40_String_Registers" title="LabTalk:String registers">string registers</a>, you can simply place them together:
</p>
<pre class="lt" style="font-family:monospace;"><span style="color: #000080;">%</span>J<span style="color: #000080;">=</span><span style="color: #ff00ff;">&quot;Hello&quot;</span>;
<span style="color: #000080;">%</span>k<span style="color: #000080;">=</span><span style="color: #ff00ff;">&quot;World&quot;</span>;
<span style="color: #000080;">%</span>L<span style="color: #000080;">=</span><span style="color: #000080;">%</span>J <span style="color: #000080;">%</span>k;
<span style="color: #000080;">%</span>L<span style="color: #000080;">=</span>;</pre>
<p>If you need to work with both a string variable and a string register, follow these examples utilizing <a href="../../LabTalk/LabTalk/String_Substitution.html" title="LabTalk:String Substitution">%( ) substitution</a>:
</p>
<pre class="lt" style="font-family:monospace;">aa<span style="color: #000080;">$</span> <span style="color: #000080;">=</span><span style="color: #ff00ff;">&quot;Hello&quot;</span>;
<span style="color: #000080;">%</span>K<span style="color: #000080;">=</span><span style="color: #ff00ff;">&quot;World&quot;</span>;
dd<span style="color: #000080;">$</span><span style="color: #000080;">=</span><span style="color: #000080;">%</span><span style="color: #000000;">&#40;</span>aa<span style="color: #000080;">$</span><span style="color: #000000;">&#41;</span> <span style="color: #000080;">%</span>K;
dd<span style="color: #000080;">$</span><span style="color: #000080;">=</span>;</pre>
<pre class="lt" style="font-family:monospace;">dd<span style="color: #000080;">$</span><span style="color: #000080;">=</span><span style="color: #000080;">%</span>K;
dd<span style="color: #000080;">$</span><span style="color: #000080;">=</span>aa<span style="color: #000080;">$</span><span style="color: #000080;">+</span><span style="color: #ff00ff;">&quot; &quot;</span><span style="color: #000080;">+</span>dd<span style="color: #000080;">$</span>;
dd<span style="color: #000080;">$</span><span style="color: #000080;">=</span>;</pre>
<pre class="lt" style="font-family:monospace;"><span style="color: #000080;">%</span>M<span style="color: #000080;">=</span><span style="color: #000080;">%</span><span style="color: #000000;">&#40;</span>aa<span style="color: #000080;">$</span><span style="color: #000000;">&#41;</span> <span style="color: #000080;">%</span>K;
<span style="color: #000080;">%</span>M<span style="color: #000080;">=</span>;</pre>
<h2><a name="Assignment_Operators"></a><span class="mw-headline">Assignment Operators</span></h2>
<p>Origin recognizes the following <span class="OIndex">assignment operator</span>s:
</p>
<table class="simple">
<tr>
<th> Operator
</th>
<th> Use
</th></tr>
<tr>
<td> <center>=</center>
</td>
<td> Simple assignment.
</td></tr>
<tr>
<td> <center>+=</center>
</td>
<td> Addition assignment.
</td></tr>
<tr>
<td> <center>-=</center>
</td>
<td> Subtraction assignment.
</td></tr>
<tr>
<td> <center>*=</center>
</td>
<td> Multiplication assignment.
</td></tr>
<tr>
<td> <center>/=</center>
</td>
<td> Division assignment.
</td></tr>
<tr>
<td> <center>^=</center>
</td>
<td> Exponential assignment.
</td></tr></table>
<p>These operations can be performed on scalars and on vectors (datasets). For more information on scalar and vector calculations, see <a href="../../LabTalk/LabTalk/Operators.html#Performing_Calculations" title="LabTalk:Operators">Performing Calculations</a> in this topic. 
</p><p>The following example illustrates the use of the <b>-=</b> operator.
</p><p>In this example, 5 is subtracted from the value of A and the result is assigned to A:
</p>
<pre class="lt" style="font-family:monospace;">A <span style="color: #000080;">-</span><span style="color: #000080;">=</span> <span style="color: #0000dd;">5</span>;</pre>
<p>In the next example, each value in Book1_B is divided by the corresponding value in Book1_A, and the resulting values are assigned to Book1_B.
</p>
<pre class="lt" style="font-family:monospace;">Book1_B <span style="color: #000080;">/</span><span style="color: #000080;">=</span> Book1_A;</pre>
<p>In addition to these assignment operators, LabTalk also supports the <span class="OIndex">increment and decrement operators</span> for scalar calculations (not vector).  
</p>
<table class="simple">
<tr>
<th> Operator
</th>
<th> Use
</th></tr>
<tr>
<td> <center>++</center>
</td>
<td> Add 1 to the variable contents and assign to the variable.
</td></tr>
<tr>
<td> <center>--</center>
</td>
<td> Subtract 1 from the variable contents and assign to the variable.
</td></tr></table>
<p>The following <b><a href="../../LabTalk/LabTalk/Flow_of_Control.html#For" title="LabTalk:Flow of Control">for</a></b> loop expression illustrates a common use of the increment operator ++. The script prints the data stored in the second column of the current worksheet to the Command window: 
</p>
<pre class="lt" style="font-family:monospace;">for <span style="color: #000000;">&#40;</span>ii <span style="color: #000080;">=</span> <span style="color: #0000dd;">1</span>; ii <span style="color: #000080;">&lt;=</span> wks.<span style="color: #000080;">maxrows</span>; ii<span style="color: #000080;">++</span><span style="color: #000000;">&#41;</span>
   <span style="color: #000000;">&#123;</span>type <span style="color: #000000;">&#40;</span><span style="color: #000080;">$</span><span style="color: #000000;">&#40;</span>col<span style="color: #000000;">&#40;</span><span style="color: #0000dd;">2</span><span style="color: #000000;">&#41;</span><span style="color: #000000;">&#91;</span>ii<span style="color: #000000;">&#93;</span><span style="color: #000000;">&#41;</span><span style="color: #000000;">&#41;</span>; <span style="color: #000000;">&#125;</span></pre>
<h2><a name="Logical_and_Relational_Operators"></a><span class="mw-headline">Logical and Relational Operators</span></h2>
<p>Origin recognizes the following <span class="OIndex">logical and relational operators</span>:
</p>
<table class="simple">
<tr>
<th> Operator
</th>
<th> Use
</th></tr>
<tr>
<td> <center>&gt;</center>
</td>
<td> Greater than
</td></tr>
<tr>
<td> <center>&gt;=</center>
</td>
<td> Greater than or equal to
</td></tr>
<tr>
<td> <center>&lt;</center>
</td>
<td> Less than
</td></tr>
<tr>
<td> <center>&lt;=</center>
</td>
<td> Less than or equal to
</td></tr>
<tr>
<td> <center>==</center>
</td>
<td> Equal to
</td></tr>
<tr>
<td> <center>!=</center>
</td>
<td> Not equal to
</td></tr>
<tr>
<td> <center>&amp;&amp;</center>
</td>
<td> And
</td></tr>
<tr>
<td> <center>||</center>
</td>
<td> Or
</td></tr></table>
<p>An expression involving logical or relational operators evaluates to either true (non-zero) or false (zero).  Logical operators are almost always found in the context of <a href="../../LabTalk/LabTalk/Flow_of_Control.html" title="LabTalk:Flow of Control">Conditional and Loop Structures</a>.
</p>
<h3><a name="Numeric_Comparison"></a><span class="mw-headline">Numeric Comparison</span></h3>
<p>The most common comparison is between two numeric values.  Generally, at least one is a variable.  For instance:
</p>
<pre class="lt" style="font-family:monospace;">if aa<span style="color: #000080;">&lt;</span><span style="color: #0000dd;">3</span> type <span style="color: #ff00ff;">&quot;aa&lt;3&quot;</span>;</pre>
<p>Or, both items being compared can be variables:
</p>
<pre class="lt" style="font-family:monospace;">if aa<span style="color: #000080;">&lt;=</span>bb type <span style="color: #ff00ff;">&quot;aa&lt;=bb&quot;</span>;</pre>
<p>It is also possible, using parentheses, to make multiple comparisons in the same logical statement:
</p>
<pre class="lt" style="font-family:monospace;">if <span style="color: #000000;">&#40;</span>aa<span style="color: #000080;">&lt;</span><span style="color: #0000dd;">3</span> <span style="color: #000080;">&amp;&amp;</span> aa<span style="color: #000080;">&lt;</span>bb<span style="color: #000000;">&#41;</span> type <span style="color: #ff00ff;">&quot;aa is lower&quot;</span>;</pre>
<h3><a name="String_Comparison"></a><span class="mw-headline">String Comparison</span></h3>
<p>You can use the == and&#160;!= operators to compare two strings.  String comparison (rather than numeric comparison) is indicated by open and close double quotations (" ") either before, or after, the operator. 
The following script determines if the&#160;%A string is empty:
</p>
<pre class="lt" style="font-family:monospace;">if <span style="color: #000000;">&#40;</span><span style="color: #000080;">%</span>A <span style="color: #000080;">==</span> <span style="color: #ff00ff;">&quot;&quot;</span><span style="color: #000000;">&#41;</span><span style="color: #000000;">&#123;</span>type <span style="color: #ff00ff;">&quot;empty&quot;</span><span style="color: #000000;">&#125;</span>;</pre>
<p>The following examples illustrates the use of the == operator:
</p>
<pre class="lt" style="font-family:monospace;">x <span style="color: #000080;">=</span> <span style="color: #0000dd;">1</span>;     <span style="color: #008000;">// variable x is set to 1 </span>
<span style="color: #000080;">%</span>a <span style="color: #000080;">=</span> x;    <span style="color: #008000;">// string a is set to &quot;x&quot; </span>
if <span style="color: #000000;">&#40;</span><span style="color: #000080;">%</span>a <span style="color: #000080;">==</span> <span style="color: #0000dd;">1</span><span style="color: #000000;">&#41;</span>;
      type <span style="color: #ff00ff;">&quot;yes&quot;</span>;
else
      type <span style="color: #ff00ff;">&quot;no&quot;</span>;</pre>
<p>The result will be yes, because Origin looks for the value of&#160;%a (the value of x), which is 1.
In the following script:
</p>
<pre class="lt" style="font-family:monospace;">x <span style="color: #000080;">=</span> <span style="color: #0000dd;">1</span>;     <span style="color: #008000;">// variable x is set to 1 </span>
<span style="color: #000080;">%</span>a <span style="color: #000080;">=</span> x;    <span style="color: #008000;">// string a is set to &quot;x&quot; </span>
if <span style="color: #000000;">&#40;</span><span style="color: #ff00ff;">&quot;%a&quot;</span> <span style="color: #000080;">==</span> <span style="color: #0000dd;">1</span><span style="color: #000000;">&#41;</span>
      type <span style="color: #ff00ff;">&quot;yes&quot;</span>;
else
      type <span style="color: #ff00ff;">&quot;no&quot;</span>;</pre>
<p>The result will be no, because Origin finds the quotation marks around&#160;%a, and therefore treats it as a string, which has a character x, rather than the value 1.
</p>
<h2><a name="Conditional_Operator_.28.3F:.29"></a><span class="mw-headline">Conditional Operator (?:)</span></h2>
<p>The <span class="OIndex">ternary operator</span>  or <span class="OIndex">conditional operator</span> (?:)  can be used in the form:
</p><p><b><i>Expression1</i>&#160;? <i>Expression2</i>&#160;: <i>Expression3</i></b>
</p><p>This expression first evaluates Expression1.  If Expression1 is true (non-zero), Expression2 is evaluated.  The value of Expression2 becomes the value for the conditional expression.  If Expression1 is false (zero), then Expression3 is evaluated and Expression3 becomes the value for the entire conditional expression.
Note that Expressions1 and Expressions2 can themselves be conditional operators.
The following example assigns the value which is greater (m or n), to variable:
</p>
<pre class="lt" style="font-family:monospace;">m <span style="color: #000080;">=</span> <span style="color: #0000dd;">2</span>;
n <span style="color: #000080;">=</span> <span style="color: #0000dd;">3</span>;
variable <span style="color: #000080;">=</span> <span style="color: #000000;">&#40;</span>m<span style="color: #000080;">&gt;</span>n?m<span style="color: #000000;">:</span>n<span style="color: #000000;">&#41;</span>;
variable <span style="color: #000080;">=</span></pre>
<p>LabTalk returns:  
<b>variable = 3</b>
</p><p>In this example, the script replaces all column A values between 5.5 and 5.9 with 5.6:
</p>
<pre class="lt" style="font-family:monospace;">col<span style="color: #000000;">&#40;</span>A<span style="color: #000000;">&#41;</span> <span style="color: #000080;">=</span> col<span style="color: #000000;">&#40;</span>A<span style="color: #000000;">&#41;</span><span style="color: #000080;">&gt;</span><span style="color: #0000dd;">5.5</span><span style="color: #000080;">&amp;&amp;</span>col<span style="color: #000000;">&#40;</span>A<span style="color: #000000;">&#41;</span><span style="color: #000080;">&lt;</span><span style="color: #0000dd;">5.9</span>?<span style="color: #0000dd;">5.6</span><span style="color: #000000;">:</span>col<span style="color: #000000;">&#40;</span>A<span style="color: #000000;">&#41;</span>;</pre>
<p>Note:  A Threshold Replace function <b>tReplace(dataset, value1, value2 [, condition])</b> is also available for reviewing values in a dataset and replacing them with other values based on a condition.  In the tReplace(dataset, value1, value2 [, condition]) function, each value in the dataset is compared to value1 according to the condition.  When the comparison is true, the value may be replaced with Value2 or -Value2 depending on the value of condition.  When the comparison is false, the value is retained or replaced with a missing value depending on the value of condition.  The treplace() function is much faster than the ternary operator. See <a href="../../LabTalk/LabTalk/TReplace_(function).html" title="LabTalk:TReplace (function)">tReplace()</a>.
</p>
<h2><a name="Performing_Calculations"></a><span class="mw-headline">Performing Calculations</span></h2>
<p>You can use LabTalk to perform both 
</p>
<ul><li> scalar calculations (<span class="OIndex">mathematical operations</span> on a single variable), and</li></ul>
<ul><li> vector calculations (mathematical operations on entire datasets).</li></ul>
<h3><a name="Scalar_Calculations"></a><span class="mw-headline"><span class="OIndex">Scalar Calculations</span></span></h3>
<p>You can use LabTalk to express a calculation and store the result in a numeric variable.  For example, consider the following script:
</p>
<pre class="lt" style="font-family:monospace;">inputVal <span style="color: #000080;">=</span> <span style="color: #0000dd;">21</span>;
myResult <span style="color: #000080;">=</span> <span style="color: #0000dd;">4</span> <span style="color: #000080;">*</span> <span style="color: #0000dd;">32</span> <span style="color: #000080;">*</span> inputVal;</pre>
<p>The second line of this example performs a calculation and creates the variable, myResult.  The value of the calculation is stored in myResult.
</p><p>When a variable is used as an operand, and will store a result, shorthand notation can be used.  For example, the following script:
</p>
<pre class="lt" style="font-family:monospace;">B <span style="color: #000080;">=</span> B <span style="color: #000080;">*</span> <span style="color: #0000dd;">3</span>;</pre>
<p>could also be written:
</p>
<pre class="lt" style="font-family:monospace;">B <span style="color: #000080;">*</span><span style="color: #000080;">=</span> <span style="color: #0000dd;">3</span>;</pre>
<p>In this example, multiplication is performed with the result assigned to the variable B.  Similarly, you can use +=, -=, /=, and ^=.  Using shorthand notation produces script that executes faster.
</p>
<h3><a name="Vector_CalculationsVector_Calculation"></a><span class="mw-headline">Vector Calculations<span class="OIndex" style="display:none">Vector Calculation</span></span></h3>
<p>In addition to performing calculations and storing the result in a variable (scalar calculation), you can use LabTalk to perform calculations on entire datasets as well.
</p><p>Vector calculations can be performed in one of two ways: (1) strictly row-by-row, or (2) using linear interpolation. 
</p>
<h4><a name="Row-by-Row_CalculationsRow-by-Row_Calculations"></a><span class="mw-headline">Row-by-Row Calculations<span class="OIndex" style="display:none">Row-by-Row Calculations</span></span></h4>
<p>Vector calculations are always performed row-by-row when you use the two general notations:
</p><p><b>datasetB = scalarOrConstant &lt;operator&gt; datasetA;</b>
</p><p><b>datasetC = datasetA &lt;operator&gt; datasetB;</b>
</p><p>This is the case even if the datasets have a different numbers of elements. Suppose there are three empty columns in your worksheet: A, B, and C. Run the following script:
</p>
<pre class="lt" style="font-family:monospace;">col<span style="color: #000000;">&#40;</span>a<span style="color: #000000;">&#41;</span> <span style="color: #000080;">=</span> <span style="color: #000000;">&#123;</span><span style="color: #0000dd;">1</span>, <span style="color: #0000dd;">2</span>, <span style="color: #0000dd;">3</span><span style="color: #000000;">&#125;</span>;
col<span style="color: #000000;">&#40;</span>b<span style="color: #000000;">&#41;</span> <span style="color: #000080;">=</span> <span style="color: #000000;">&#123;</span><span style="color: #0000dd;">4</span>, <span style="color: #0000dd;">5</span><span style="color: #000000;">&#125;</span>;
col<span style="color: #000000;">&#40;</span>c<span style="color: #000000;">&#41;</span> <span style="color: #000080;">=</span> col<span style="color: #000000;">&#40;</span>a<span style="color: #000000;">&#41;</span> <span style="color: #000080;">+</span> col<span style="color: #000000;">&#40;</span>b<span style="color: #000000;">&#41;</span>;</pre>
<p>The result in column C will be {5, 7, --}. That is, Origin outputs a missing value for rows in which one or both datasets do not contain a value.
</p><p>Vector calculations can also involve a scalar. In the above example, type:
</p>
<pre class="lt" style="font-family:monospace;">col<span style="color: #000000;">&#40;</span>c<span style="color: #000000;">&#41;</span> <span style="color: #000080;">=</span> <span style="color: #0000dd;">2</span> <span style="color: #000080;">*</span> col<span style="color: #000000;">&#40;</span>a<span style="color: #000000;">&#41;</span>;</pre>
<p>Column A is multiplied by 2 and the results are put into the corresponding rows of column C.
</p><p>Instead, execute the following script (assuming <i>newData</i> does not previously exist):
</p>
<pre class="lt" style="font-family:monospace;">newData <span style="color: #000080;">=</span> <span style="color: #0000dd;">3</span> <span style="color: #000080;">*</span> Book1_A;</pre>
<p>A temporary dataset called <i>newData</i> is created and assigned the result of the vector operation.
</p>
<h4><a name="Calculations_Using_InterpolationCalculation_Using_Interpolation"></a><span class="mw-headline">Calculations Using Interpolation<span class="OIndex" style="display:none">Calculation Using Interpolation</span></span></h4>
<p>Origin supports interpolation through <a href="../../LabTalk/LabTalk/Range_Notation.html" title="LabTalk:Range Notation">range notation</a> and X-Functions such as  <a class="external text" href="../../XFunction/X-Function/Interp1.html">interp1</a> and <a class="external text" href="../../XFunction/X-Function/Interp1xy.html">interp1xy</a>. Please refer to <a href="../../LabTalk/Script/Interpolation.html" title="Script:Interpolation">Interpolation</a> for more details.
</p>





