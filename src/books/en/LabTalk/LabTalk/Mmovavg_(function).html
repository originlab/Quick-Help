<h1 class="firstHeading">3.5.2.24 Mmovavg</h1><p class='urlname' style='display: none'>Mmovavg-func</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1"><a href="#Description"><span class="tocnumber">1</span> <span class="toctext">Description</span></a></li>
<li class="toclevel-1"><a href="#Syntax"><span class="tocnumber">2</span> <span class="toctext">Syntax</span></a></li>
<li class="toclevel-1"><a href="#Parameters"><span class="tocnumber">3</span> <span class="toctext">Parameters</span></a></li>
<li class="toclevel-1"><a href="#Return"><span class="tocnumber">4</span> <span class="toctext">Return</span></a></li>
<li class="toclevel-1"><a href="#Example"><span class="tocnumber">5</span> <span class="toctext">Example</span></a></li>
</ul>
</div>

<h2 class="ref"><a name="Description"></a><span class="mw-headline">Description</span></h2>
<p>This function is for calculating modified moving averages. Average value at the starting point = n is calculated by <a href="../../LabTalk/LabTalk/Movavg_(function).html" title="LabTalk:Movavg (function)">Movavg</a> function, and then other points are calculated by formula similar to <a href="../../LabTalk/LabTalk/Emovavg_(function).html" title="LabTalk:Emovavg (function)">Emovavg</a> function with weighting factor <img src="../images/Mmovavg_(function)/math-16fa23e2afc8da0f98974d36de30ded3.png?v=0" title=" \alpha = 1/n" alt=" \alpha = 1/n" class="tex"/>.
</p><p><img src="../images/Mmovavg_(function)/math-4a0e3da95bbfbeb1f47ce7cdfa5544f6.png?v=0" title="M_i=\left\{\begin{matrix}&#10;m_n, &amp; \textup{if} \;  i = n;\\ &#10;(1-\alpha)M_{i-1} + \alpha x_i, &amp; \textup{if} \;  i &gt; n, &#10;\end{matrix}\right. " alt="M_i=\left\{\begin{matrix}&#10;m_n, &amp; \textup{if} \;  i = n;\\ &#10;(1-\alpha)M_{i-1} + \alpha x_i, &amp; \textup{if} \;  i &gt; n, &#10;\end{matrix}\right. " class="tex"/>
</p><p>where <img src="../images/Mmovavg_(function)/math-eed7e22b9b3ac190ea7e877a80334c33.png?v=0" title="m_n" alt="m_n" class="tex"/> is the nth point calculated by <a href="../../LabTalk/LabTalk/Movavg_(function).html" title="LabTalk:Movavg (function)">movavg</a>(x, n-1,0).
</p>
<h2 class="ref"><a name="Syntax"></a><span class="mw-headline">Syntax</span></h2>
<pre class="lt" style="font-family:monospace;">vector mmovavg<span style="color: #000000;">&#40;</span>vector vd, int n<span style="color: #000000;">&#41;</span></pre>
<h2 class="ref"><a name="Parameters"></a><span class="mw-headline">Parameters</span></h2>
<p><b>vd</b>
</p>
<dl><dd>The data vector used to calculate modified moving average.</dd></dl>
<p><b>n</b>
</p>
<dl><dd>is the timeperiod.</dd></dl>
<h2 class="ref"><a name="Return"></a><span class="mw-headline">Return</span></h2>
<p>Return the modified moving average vector.
</p>
<h2 class="ref"><a name="Example"></a><span class="mw-headline">Example</span></h2>
<pre class="lt" style="font-family:monospace;"><span style="color: #008000;">// Col(2) will be filled with modified moving average value at each point, with stating point = 10. </span>

for<span style="color: #000000;">&#40;</span>ii<span style="color: #000080;">=</span><span style="color: #0000dd;">1</span>;ii<span style="color: #000080;">&lt;=</span><span style="color: #0000dd;">30</span>;ii<span style="color: #000080;">++</span><span style="color: #000000;">&#41;</span> col<span style="color: #000000;">&#40;</span><span style="color: #0000dd;">1</span><span style="color: #000000;">&#41;</span><span style="color: #000000;">&#91;</span>ii<span style="color: #000000;">&#93;</span> <span style="color: #000080;">=</span> ii;
col<span style="color: #000000;">&#40;</span><span style="color: #0000dd;">2</span><span style="color: #000000;">&#41;</span><span style="color: #000080;">=</span>mmovavg<span style="color: #000000;">&#40;</span>col<span style="color: #000000;">&#40;</span><span style="color: #0000dd;">1</span><span style="color: #000000;">&#41;</span>,<span style="color: #0000dd;">10</span><span style="color: #000000;">&#41;</span>;</pre>






