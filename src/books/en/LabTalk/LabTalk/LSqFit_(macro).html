<h1 class="firstHeading">3.6.4.27 LSqFit (macro)</h1><p class='urlname' style='display: none'>LSqFit-macro</p>
<p>Performs a nonlinear least squares fit of the active dataset. The fitting function must be previously specified using the <a href="../../LabTalk/LabTalk/NLSF_(object).html" title="LabTalk:NLSF (object)">NLSF -f</a> (<i>select the fitting function specified by funcName</i>) command. Depending on the type of fit, additional parameters may also need to be specified. 
</p><p><br />
</p>
<h2><a name="Definition:"></a><span class="mw-headline"><font color="chocolate">Definition:</font></span></h2>
<pre class="lt" style="font-family:monospace;">Def  LSqFit <span style="color: #000000;">&#123;</span>
      nlsf <span style="color: #000080;">-</span>H <span style="color: #000080;">%</span>C; nlsf <span style="color: #000080;">-</span><span style="color: #0000dd;">1</span>; nlsf <span style="color: #000080;">-</span><span style="color: #0000dd;">2</span>; nlsf <span style="color: #000080;">-</span><span style="color: #0000dd;">3</span>;
      if <span style="color: #000000;">&#40;</span>step <span style="color: #000080;">&gt;</span> <span style="color: #0000dd;">4</span><span style="color: #000000;">&#41;</span> <span style="color: #000000;">&#40;</span>step<span style="color: #000080;">/</span><span style="color: #000080;">=</span><span style="color: #0000dd;">2</span>; nlsf <span style="color: #000080;">-</span><span style="color: #0000dd;">1</span>; nlsf <span style="color: #000080;">-</span><span style="color: #0000dd;">2</span><span style="color: #000000;">&#41;</span>;
      if <span style="color: #000000;">&#40;</span>step <span style="color: #000080;">&gt;</span> <span style="color: #0000dd;">1</span><span style="color: #000000;">&#41;</span> <span style="color: #000000;">&#40;</span>step<span style="color: #000080;">=</span><span style="color: #0000dd;">1</span>; nlsf <span style="color: #000080;">-</span><span style="color: #0000dd;">2</span><span style="color: #000000;">&#41;</span>; nlsf <span style="color: #000080;">-</span><span style="color: #0000dd;">2</span>; nlsf <span style="color: #000080;">-</span>t;
<span style="color: #000000;">&#125;</span>;</pre>
<h2><a name="Example:"></a><span class="mw-headline"><font color="chocolate">Example:</font></span></h2>
<p>The following script performs an exponential decay fit (ExpDec1) on the active dataset.
</p>
<pre class="lt" style="font-family:monospace;">NLSF <span style="color: #000080;">-</span>f ExpDec1;
LSqFit;</pre>






