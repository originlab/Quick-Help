<h1 class="firstHeading">2.1.9.14 ftell</h1><p><br />
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Description"><span class="tocnumber">1</span> <span class="toctext">Description</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Syntax"><span class="tocnumber">2</span> <span class="toctext">Syntax</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Parameters"><span class="tocnumber">3</span> <span class="toctext">Parameters</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Return"><span class="tocnumber">4</span> <span class="toctext">Return</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Examples"><span class="tocnumber">5</span> <span class="toctext">Examples</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Remark"><span class="tocnumber">6</span> <span class="toctext">Remark</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#See_Also"><span class="tocnumber">7</span> <span class="toctext">See Also</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#Header_to_Include"><span class="tocnumber">8</span> <span class="toctext">Header to Include</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="#Reference"><span class="tocnumber">9</span> <span class="toctext">Reference</span></a></li>
</ul>
</div>

<h2><a name="Description"></a><span class="mw-headline">Description</span></h2>
<p>Gets the current position of the file pointer (if any) associated with stream.
</p>
<h2><a name="Syntax"></a><span class="mw-headline">Syntax</span></h2>
<pre class="oc" style="font-family:monospace;"><span style="color: #0000ff;">long</span> <span style="color: #000000;">ftell</span><span style="color: #000000;">&#40;</span> <span style="color: #0000ff;">FILE</span> <span style="color: #000040;">*</span> stream <span style="color: #000000;">&#41;</span></pre>
<h2><a name="Parameters"></a><span class="mw-headline">Parameters</span></h2>
<dl><dt> stream</dt>
<dd>Pointer to Target FILE</dd></dl>
<h2><a name="Return"></a><span class="mw-headline">Return</span></h2>
<p>ftell returns the current file position. The value returned by ftell may not reflect the physical byte offset for streams opened in text mode, because text mode causes carriage return linefeed translation. Use ftell with fseek to return to file locations correctly. On error, ftell returns&#160;?1L and errno is set to one of two constants, defined in ERRNO.H. The EBADF constant means the stream argument is not a valid file-handle value or does not refer to an open file. EINVAL means an invalid stream argument was passed to the function. On devices incapable of seeking (such as terminals and printers), or when stream does not refer to an open file, the return value is undefined.
</p>
<h2><a name="Examples"></a><span class="mw-headline">Examples</span></h2>
<p><b>EX1</b>
</p>
<pre class="oc" style="font-family:monospace;"><span style="color: #008000;">//The following example opened a file named the current C file for reading and tries to </span>
<span style="color: #008000;">//read 100 characters. It then uses ftell to determine the position of the file </span>
<span style="color: #008000;">//pointer and displays this position.</span>

<span style="color: #0000ff;">void</span> test_ftell<span style="color: #000000;">&#40;</span><span style="color: #000000;">&#41;</span>
<span style="color: #000000;">&#123;</span>
    <span style="color: #0000ff;">FILE</span> <span style="color: #000040;">*</span>stream;
    <span style="color: #0000ff;">long</span> position;
    <span style="color: #0000ff;">char</span> list<span style="color: #000000;">&#91;</span><span style="color: #0000dd;">100</span><span style="color: #000000;">&#93;</span>;
    
    stream <span style="color: #000080;">=</span> <span style="color: #000000;">fopen</span><span style="color: #000000;">&#40;</span> __FILE__, <span style="color: #ff00ff;">&quot;rb&quot;</span> <span style="color: #000000;">&#41;</span>;
    <span style="color: #0000ff;">if</span><span style="color: #000000;">&#40;</span>stream <span style="color: #000040;">!</span><span style="color: #000080;">=</span> <span style="color: #0000ff;">NULL</span> <span style="color: #000000;">&#41;</span>
    <span style="color: #000000;">&#123;</span>
        <span style="color: #008000;">// Move the pointer by reading data: </span>
        <span style="color: #000000;">fread</span><span style="color: #000000;">&#40;</span> list, <span style="color: #000000;">sizeof</span><span style="color: #000000;">&#40;</span> <span style="color: #0000ff;">char</span> <span style="color: #000000;">&#41;</span>, <span style="color: #0000dd;">100</span>, stream <span style="color: #000000;">&#41;</span>;
        <span style="color: #008000;">// Get position after read: </span>
        position <span style="color: #000080;">=</span> <span style="color: #000000;">ftell</span><span style="color: #000000;">&#40;</span> stream <span style="color: #000000;">&#41;</span>;
        <span style="color: #000000;">printf</span><span style="color: #000000;">&#40;</span> <span style="color: #ff00ff;">&quot;Position after trying to read 100 bytes:&#160;%ld<span style="color: #666666; font-weight: bold;">\n</span>&quot;</span>,position <span style="color: #000000;">&#41;</span>;
        <span style="color: #000000;">fclose</span><span style="color: #000000;">&#40;</span> stream <span style="color: #000000;">&#41;</span>;
    <span style="color: #000000;">&#125;</span>
<span style="color: #000000;">&#125;</span></pre>
<h2><a name="Remark"></a><span class="mw-headline">Remark</span></h2>
<p>The ftell function gets the current position of the file pointer (if any) associated with stream.
</p><p>The position is expressed as an offset relative to the beginning of the stream. Note that when a file is opened for appending data, the current file position is determined by the last I/O operation, not by where the next write would occur. For example, if a file is opened for an append and the last operation was a read, the file position is the point where the next read operation would start, not where the next write would start. (When a file is opened for appending, the file position is moved to end of file before any write operation.) If no I/O operation has yet occurred on a file opened for appending, the file position is the beginning of the file.
</p>
<h2><a name="See_Also"></a><span class="mw-headline">See Also</span></h2>
<p><a href="../../OriginC/OriginC/Fseek_(global_function).html" title="OriginC:Fseek (global function)">fseek</a>
</p>
<h2><a name="Header_to_Include"></a><span class="mw-headline">Header to Include</span></h2>
<p>origin.h
</p>
<h2><a name="Reference"></a><span class="mw-headline">Reference</span></h2>






