<h1 class="firstHeading">2.2.3.9.69 matrixbase::SumColumns</h1><p><span class="OIndex" style="display:none">SumColumns</span>
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Description"><span class="tocnumber">1</span> <span class="toctext">Description</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Syntax"><span class="tocnumber">2</span> <span class="toctext">Syntax</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Parameters"><span class="tocnumber">3</span> <span class="toctext">Parameters</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Return"><span class="tocnumber">4</span> <span class="toctext">Return</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Examples"><span class="tocnumber">5</span> <span class="toctext">Examples</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Remark"><span class="tocnumber">6</span> <span class="toctext">Remark</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#See_Also"><span class="tocnumber">7</span> <span class="toctext">See Also</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#Header_to_Include"><span class="tocnumber">8</span> <span class="toctext">Header to Include</span></a></li>
</ul>
</div>

<h2><a name="Description"></a><span class="mw-headline">Description</span></h2>
<p>Sum the columns of this matrix placing the result in a vector.
</p>
<h2><a name="Syntax"></a><span class="mw-headline">Syntax</span></h2>
<pre class="oc" style="font-family:monospace;"><span style="color: #0000ff;">int</span> SumColumns<span style="color: #000000;">&#40;</span> vectorbase <span style="color: #000040;">&amp;</span> vbSum <span style="color: #000000;">&#41;</span></pre>
<h2><a name="Parameters"></a><span class="mw-headline">Parameters</span></h2>
<dl><dt> vbSum</dt>
<dd>[output] vector containing the summed columns</dd></dl>
<h2><a name="Return"></a><span class="mw-headline">Return</span></h2>
<p>Returns 0 on success or -1 on failure.
</p>
<h2><a name="Examples"></a><span class="mw-headline">Examples</span></h2>
<p><b>EX1</b>
</p>
<pre class="oc" style="font-family:monospace;"><span style="color: #008000;">// Compute the column summation, and put the results into a vector</span>
<span style="color: #0000ff;">void</span> matrixbase_SumColumns_ex1<span style="color: #000000;">&#40;</span><span style="color: #000000;">&#41;</span>
<span style="color: #000000;">&#123;</span>
    <span style="color: #0000ff;">int</span> rc, ii,jj;
    matrix<span style="color: #000080;">&lt;</span><span style="color: #0000ff;">double</span><span style="color: #000080;">&gt;</span> mat1 <span style="color: #000080;">=</span> <span style="color: #000000;">&#123;</span>
        <span style="color: #000000;">&#123;</span><span style="color: #000040;">-</span><span style="color: #0000dd;">1</span>,  <span style="color: #0000dd;">0</span>,  <span style="color: #0000dd;">3</span>,  <span style="color: #0000dd;">99</span><span style="color: #000000;">&#125;</span>,
        <span style="color: #000000;">&#123;</span> <span style="color: #0000dd;">0</span>,  <span style="color: #0000dd;">2</span>,  <span style="color: #0000dd;">6</span>,   <span style="color: #0000dd;">0</span><span style="color: #000000;">&#125;</span>,
        <span style="color: #000000;">&#123;</span> <span style="color: #0000dd;">1</span>,  <span style="color: #0000dd;">4</span>,  <span style="color: #0000dd;">9</span>,   <span style="color: #0000dd;">0</span><span style="color: #000000;">&#125;</span>
    <span style="color: #000000;">&#125;</span>;
    <span style="color: #0000ff;">for</span><span style="color: #000000;">&#40;</span>ii<span style="color: #000080;">=</span><span style="color: #0000dd;">0</span>; ii<span style="color: #000080;">&lt;</span><span style="color: #0000dd;">3</span>; ii<span style="color: #000040;">++</span><span style="color: #000000;">&#41;</span>
        <span style="color: #0000ff;">for</span><span style="color: #000000;">&#40;</span>jj<span style="color: #000080;">=</span><span style="color: #0000dd;">0</span>; jj<span style="color: #000080;">&lt;</span><span style="color: #0000dd;">4</span>; jj<span style="color: #000040;">++</span><span style="color: #000000;">&#41;</span> 
            <span style="color: #0000ff;">if</span><span style="color: #000000;">&#40;</span>mat1<span style="color: #000000;">&#91;</span>ii<span style="color: #000000;">&#93;</span><span style="color: #000000;">&#91;</span>jj<span style="color: #000000;">&#93;</span><span style="color: #000080;">==</span><span style="color: #0000dd;">99</span><span style="color: #000000;">&#41;</span>
                mat1<span style="color: #000000;">&#91;</span>ii<span style="color: #000000;">&#93;</span><span style="color: #000000;">&#91;</span>jj<span style="color: #000000;">&#93;</span><span style="color: #000080;">=</span>NANUM;  <span style="color: #008000;">// set row=ii,col=jj to NANUM</span>
<span style="color: #008000;">//  Input matrix is:</span>
<span style="color: #008000;">//        {-1, 0, 3, --}</span>
<span style="color: #008000;">//        { 0, 2, 6,  0}</span>
<span style="color: #008000;">//        { 1, 4, 9,  0}</span>

<span style="color: #008000;">//   Output column sum vector is:</span>
<span style="color: #008000;">//        { 0, 6, 18, --}</span>

    MatrixPage MatPg1;
    MatPg1.<span style="color: #000000;">Create</span><span style="color: #000000;">&#40;</span><span style="color: #ff00ff;">&quot;Origin&quot;</span><span style="color: #000000;">&#41;</span>;
    MatrixLayer MatLy1 <span style="color: #000080;">=</span> MatPg1.<span style="color: #000000;">Layers</span><span style="color: #000000;">&#40;</span><span style="color: #0000dd;">0</span><span style="color: #000000;">&#41;</span>;
    Matrix Mat1<span style="color: #000000;">&#40;</span>MatLy1<span style="color: #000000;">&#41;</span>;
    Mat1 <span style="color: #000080;">=</span> mat1;
    <span style="color: #000000;">printf</span><span style="color: #000000;">&#40;</span><span style="color: #ff00ff;">&quot;  Input matrix is&#160;%s.<span style="color: #666666; font-weight: bold;">\n</span>&quot;</span>,Mat1.<span style="color: #000000;">GetName</span><span style="color: #000000;">&#40;</span><span style="color: #000000;">&#41;</span><span style="color: #000000;">&#41;</span>;
    
    MatrixPage MatPg2;
    MatPg2.<span style="color: #000000;">Create</span><span style="color: #000000;">&#40;</span><span style="color: #ff00ff;">&quot;Origin&quot;</span><span style="color: #000000;">&#41;</span>;
    MatrixLayer MatLy2 <span style="color: #000080;">=</span> MatPg2.<span style="color: #000000;">Layers</span><span style="color: #000000;">&#40;</span><span style="color: #0000dd;">0</span><span style="color: #000000;">&#41;</span>;
    Matrix Mat2<span style="color: #000000;">&#40;</span>MatLy2<span style="color: #000000;">&#41;</span>;
    
    vector vec1;

    rc<span style="color: #000080;">=</span>Mat1.<span style="color: #000000;">SumColumns</span><span style="color: #000000;">&#40;</span>vec1<span style="color: #000000;">&#41;</span>; <span style="color: #008000;">//Put the column summation to the vector</span>
    <span style="color: #0000ff;">if</span><span style="color: #000000;">&#40;</span>rc<span style="color: #000040;">!</span><span style="color: #000080;">=</span><span style="color: #0000dd;">0</span><span style="color: #000000;">&#41;</span> 
        <span style="color: #000000;">printf</span><span style="color: #000000;">&#40;</span><span style="color: #ff00ff;">&quot;  Error: SumColumns failed. Error Code=%d<span style="color: #666666; font-weight: bold;">\n</span>&quot;</span>,rc<span style="color: #000000;">&#41;</span>;
    <span style="color: #0000ff;">else</span> <span style="color: #000000;">&#123;</span>
        Mat2.<span style="color: #000000;">SetSize</span><span style="color: #000000;">&#40;</span><span style="color: #0000dd;">1</span>,vec1.<span style="color: #000000;">GetSize</span><span style="color: #000000;">&#40;</span><span style="color: #000000;">&#41;</span><span style="color: #000000;">&#41;</span>;
        Mat2.<span style="color: #000000;">SetRow</span><span style="color: #000000;">&#40;</span>vec1, <span style="color: #0000dd;">0</span><span style="color: #000000;">&#41;</span>;  <span style="color: #008000;">// Place the vector to a single row matrix</span>
        <span style="color: #000000;">printf</span><span style="color: #000000;">&#40;</span><span style="color: #ff00ff;">&quot;  Vector of column summation is placed in&#160;%s.<span style="color: #666666; font-weight: bold;">\n</span>&quot;</span>,Mat2.<span style="color: #000000;">GetName</span><span style="color: #000000;">&#40;</span><span style="color: #000000;">&#41;</span><span style="color: #000000;">&#41;</span>;
        <span style="color: #000000;">printf</span><span style="color: #000000;">&#40;</span><span style="color: #ff00ff;">&quot;  Note that a column including NANUMs results a missing in the vector.&quot;</span><span style="color: #000000;">&#41;</span>;
    <span style="color: #000000;">&#125;</span>
<span style="color: #000000;">&#125;</span></pre>
<h2><a name="Remark"></a><span class="mw-headline">Remark</span></h2>
<p>Sum the columns of this matrix placing the result in a vector. The underlying base type of the vector must not be less than the underlying base type of the matrix.
</p><p><br />
</p><p>Note
</p><p>The following is a summary of various matrix operations:
</p><p>1) Multiplication:
</p><p>1-1) * ... Proper multiplication of 2 matrices (mat1*mat2)
</p><p>1-2) * ... Scaler multiplication of a matrix (mat1*A or A*mat1)
</p><p>1-3) DotMultiply ... Element-wise multiplication of 2 matrices
</p><p>1-4) Cross ... Cross product of 2 matrices
</p><p>1-5) CumulativeProduct ... cumulative product of a matrix
</p><p>2) Division:
</p><p>2-1) / ... Not defined for 2 matrices. For proper division, multiply Inverse(mat1)
</p><p>2-2) / ... Scaler division of a matrix (mat1/A)
</p><p>2-3) DotDivide ...  Element-wise division of 2 matrices
</p><p>3) Addition:
</p><p>3-1) + ... Element-wise addition of 2 matrices
</p><p>3-2) + ... Scaler addition of a matrix (mat1+A or A+mat1)
</p><p>3-3) SumColumns ... Summation of each column in a matrix
</p><p>3-4) CumulativeSum ... Cumulative product of a matrix
</p><p>4) Subtraction:
</p><p>4-1) - ... Element-wise subtraction of 2 matrices
</p><p>4-2) - ... Scaler subtraction of a matrix (mat1-A or A-mat1)
</p><p>4-3) Difference ... Difference of adjacent 2 rows in a matrix (1st order differential)
</p><p>5) Power:
</p><p>5-1) ^ (or pow) ... Not defined as element-wise power of 2 matrices
</p><p>5-2) ^ (or pow) ... Not defined as scaler power of a matrix
</p><p>5-3) DotPower ... Element-wise power of 2 matrices
</p><p>To depict the differences of above additions, try the following sample:
</p>
<ol><li>define MAKEMAT(X) MatrixLayer MatLy##X;MatLy##X.Create();Matrix Mat##X(MatLy##X)</li></ol>
<p>void mAddTest1()
</p><p>{
</p><p>matrix mat1 = {{1, 2, 3},{1, 2, 3},{1, 2, 3}};
</p><p>matrix mat2 = {{2, 3, 4},{3, 4, 5},{4, 5, 6}};
</p><p><br />
</p><p>MAKEMAT(1); MAKEMAT(2); MAKEMAT(3); MAKEMAT(4); MAKEMAT(5); MAKEMAT(6);
</p><p>Mat1=mat1; Mat2=mat2;
</p><p><br />
</p><p>Mat3=mat1+mat2;
</p><p>printf("%s =&#160;%s +&#160;%s &lt;== Element-wise addition of 2 matrices\n",Mat3.GetName(),Mat1.GetName(),Mat2.GetName());
</p><p><br />
</p><p>Mat4=mat1+10;
</p><p>printf("%s =&#160;%s + 10 &lt;== Scaler addition of a matrix\n",Mat4.GetName(),Mat1.GetName());
</p><p><br />
</p><p>vector vec1;
</p><p>Mat1.SumColumns(vec1);
</p><p>Mat5.SetSize(1,vec1.GetSize());
</p><p>Mat5.SetRow(vec1, 0);
</p><p>printf("%s = SumColumns(%s) &lt;== column summation of a matrix\n",Mat5.GetName(),Mat1.GetName());
</p><p><br />
</p><p>mat1.CumulativeSum(Mat6);
</p><p>printf("%s = CumulativeSum(%s) &lt;== cumulative sum of a matrix\n",Mat6.GetName(),Mat1.GetName());
</p><p>}
</p>
<h2><a name="See_Also"></a><span class="mw-headline">See Also</span></h2>
<h2><a name="Header_to_Include"></a><span class="mw-headline">Header to Include</span></h2>
<p>origin.h
</p>





