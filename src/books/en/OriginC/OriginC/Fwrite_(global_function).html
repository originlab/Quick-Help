<h1 class="firstHeading">2.1.9.15 fwrite</h1><p><br />
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Description"><span class="tocnumber">1</span> <span class="toctext">Description</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Syntax"><span class="tocnumber">2</span> <span class="toctext">Syntax</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Parameters"><span class="tocnumber">3</span> <span class="toctext">Parameters</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Return"><span class="tocnumber">4</span> <span class="toctext">Return</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Examples"><span class="tocnumber">5</span> <span class="toctext">Examples</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Remark"><span class="tocnumber">6</span> <span class="toctext">Remark</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#See_Also"><span class="tocnumber">7</span> <span class="toctext">See Also</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#Header_to_Include"><span class="tocnumber">8</span> <span class="toctext">Header to Include</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="#Reference"><span class="tocnumber">9</span> <span class="toctext">Reference</span></a></li>
</ul>
</div>

<h2><a name="Description"></a><span class="mw-headline">Description</span></h2>
<p>Writes up to <i>count</i> items, of <i>size</i> length each, from <i>buffer</i> to the output <i>stream</i>.
</p>
<h2><a name="Syntax"></a><span class="mw-headline">Syntax</span></h2>
<pre class="oc" style="font-family:monospace;"><span style="color: #0000ff;">size_t</span> <span style="color: #000000;">fwrite</span><span style="color: #000000;">&#40;</span> <span style="color: #0000ff;">const</span> <span style="color: #0000ff;">void</span> <span style="color: #000040;">*</span> buffer, <span style="color: #0000ff;">size_t</span> size, <span style="color: #0000ff;">size_t</span> count, <span style="color: #0000ff;">FILE</span> <span style="color: #000040;">*</span> stream <span style="color: #000000;">&#41;</span></pre>
<h2><a name="Parameters"></a><span class="mw-headline">Parameters</span></h2>
<dl><dt> buffer</dt>
<dd>Pointer to data to be written</dd>
<dt> size</dt>
<dd>Item size in bytes</dd>
<dt> count</dt>
<dd>Maximum number of items to be written</dd>
<dt> stream</dt>
<dd>Pointer to FILE</dd></dl>
<h2><a name="Return"></a><span class="mw-headline">Return</span></h2>
<p>fwrite returns the number of full items actually written, which may be less than count
</p><p>if an error occurs. Also, if an error occurs, the file-position indicator cannot be determined.
</p>
<h2><a name="Examples"></a><span class="mw-headline">Examples</span></h2>
<p><b>EX1</b>
</p>
<pre class="oc" style="font-family:monospace;"><span style="color: #008000;">//The following opens a file named fwrite.out and writes 25 characters to the file. </span>
<span style="color: #008000;">//It then tries to open fwrite.out and read in 25 characters.If the attempt </span>
<span style="color: #008000;">//succeeds,the program displays the number of actual items read.</span>

<span style="color: #0000ff;">void</span> test_fwrite<span style="color: #000000;">&#40;</span><span style="color: #000000;">&#41;</span>
<span style="color: #000000;">&#123;</span>
    <span style="color: #0000ff;">FILE</span> <span style="color: #000040;">*</span>stream;
    <span style="color: #0000ff;">char</span> list<span style="color: #000000;">&#91;</span><span style="color: #0000dd;">30</span><span style="color: #000000;">&#93;</span>;
    <span style="color: #0000ff;">int</span>  i, numread, numwritten;
    
    <span style="color: #008000;">// Open file in text mode:</span>
    stream <span style="color: #000080;">=</span> <span style="color: #000000;">fopen</span><span style="color: #000000;">&#40;</span> <span style="color: #ff00ff;">&quot;fwrite.out&quot;</span>, <span style="color: #ff00ff;">&quot;w+t&quot;</span> <span style="color: #000000;">&#41;</span>;
    <span style="color: #0000ff;">if</span><span style="color: #000000;">&#40;</span>stream <span style="color: #000040;">!</span><span style="color: #000080;">=</span> <span style="color: #0000ff;">NULL</span> <span style="color: #000000;">&#41;</span>
    <span style="color: #000000;">&#123;</span>
        <span style="color: #0000ff;">for</span> <span style="color: #000000;">&#40;</span> i <span style="color: #000080;">=</span> <span style="color: #0000dd;">0</span>; i <span style="color: #000080;">&lt;</span> <span style="color: #0000dd;">25</span>; i<span style="color: #000040;">++</span> <span style="color: #000000;">&#41;</span>
            list<span style="color: #000000;">&#91;</span>i<span style="color: #000000;">&#93;</span> <span style="color: #000080;">=</span> <span style="color: #000000;">&#40;</span><span style="color: #0000ff;">char</span><span style="color: #000000;">&#41;</span><span style="color: #000000;">&#40;</span><span style="color: #ff00ff;">'z'</span> <span style="color: #000040;">-</span> i<span style="color: #000000;">&#41;</span>;
        
        <span style="color: #008000;">// Write 25 characters to stream </span>
        numwritten <span style="color: #000080;">=</span> <span style="color: #000000;">fwrite</span><span style="color: #000000;">&#40;</span> list, <span style="color: #000000;">sizeof</span><span style="color: #000000;">&#40;</span> <span style="color: #0000ff;">char</span> <span style="color: #000000;">&#41;</span>, <span style="color: #0000dd;">25</span>, stream <span style="color: #000000;">&#41;</span>;
        <span style="color: #000000;">printf</span><span style="color: #000000;">&#40;</span> <span style="color: #ff00ff;">&quot;Wrote&#160;%d items<span style="color: #666666; font-weight: bold;">\n</span>&quot;</span>, numwritten <span style="color: #000000;">&#41;</span>;
        <span style="color: #000000;">fclose</span><span style="color: #000000;">&#40;</span> stream <span style="color: #000000;">&#41;</span>;
    <span style="color: #000000;">&#125;</span>
    <span style="color: #0000ff;">else</span>
        <span style="color: #000000;">printf</span><span style="color: #000000;">&#40;</span> <span style="color: #ff00ff;">&quot;Problem opening the file<span style="color: #666666; font-weight: bold;">\n</span>&quot;</span> <span style="color: #000000;">&#41;</span>;
    
    stream <span style="color: #000080;">=</span> <span style="color: #000000;">fopen</span><span style="color: #000000;">&#40;</span> <span style="color: #ff00ff;">&quot;fwrite.out&quot;</span>, <span style="color: #ff00ff;">&quot;r+t&quot;</span> <span style="color: #000000;">&#41;</span>;
    <span style="color: #0000ff;">if</span><span style="color: #000000;">&#40;</span>stream <span style="color: #000040;">!</span><span style="color: #000080;">=</span> <span style="color: #0000ff;">NULL</span> <span style="color: #000000;">&#41;</span>
    <span style="color: #000000;">&#123;</span>
        <span style="color: #008000;">// Attempt to read in 25 characters </span>
        numread <span style="color: #000080;">=</span> <span style="color: #000000;">fread</span><span style="color: #000000;">&#40;</span> list, <span style="color: #000000;">sizeof</span><span style="color: #000000;">&#40;</span> <span style="color: #0000ff;">char</span> <span style="color: #000000;">&#41;</span>, <span style="color: #0000dd;">25</span>, stream <span style="color: #000000;">&#41;</span>;
        <span style="color: #000000;">printf</span><span style="color: #000000;">&#40;</span> <span style="color: #ff00ff;">&quot;Number of items read =&#160;%d<span style="color: #666666; font-weight: bold;">\n</span>&quot;</span>, numread <span style="color: #000000;">&#41;</span>;
        <span style="color: #000000;">printf</span><span style="color: #000000;">&#40;</span> <span style="color: #ff00ff;">&quot;Contents of buffer =&#160;%.25s<span style="color: #666666; font-weight: bold;">\n</span>&quot;</span>, list <span style="color: #000000;">&#41;</span>;
        <span style="color: #000000;">fclose</span><span style="color: #000000;">&#40;</span> stream <span style="color: #000000;">&#41;</span>;
    <span style="color: #000000;">&#125;</span>
    <span style="color: #0000ff;">else</span>
        <span style="color: #000000;">printf</span><span style="color: #000000;">&#40;</span> <span style="color: #ff00ff;">&quot;File could not be opened<span style="color: #666666; font-weight: bold;">\n</span>&quot;</span> <span style="color: #000000;">&#41;</span>;
<span style="color: #000000;">&#125;</span></pre>
<h2><a name="Remark"></a><span class="mw-headline">Remark</span></h2>
<p>The fwrite function writes up to count items, of size length each, from buffer to the output stream.
</p><p>The file pointer associated with stream (if there is one) is incremented by the number of bytes actually written. If stream is opened in text mode, each carriage return is replaced with a carriage-return - linefeed pair. The replacement has no effect on the return value.
</p>
<h2><a name="See_Also"></a><span class="mw-headline">See Also</span></h2>
<p><a href="../../OriginC/OriginC/Fread_(global_function).html" title="OriginC:Fread (global function)">fread</a>
</p>
<h2><a name="Header_to_Include"></a><span class="mw-headline">Header to Include</span></h2>
<p>origin.h
</p>
<h2><a name="Reference"></a><span class="mw-headline">Reference</span></h2>






