<h1 class="firstHeading">2.1.17.2.1.3 peak_pos</h1><p><br />
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Description"><span class="tocnumber">1</span> <span class="toctext">Description</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Syntax"><span class="tocnumber">2</span> <span class="toctext">Syntax</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Parameters"><span class="tocnumber">3</span> <span class="toctext">Parameters</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Return"><span class="tocnumber">4</span> <span class="toctext">Return</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Examples"><span class="tocnumber">5</span> <span class="toctext">Examples</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Remark"><span class="tocnumber">6</span> <span class="toctext">Remark</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#See_Also"><span class="tocnumber">7</span> <span class="toctext">See Also</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#Header_to_Included"><span class="tocnumber">8</span> <span class="toctext">Header to Included</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="#Reference"><span class="tocnumber">9</span> <span class="toctext">Reference</span></a></li>
</ul>
</div>

<h2><a name="Description"></a><span class="mw-headline">Description</span></h2>
<p>This function evaluates the parameters' value of the Gaussian function:
</p>
<dl><dd><img src="../images/Peak_pos_(global_function)/math-b741e7a58fd3f4dff30afbf7da749bc4.png?v=0" title="y = y_0 + \frac{A}{w\sqrt{\frac{\pi}{2}}}e^{-2\frac{(x-x_c)^2}{w^2}}" alt="y = y_0 + \frac{A}{w\sqrt{\frac{\pi}{2}}}e^{-2\frac{(x-x_c)^2}{w^2}}" class="tex"/></dd>
<dd><a  class="image"><img alt="Ocwiki peak pos.png" src="../images/Peak_pos_(global_function)/Ocwiki_peak_pos.png?v=21211" width="324"  /></a></dd></dl>
<p>Where FWHM means Full Width at Half Maximum
</p>
<dl><dd><img src="../images/Peak_pos_(global_function)/math-3cfd6a9b8434b23b78ca7aaf3db87ffc.png?v=0" title="FWHM = w\sqrt{\ln{4}}" alt="FWHM = w\sqrt{\ln{4}}" class="tex"/></dd></dl>
<h2><a name="Syntax"></a><span class="mw-headline">Syntax</span></h2>
<pre class="oc" style="font-family:monospace;"><span style="color: #0000ff;">double</span> peak_pos<span style="color: #000000;">&#40;</span> Curve <span style="color: #000040;">&amp;</span> data, <span style="color: #0000ff;">double</span> <span style="color: #000040;">*</span> pWidth <span style="color: #000080;">=</span> <span style="color: #0000ff;">NULL</span>, <span style="color: #0000ff;">double</span> <span style="color: #000040;">*</span> pBaseline <span style="color: #000080;">=</span> <span style="color: #0000ff;">NULL</span>, <span style="color: #0000ff;">double</span> <span style="color: #000040;">*</span> pArea <span style="color: #000080;">=</span> <span style="color: #0000ff;">NULL</span>, <span style="color: #0000ff;">double</span> <span style="color: #000040;">*</span> pHeight <span style="color: #000080;">=</span> <span style="color: #0000ff;">NULL</span>, <span style="color: #0000ff;">double</span> <span style="color: #000040;">*</span> pCentroid <span style="color: #000080;">=</span> <span style="color: #0000ff;">NULL</span>, <span style="color: #0000ff;">bool</span> bHaveBase <span style="color: #000080;">=</span> <span style="color: #0000ff;">TRUE</span>, <span style="color: #0000ff;">bool</span> bSortDataFirst <span style="color: #000080;">=</span> <span style="color: #0000ff;">TRUE</span>, <span style="color: #0000ff;">int</span> <span style="color: #000040;">*</span> pErr <span style="color: #000080;">=</span> <span style="color: #0000ff;">NULL</span>, <span style="color: #0000ff;">int</span> <span style="color: #000040;">*</span> pnDir <span style="color: #000080;">=</span> <span style="color: #0000ff;">NULL</span> <span style="color: #000000;">&#41;</span></pre>
<h2><a name="Parameters"></a><span class="mw-headline">Parameters</span></h2>
<dl><dt> data</dt>
<dd>[input] Source data.</dd>
<dt> pWidth</dt>
<dd>[output] Peak width, which equals to 2 * sigma (standard error of the Gaussian distribution).</dd>
<dt> pBaseline</dt>
<dd>[output] Peak baseline</dd>
<dt> pArea</dt>
<dd>[output] Peak area.</dd>
<dt> pHeight</dt>
<dd>[output] Peak height</dd>
<dt> pCentroid</dt>
<dd>[output] The x position of the centroid</dd>
<dt> bHaveBase</dt>
<dd>[input] Reserved parameter, for later use.</dd>
<dt> bSortDataFirst</dt>
<dd>[input] Indicate whether need to sort the input points before calculate the result.</dd>
<dt> pErr</dt>
<dd>[output] Error code, OE_NOERROR for success, otherwise returns error.</dd>
<dt> pnDir</dt>
<dd>[output] Direction of the peak, 1 for positive while -1 for negative.</dd></dl>
<h2><a name="Return"></a><span class="mw-headline">Return</span></h2>
<p>X position of the peak center.
</p>
<h2><a name="Examples"></a><span class="mw-headline">Examples</span></h2>
<p><b>EX1</b>
</p>
<pre class="oc" style="font-family:monospace;"><span style="color: #0000ff;">void</span> peak_pos_ex<span style="color: #000000;">&#40;</span><span style="color: #000000;">&#41;</span>
<span style="color: #000000;">&#123;</span>
    <span style="color: #008000;">//import data into new worksheet, user may import this data manully.</span>
    LT_execute<span style="color: #000000;">&#40;</span><span style="color: #ff00ff;">&quot;win -t W Origin;&quot;</span><span style="color: #000000;">&#41;</span>;
    LT_execute<span style="color: #000000;">&#40;</span><span style="color: #ff00ff;">&quot;open -w&#160;%(system.path.program$)Samples<span style="color: #666666; font-weight: bold;">\C</span>urve Fitting<span style="color: #666666; font-weight: bold;">\G</span>aussian.dat;&quot;</span><span style="color: #000000;">&#41;</span>;
    
    Worksheet wks <span style="color: #000080;">=</span> Project.<span style="color: #000000;">ActiveLayer</span><span style="color: #000000;">&#40;</span><span style="color: #000000;">&#41;</span>;
    <span style="color: #0000ff;">if</span> <span style="color: #000000;">&#40;</span> wks <span style="color: #000000;">&#41;</span>
    <span style="color: #000000;">&#123;</span>
        Curve crv<span style="color: #000000;">&#40;</span>wks, <span style="color: #0000dd;">0</span>, <span style="color: #0000dd;">1</span><span style="color: #000000;">&#41;</span>;
        
        <span style="color: #0000ff;">double</span> dxc, dWidth, dBaseline, dArea, dHeight, dCentroid;
        <span style="color: #0000ff;">int</span> nErr, nPeakDirection;
        dxc <span style="color: #000080;">=</span> peak_pos<span style="color: #000000;">&#40;</span>crv, <span style="color: #000040;">&amp;</span>dWidth, <span style="color: #000040;">&amp;</span>dBaseline, <span style="color: #000040;">&amp;</span>dArea, <span style="color: #000040;">&amp;</span>dHeight, <span style="color: #000040;">&amp;</span>dCentroid, <span style="color: #0000ff;">TRUE</span>, <span style="color: #0000ff;">TRUE</span>, <span style="color: #000040;">&amp;</span>nErr, <span style="color: #000040;">&amp;</span>nPeakDirection<span style="color: #000000;">&#41;</span>;
        
        <span style="color: #000000;">printf</span><span style="color: #000000;">&#40;</span><span style="color: #ff00ff;">&quot;Peak's width is&#160;%.4lf, height is&#160;%.4lf, baseline is&#160;%.4lf, center is&#160;%.4lf<span style="color: #666666; font-weight: bold;">\n</span>&quot;</span>, dWidth, dHeight, dBaseline, dxc<span style="color: #000000;">&#41;</span>;
    <span style="color: #000000;">&#125;</span>
<span style="color: #000000;">&#125;</span></pre>
<h2><a name="Remark"></a><span class="mw-headline">Remark</span></h2>
<p>This function can be used for fitting function parameter initialization.
</p>
<h2><a name="See_Also"></a><span class="mw-headline">See Also</span></h2>
<p><a href="../../OriginC/OriginC/Fwhm_(global_function).html" title="OriginC:Fwhm (global function)">fwhm</a>, <a href="../../OriginC/OriginC/Get_exponent_(global_function).html" title="OriginC:Get exponent (global function)">get_exponent</a>
</p><p><br />
</p>
<h2><a name="Header_to_Included"></a><span class="mw-headline">Header to Included</span></h2>
<p>origin.h
</p>
<h2><a name="Reference"></a><span class="mw-headline">Reference</span></h2>






