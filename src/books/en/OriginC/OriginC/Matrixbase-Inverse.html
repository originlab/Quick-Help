<h1 class="firstHeading">2.2.3.9.44 matrixbase::Inverse</h1><p><span class="OIndex" style="display:none">Inverse</span>
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Description"><span class="tocnumber">1</span> <span class="toctext">Description</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Syntax"><span class="tocnumber">2</span> <span class="toctext">Syntax</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Parameters"><span class="tocnumber">3</span> <span class="toctext">Parameters</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Return"><span class="tocnumber">4</span> <span class="toctext">Return</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Examples"><span class="tocnumber">5</span> <span class="toctext">Examples</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Remark"><span class="tocnumber">6</span> <span class="toctext">Remark</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#See_Also"><span class="tocnumber">7</span> <span class="toctext">See Also</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#Header_to_Include"><span class="tocnumber">8</span> <span class="toctext">Header to Include</span></a></li>
</ul>
</div>

<h2><a name="Description"></a><span class="mw-headline">Description</span></h2>
<p>Replace this matrix with the Inverse of this matrix.
</p>
<h2><a name="Syntax"></a><span class="mw-headline">Syntax</span></h2>
<pre class="oc" style="font-family:monospace;"><span style="color: #0000ff;">int</span> Inverse<span style="color: #000000;">&#40;</span> <span style="color: #000000;">&#41;</span></pre>
<h2><a name="Parameters"></a><span class="mw-headline">Parameters</span></h2>
<h2><a name="Return"></a><span class="mw-headline">Return</span></h2>
<p>Returns 0 on success or one of the following error codes on failure:
</p><p>-1 = Matrix is not N x N
</p><p>366 = The matrix is singular, possibly due to rounding errors; or the underlying type of matrix is not double.
</p><p>11 = N must not be less than 1.
</p><p>73 = Memory allocation failed.
</p>
<h2><a name="Examples"></a><span class="mw-headline">Examples</span></h2>
<p><b>EX1</b>
</p>
<pre class="oc" style="font-family:monospace;"><span style="color: #008000;">// Compute an inverse matrix</span>
<span style="color: #0000ff;">void</span> matrixbase_Inverse_ex1<span style="color: #000000;">&#40;</span><span style="color: #000000;">&#41;</span>
<span style="color: #000000;">&#123;</span>
    <span style="color: #0000ff;">int</span> rc;
    
    matrix<span style="color: #000080;">&lt;</span><span style="color: #0000ff;">double</span><span style="color: #000080;">&gt;</span> mat1 <span style="color: #000080;">=</span> <span style="color: #000000;">&#123;</span>
        <span style="color: #000000;">&#123;</span><span style="color: #0000dd;">2</span>,  <span style="color: #0000dd;">3</span><span style="color: #000000;">&#125;</span>,
        <span style="color: #000000;">&#123;</span><span style="color: #0000dd;">3</span>,  <span style="color: #0000dd;">4</span><span style="color: #000000;">&#125;</span>
    <span style="color: #000000;">&#125;</span>;
<span style="color: #008000;">//   Inverse matrix is:</span>
<span style="color: #008000;">//      {-4,  3}</span>
<span style="color: #008000;">//      { 3, -2}</span>

    MatrixPage MatPg1;
    MatPg1.<span style="color: #000000;">Create</span><span style="color: #000000;">&#40;</span><span style="color: #ff00ff;">&quot;Origin&quot;</span><span style="color: #000000;">&#41;</span>;
    MatrixLayer MatLy1 <span style="color: #000080;">=</span> MatPg1.<span style="color: #000000;">Layers</span><span style="color: #000000;">&#40;</span><span style="color: #0000dd;">0</span><span style="color: #000000;">&#41;</span>;
    Matrix Mat1<span style="color: #000000;">&#40;</span>MatLy1<span style="color: #000000;">&#41;</span>;
    Mat1 <span style="color: #000080;">=</span> mat1;
    <span style="color: #000000;">printf</span><span style="color: #000000;">&#40;</span><span style="color: #ff00ff;">&quot;  Original matrix is&#160;%s.<span style="color: #666666; font-weight: bold;">\n</span>&quot;</span>,Mat1.<span style="color: #000000;">GetName</span><span style="color: #000000;">&#40;</span><span style="color: #000000;">&#41;</span><span style="color: #000000;">&#41;</span>;
    
    MatrixPage MatPg2;
    MatPg2.<span style="color: #000000;">Create</span><span style="color: #000000;">&#40;</span><span style="color: #ff00ff;">&quot;Origin&quot;</span><span style="color: #000000;">&#41;</span>;
    MatrixLayer MatLy2 <span style="color: #000080;">=</span> MatPg2.<span style="color: #000000;">Layers</span><span style="color: #000000;">&#40;</span><span style="color: #0000dd;">0</span><span style="color: #000000;">&#41;</span>;
    Matrix Mat2<span style="color: #000000;">&#40;</span>MatLy2<span style="color: #000000;">&#41;</span>;
    Mat2 <span style="color: #000080;">=</span> mat1;

    rc<span style="color: #000080;">=</span>Mat2.<span style="color: #000000;">Inverse</span><span style="color: #000000;">&#40;</span><span style="color: #000000;">&#41;</span>; <span style="color: #008000;">// Compute the inverse matrix</span>
    <span style="color: #0000ff;">if</span><span style="color: #000000;">&#40;</span>rc<span style="color: #000040;">!</span><span style="color: #000080;">=</span><span style="color: #0000dd;">0</span><span style="color: #000000;">&#41;</span> 
        <span style="color: #000000;">printf</span><span style="color: #000000;">&#40;</span><span style="color: #ff00ff;">&quot;  Error: Inverse failed. Error Code=%d<span style="color: #666666; font-weight: bold;">\n</span>&quot;</span>,rc<span style="color: #000000;">&#41;</span>;
    <span style="color: #0000ff;">else</span>
        <span style="color: #000000;">printf</span><span style="color: #000000;">&#40;</span><span style="color: #ff00ff;">&quot;  Inverse matrix is&#160;%s.<span style="color: #666666; font-weight: bold;">\n</span>&quot;</span>,Mat2.<span style="color: #000000;">GetName</span><span style="color: #000000;">&#40;</span><span style="color: #000000;">&#41;</span><span style="color: #000000;">&#41;</span>;
<span style="color: #000000;">&#125;</span></pre>
<p><b>EX2</b>
</p>
<pre class="oc" style="font-family:monospace;"><span style="color: #0000ff;">#define</span> MAKEMAT<span style="color: #000000;">&#40;</span>X<span style="color: #000000;">&#41;</span> MatrixLayer MatLy##X;MatLy##X.<span style="color: #000000;">Create</span><span style="color: #000000;">&#40;</span><span style="color: #000000;">&#41;</span>;Matrix Mat##X<span style="color: #000000;">&#40;</span>MatLy##X<span style="color: #000000;">&#41;</span>
<span style="color: #0000ff;">void</span> mDivideTest1_ex2<span style="color: #000000;">&#40;</span><span style="color: #000000;">&#41;</span>
<span style="color: #000000;">&#123;</span>
    matrix mat1 <span style="color: #000080;">=</span> <span style="color: #000000;">&#123;</span>
        <span style="color: #000000;">&#123;</span><span style="color: #0000dd;">1</span>, <span style="color: #0000dd;">2</span>, <span style="color: #0000dd;">3</span><span style="color: #000000;">&#125;</span>,
        <span style="color: #000000;">&#123;</span><span style="color: #0000dd;">4</span>, <span style="color: #0000dd;">5</span>, <span style="color: #0000dd;">6</span><span style="color: #000000;">&#125;</span>,
        <span style="color: #000000;">&#123;</span><span style="color: #0000dd;">1</span>, <span style="color: #0000dd;">1</span>, <span style="color: #0000dd;">1</span><span style="color: #000000;">&#125;</span>
    <span style="color: #000000;">&#125;</span>;
    matrix mat2 <span style="color: #000080;">=</span> <span style="color: #000000;">&#123;</span>
        <span style="color: #000000;">&#123;</span><span style="color: #0000dd;">2</span>, <span style="color: #0000dd;">3</span>, <span style="color: #0000dd;">4</span><span style="color: #000000;">&#125;</span>,
        <span style="color: #000000;">&#123;</span><span style="color: #0000dd;">1</span>, <span style="color: #0000dd;">1</span>, <span style="color: #0000dd;">1</span><span style="color: #000000;">&#125;</span>,
        <span style="color: #000000;">&#123;</span><span style="color: #0000dd;">4</span>, <span style="color: #0000dd;">5</span>, <span style="color: #0000dd;">4</span><span style="color: #000000;">&#125;</span>
    <span style="color: #000000;">&#125;</span>;

    MAKEMAT<span style="color: #000000;">&#40;</span><span style="color: #0000dd;">1</span><span style="color: #000000;">&#41;</span>; MAKEMAT<span style="color: #000000;">&#40;</span><span style="color: #0000dd;">2</span><span style="color: #000000;">&#41;</span>; MAKEMAT<span style="color: #000000;">&#40;</span><span style="color: #0000dd;">3</span><span style="color: #000000;">&#41;</span>; MAKEMAT<span style="color: #000000;">&#40;</span><span style="color: #0000dd;">4</span><span style="color: #000000;">&#41;</span>; MAKEMAT<span style="color: #000000;">&#40;</span><span style="color: #0000dd;">5</span><span style="color: #000000;">&#41;</span>;
    Mat1<span style="color: #000080;">=</span>mat1; Mat2<span style="color: #000080;">=</span>mat2;
    matrix mat3;
    mat3<span style="color: #000080;">=</span>mat2;

    mat3.<span style="color: #000000;">Inverse</span><span style="color: #000000;">&#40;</span><span style="color: #000000;">&#41;</span>;
    Mat3<span style="color: #000080;">=</span>mat1<span style="color: #000040;">*</span>mat3;  <span style="color: #008000;">//= mat1*Inv(mat2)</span>
    <span style="color: #000000;">printf</span><span style="color: #000000;">&#40;</span><span style="color: #ff00ff;">&quot;%s =&#160;%s*Inv(%s) &lt;== proper division of 2 matrices<span style="color: #666666; font-weight: bold;">\n</span>&quot;</span>,Mat3.<span style="color: #000000;">GetName</span><span style="color: #000000;">&#40;</span><span style="color: #000000;">&#41;</span>,Mat1.<span style="color: #000000;">GetName</span><span style="color: #000000;">&#40;</span><span style="color: #000000;">&#41;</span>,Mat2.<span style="color: #000000;">GetName</span><span style="color: #000000;">&#40;</span><span style="color: #000000;">&#41;</span><span style="color: #000000;">&#41;</span>;

    Mat4<span style="color: #000080;">=</span>mat1<span style="color: #000040;">/</span><span style="color: #0000dd;">10</span>;
    <span style="color: #000000;">printf</span><span style="color: #000000;">&#40;</span><span style="color: #ff00ff;">&quot;%s =&#160;%s/10 &lt;== scaler division of a matrix<span style="color: #666666; font-weight: bold;">\n</span>&quot;</span>,Mat4.<span style="color: #000000;">GetName</span><span style="color: #000000;">&#40;</span><span style="color: #000000;">&#41;</span>,Mat1.<span style="color: #000000;">GetName</span><span style="color: #000000;">&#40;</span><span style="color: #000000;">&#41;</span>,Mat2.<span style="color: #000000;">GetName</span><span style="color: #000000;">&#40;</span><span style="color: #000000;">&#41;</span><span style="color: #000000;">&#41;</span>;

    Mat5<span style="color: #000080;">=</span>mat1;
    Mat5.<span style="color: #000000;">DotDivide</span><span style="color: #000000;">&#40;</span>mat2<span style="color: #000000;">&#41;</span>;
    <span style="color: #000000;">printf</span><span style="color: #000000;">&#40;</span><span style="color: #ff00ff;">&quot;%s = DotDivide(%s,%s) &lt;== element-wise division of 2 matrices<span style="color: #666666; font-weight: bold;">\n</span>&quot;</span>,Mat5.<span style="color: #000000;">GetName</span><span style="color: #000000;">&#40;</span><span style="color: #000000;">&#41;</span>,Mat1.<span style="color: #000000;">GetName</span><span style="color: #000000;">&#40;</span><span style="color: #000000;">&#41;</span>,Mat2.<span style="color: #000000;">GetName</span><span style="color: #000000;">&#40;</span><span style="color: #000000;">&#41;</span><span style="color: #000000;">&#41;</span>;
<span style="color: #000000;">&#125;</span></pre>
<h2><a name="Remark"></a><span class="mw-headline">Remark</span></h2>
<p>Replace this matrix with the Inverse of this matrix. An error is returned if the underlying base type of the matrix is not double.
</p><p><br />
</p><p>Note
</p><p>The following is a summary of various matrix operations:
</p><p>1) Multiplication:
</p><p>1-1) * ... Proper multiplication of 2 matrices (mat1*mat2)
</p><p>1-2) * ... Scaler multiplication of a matrix (mat1*A or A*mat1)
</p><p>1-3) DotMultiply ... Element-wise multiplication of 2 matrices
</p><p>1-4) Cross ... Cross product of 2 matrices
</p><p>1-5) CumulativeProduct ... cumulative product of a matrix
</p><p>2) Division:
</p><p>2-1) / ... Not defined for 2 matrices. For proper division, multiply Inverse(mat1)
</p><p>2-2) / ... Scaler division of a matrix (mat1/A)
</p><p>2-3) DotDivide ...  Element-wise division of 2 matrices
</p><p>3) Addition:
</p><p>3-1) + ... Element-wise addition of 2 matrices
</p><p>3-2) + ... Scaler addition of a matrix (mat1+A or A+mat1)
</p><p>3-3) SumColumns ... Summation of each column in a matrix
</p><p>3-4) CumulativeSum ... Cumulative product of a matrix
</p><p>4) Subtraction:
</p><p>4-1) - ... Element-wise subtraction of 2 matrices
</p><p>4-2) - ... Scaler subtraction of a matrix (mat1-A or A-mat1)
</p><p>4-3) Difference ... Difference of adjacent 2 rows in a matrix (1st order differential)
</p><p>5) Power:
</p><p>5-1) ^ (or pow) ... Not defined as element-wise power of 2 matrices
</p><p>5-2) ^ (or pow) ... Not defined as scaler power of a matrix
</p><p>5-3) DotPower ... Element-wise power of 2 matrices
</p><p>To depict the differences of above divisions, try the EX2.
</p>
<h2><a name="See_Also"></a><span class="mw-headline">See Also</span></h2>
<p><a href="../../OriginC/OriginC/Matrixbase-GetReal.html" title="OriginC:Matrixbase-GetReal">matrixbase::GetReal</a>, <a href="../../OriginC/OriginC/Matrixbase-GetImaginary.html" title="OriginC:Matrixbase-GetImaginary">matrixbase::GetImaginary</a>, <a href="../../OriginC/OriginC/Matrixbase-GetPhase.html" title="OriginC:Matrixbase-GetPhase">matrixbase::GetPhase</a>, <a href="../../OriginC/OriginC/Matrixbase-GetAmplitude.html" title="OriginC:Matrixbase-GetAmplitude">matrixbase::GetAmplitude</a>, <a href="../../OriginC/OriginC/Matrixbase-Conjugate.html" title="OriginC:Matrixbase-Conjugate">matrixbase::Conjugate</a>, <a href="../../OriginC/OriginC/Matrixbase-Cross.html" title="OriginC:Matrixbase-Cross">matrixbase::Cross</a>, <a href="../../OriginC/OriginC/Matrixbase-MakeComplex.html" title="OriginC:Matrixbase-MakeComplex">matrixbase::MakeComplex</a>
</p>
<h2><a name="Header_to_Include"></a><span class="mw-headline">Header to Include</span></h2>
<p>origin.h
</p>





