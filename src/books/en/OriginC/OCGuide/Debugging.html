<h1 class="firstHeading">1.4.3 Debugging</h1><p><br />
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Debugging_in_Code_BuilderDebugging"><span class="tocnumber">1</span> <span class="toctext">Debugging in Code Builder<span class="OIndex" style="display:none">Debugging</span></span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Macros_for_Debugging"><span class="tocnumber">2</span> <span class="toctext">Macros for Debugging</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Create_an_Output_Macro"><span class="tocnumber">2.1</span> <span class="toctext">Create an Output Macro</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Comment_the_Debug_Macro_Body"><span class="tocnumber">2.2</span> <span class="toctext">Comment the Debug Macro Body</span></a></li>
</ul>
</li>
</ul>
</div>

<h2><a name="Debugging_in_Code_BuilderDebugging"></a><span class="mw-headline">Debugging in Code Builder<span class="OIndex" style="display:none">Debugging</span></span></h2>
<p><a href="../../OriginC/OCGuide/Create_and_Edit_an_Origin_C_File.html#Overview" title="OCGuide:Create and Edit an Origin C File">Code Builder</a> has features that allow you to debug your Origin C and LabTalk code.  You can set and remove breakpoints<span class="OIndex" style="display:none">Debugging, Breakpoints</span>, step through your code one statement at a time, step into and out of functions, and monitor the values of variables.  Debugging is turned on by default.  You can turn debugging on or off using the <b>Enable Breakpoints</b> item on the <b>Debug</b> menu.  If there is a check mark next to the item then debugging is turned on.
</p>
<table class="noborder"><tr>
	<td style="vertical-align:top" width="60"><img src="../images/Debugging/Tip_icon.png?v=21427" width="57"  border="0" /></td><td><p>When debugging Origin C code, you can hover on a variable name with your mouse to see a tooltip with the variable's current value.
</p><p>When a variable has a more complex structure, the tooltip can display a tree-like structure. To disable tree display, add the following to OIDEOptions.ini:
</p>
<pre class="oc" style="font-family:monospace;"><span style="color: #000000;">&#91;</span>Environment<span style="color: #000000;">&#93;</span>
bTreeLikeDataTip<span style="color: #000080;">=</span><span style="color: #0000dd;">0</span></pre>
</td></tr></table>
<h2><a name="Macros_for_Debugging"></a><span class="mw-headline">Macros for Debugging</span></h2>
<p>Origin C allows users to define multi-parameter macros which have many uses. Many programmers use output statements while developing code to indicate program flow and display the values of variables at key moments.  
</p>
<h4><a name="Create_an_Output_Macro"></a><span class="mw-headline">Create an Output Macro</span></h4>
<p>A convenient debugging technique is to define an output macro and then place that macro throughout your code as shown below.
</p>
<pre class="oc" style="font-family:monospace;"><span style="color: #0000ff;">#define</span>    DBG_OUT<span style="color: #000000;">&#40;</span>_text, _value<span style="color: #000000;">&#41;</span>     out_int<span style="color: #000000;">&#40;</span>_text, _value<span style="color: #000000;">&#41;</span>;
 
<span style="color: #0000ff;">void</span> DebugStatements<span style="color: #000000;">&#40;</span><span style="color: #000000;">&#41;</span>
<span style="color: #000000;">&#123;</span>
     <span style="color: #0000ff;">int</span> ii;
     DBG_OUT<span style="color: #000000;">&#40;</span><span style="color: #ff00ff;">&quot;ii at t0 = &quot;</span>, ii<span style="color: #000000;">&#41;</span>
     ii<span style="color: #000040;">++</span>;
     DBG_OUT<span style="color: #000000;">&#40;</span><span style="color: #ff00ff;">&quot;ii at t1 = &quot;</span>, ii<span style="color: #000000;">&#41;</span>
     ii<span style="color: #000040;">++</span>;
     DBG_OUT<span style="color: #000000;">&#40;</span><span style="color: #ff00ff;">&quot;ii at t2 = &quot;</span>, ii<span style="color: #000000;">&#41;</span>
     ii<span style="color: #000040;">++</span>;
     DBG_OUT<span style="color: #000000;">&#40;</span><span style="color: #ff00ff;">&quot;ii at t3 = &quot;</span>, ii<span style="color: #000000;">&#41;</span>
     <span style="color: #000000;">printf</span><span style="color: #000000;">&#40;</span><span style="color: #ff00ff;">&quot;Finished running DebugMacros.&quot;</span><span style="color: #000000;">&#41;</span>;
<span style="color: #000000;">&#125;</span></pre>
<h4><a name="Comment_the_Debug_Macro_Body"></a><span class="mw-headline">Comment the Debug Macro Body</span></h4>
<p>During the development cycle the body of the macro can remain defined as above causing the desired debug messages to be shown on the message box.  However, once development is complete (or at least stable) the macro can be redefined as below causing the debug statements to disappear.
</p>
<pre class="oc" style="font-family:monospace;"><span style="color: #0000ff;">#define</span>    DBG_OUT<span style="color: #000000;">&#40;</span>_text, _value<span style="color: #000000;">&#41;</span>   <span style="color: #008000;">//  out_int(_text, _value);</span></pre>
<p>Commenting out the body of the <b>DBG_OUT</b> macro (and rebuilding) causes the debug statements to disappear without having to remove the many possible instances of its use, saving them for possible reuse in the future.  Should the code ever need to be modified or debugged again the body of the macro can simply be uncommented.
</p>

