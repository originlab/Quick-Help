<h1 class="firstHeading">1.8.3 Date and Time Data</h1><p>Origin C provides support for date and time data.
</p>
<h2><a name="Get_Current_Date_TimeDate_Time.2C_Get_Current_Date_Time"></a><span class="mw-headline">Get Current Date Time<span class="OIndex" style="display:none">Date Time, Get Current Date Time</span></span></h2>
<pre class="oc" style="font-family:monospace;"><span style="color: #008000;">// Get current time</span>
<span style="color: #0000ff;">time_t</span> aclock;
<span style="color: #000000;">time</span><span style="color: #000000;">&#40;</span> <span style="color: #000040;">&amp;</span>aclock <span style="color: #000000;">&#41;</span>;

<span style="color: #008000;">// Converts a time value and corrects for the local time zone</span>
<span style="color: #0000ff;">TM</span> tmLocal;
convert_time_to_local<span style="color: #000000;">&#40;</span><span style="color: #000040;">&amp;</span>aclock , <span style="color: #000040;">&amp;</span>tmLocal<span style="color: #000000;">&#41;</span>;

<span style="color: #008000;">// Convert time value from TM format to system time format</span>
SYSTEMTIME sysTime;
tm_to_systemtime<span style="color: #000000;">&#40;</span><span style="color: #000040;">&amp;</span>tmLocal, <span style="color: #000040;">&amp;</span>sysTime<span style="color: #000000;">&#41;</span>;	

<span style="color: #008000;">// Get date string from system time</span>
<span style="color: #0000ff;">char</span> 	lpcstrTime<span style="color: #000000;">&#91;</span><span style="color: #0000dd;">100</span><span style="color: #000000;">&#93;</span>;
<span style="color: #0000ff;">if</span><span style="color: #000000;">&#40;</span>systemtime_to_date_str<span style="color: #000000;">&#40;</span><span style="color: #000040;">&amp;</span>sysTime, lpcstrTime, LDF_SHORT_AND_HHMM_SEPARCOLON<span style="color: #000000;">&#41;</span><span style="color: #000000;">&#41;</span>
    <span style="color: #000000;">printf</span><span style="color: #000000;">&#40;</span><span style="color: #ff00ff;">&quot;Current Date Time is&#160;%s<span style="color: #666666; font-weight: bold;">\n</span>&quot;</span>, lpcstrTime<span style="color: #000000;">&#41;</span>;</pre>
<h2><a name="Convert_Julian_Date_to_StringDate_Time.2C_Convert_Julian_Date_to_StringDate_Time.2C_Custom_Date_Format"></a><span class="mw-headline">Convert Julian Date to String<span class="OIndex" style="display:none">Date Time, Convert Julian Date to String</span><span class="OIndex" style="display:none">Date Time, Custom Date Format</span></span></h2>
<pre class="oc" style="font-family:monospace;">SYSTEMTIME st;
GetSystemTime<span style="color: #000000;">&#40;</span><span style="color: #000040;">&amp;</span>st<span style="color: #000000;">&#41;</span>; <span style="color: #008000;">// Gets current date time</span>

<span style="color: #0000ff;">double</span> dJulianDate;
SystemTimeToJulianDate<span style="color: #000000;">&#40;</span><span style="color: #000040;">&amp;</span>dJulianDate, <span style="color: #000040;">&amp;</span>st<span style="color: #000000;">&#41;</span>; <span style="color: #008000;">// Convert to Julian date</span>

<span style="color: #008000;">// Convert Julian date to string with the specified format</span>
string strDate <span style="color: #000080;">=</span> get_date_str<span style="color: #000000;">&#40;</span>dJulianDate, LDF_SHORT_AND_HHMM_SEPARCOLON<span style="color: #000000;">&#41;</span>;
out_str<span style="color: #000000;">&#40;</span>strDate<span style="color: #000000;">&#41;</span>;</pre>
<h2><a name="Convert_String_to_Julian_DateDate_Time.2C_Convert_String_to_Julian_Date"></a><span class="mw-headline">Convert String to Julian Date<span class="OIndex" style="display:none">Date Time, Convert String to Julian Date</span></span></h2>
<pre class="oc" style="font-family:monospace;">string strDate <span style="color: #000080;">=</span> <span style="color: #ff00ff;">&quot;090425 17:59:59&quot;</span>;
<span style="color: #0000ff;">double</span> dt <span style="color: #000080;">=</span> str_to_date<span style="color: #000000;">&#40;</span>strDate, LDF_YYMMDD_AND_HHMMSS<span style="color: #000000;">&#41;</span>;</pre>






