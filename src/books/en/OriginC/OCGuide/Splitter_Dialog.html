<h1 class="firstHeading">1.18.1.4.4 Splitter Dialog</h1><p><span class="OIndex" style="display:none">Splitter Dialog</span><span class="OIndex" style="display:none">Dialog with Tree View Control</span>
This example shows how to create a splitter dialog, which provides a better display of tree view or grid view.
</p><p><a  class="image"><img alt="Ocguide splitter dialog.png" src="../images/Splitter_Dialog/Ocguide_splitter_dialog.png?v=30160" width="464"  /></a>
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Prepare_Dialog_Resource"><span class="tocnumber">1</span> <span class="toctext">Prepare Dialog Resource</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Prepare_Source_File"><span class="tocnumber">2</span> <span class="toctext">Prepare Source File</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Including_Header_Files"><span class="tocnumber">3</span> <span class="toctext">Including Header Files</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Adding_User_Defined_Splitter_Class"><span class="tocnumber">4</span> <span class="toctext">Adding User Defined Splitter Class</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Adding_User_Defined_Splitter_Dialog_Class"><span class="tocnumber">5</span> <span class="toctext">Adding User Defined Splitter Dialog Class</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Open_Dialog"><span class="tocnumber">6</span> <span class="toctext">Open Dialog</span></a></li>
</ul>
</div>

<h2><a name="Prepare_Dialog_Resource"></a><span class="mw-headline">Prepare Dialog Resource</span></h2>
<p>To create this dialog, you first must prepare a dialog resource with a Static control and two Button controls. Here we just use the existing resource IDD_SAMPLE_SPLITTER_DLG in the built-in <i>OriginC\Originlab\ODlg8.dll</i> file to simplify this example.
</p>
<h2><a name="Prepare_Source_File"></a><span class="mw-headline">Prepare Source File</span></h2>
<p><span class="OIndex" style="display:none">Source File, New</span>In Code Builder, click New button<a  class="image"><img alt="Newfile button.png" src="../images/Splitter_Dialog/Newfile_button.png?v=22495" width="23"  /></a>, type file name, and set Location as the same path of the above dialog resource dll oDlg8.dll - Origin install path <i>OriginC\Originlab</i> subfolder.
</p>
<h2><a name="Including_Header_Files"></a><span class="mw-headline">Including Header Files</span></h2>
<p>The following header files will be used in the example. Copy the following to the above created source file. 
</p>
<pre class="oc" style="font-family:monospace;"><span style="color: #0000ff;">#include</span> <span style="color: #000080;">&lt;</span>..\Originlab\DialogEx.<span style="color: #000000;">h</span><span style="color: #000080;">&gt;</span>
<span style="color: #0000ff;">#include</span> <span style="color: #000080;">&lt;</span>..\Originlab\SplitterControl.<span style="color: #000000;">h</span><span style="color: #000080;">&gt;</span>
<span style="color: #0000ff;">#include</span> <span style="color: #000080;">&lt;</span>..\Originlab\DynaSplitter.<span style="color: #000000;">h</span><span style="color: #000080;">&gt;</span></pre>
<h2><a name="Adding_User_Defined_Splitter_Class"></a><span class="mw-headline">Adding User Defined Splitter Class</span></h2>
<p><span class="OIndex" style="display:none">Classes, User Defined</span>We can derive a class from <b>TreeDynaSplitter</b>.  Most dialog initialization and other event functions' code are done in a base class and make our splitter class a light class.
<span class="OIndex" style="display:none">Message Map</span>
</p>
<pre class="oc" style="font-family:monospace;"><span style="color: #0000ff;">class</span> MySplitter <span style="color: #000000;">:</span> <span style="color: #0000ff;">public</span> TreeDynaSplitter
<span style="color: #000000;">&#123;</span>
<span style="color: #0000ff;">public</span><span style="color: #000000;">:</span>
	MySplitter<span style="color: #000000;">&#40;</span><span style="color: #000000;">&#41;</span><span style="color: #000000;">&#123;</span><span style="color: #000000;">&#125;</span>
	~MySplitter<span style="color: #000000;">&#40;</span><span style="color: #000000;">&#41;</span><span style="color: #000000;">&#123;</span><span style="color: #000000;">&#125;</span>
	<span style="color: #008000;">//init the splitter control</span>
	<span style="color: #0000ff;">int</span>	Init<span style="color: #000000;">&#40;</span><span style="color: #0000ff;">int</span> nCtrlID, WndContainer<span style="color: #000040;">&amp;</span> wndParent, LPCSTR lpcszDlgName <span style="color: #000080;">=</span> <span style="color: #0000ff;">NULL</span><span style="color: #000000;">&#41;</span>
	<span style="color: #000000;">&#123;</span>
		TreeDynaSplitter<span style="color: #000000;">::</span><span style="color: #000000;">Init</span><span style="color: #000000;">&#40;</span>nCtrlID, wndParent, <span style="color: #0000dd;">0</span>, lpcszDlgName<span style="color: #000000;">&#41;</span>;
		<span style="color: #0000ff;">return</span> <span style="color: #0000dd;">0</span>;
	<span style="color: #000000;">&#125;</span>
	<span style="color: #008000;">//output current settings</span>
	<span style="color: #0000ff;">void</span>	Output<span style="color: #000000;">&#40;</span><span style="color: #000000;">&#41;</span>
	<span style="color: #000000;">&#123;</span>
		out_tree<span style="color: #000000;">&#40;</span>m_trSettings<span style="color: #000000;">&#41;</span>;
	<span style="color: #000000;">&#125;</span>
<span style="color: #0000ff;">protected</span><span style="color: #000000;">:</span>
	<span style="color: #008000;">// Declare message map table and message handler</span>
	DECLARE_MESSAGE_MAP
	<span style="color: #0000ff;">BOOL</span>	OnInitSplitter<span style="color: #000000;">&#40;</span><span style="color: #000000;">&#41;</span>;
	<span style="color: #0000ff;">BOOL</span>	InitSettings<span style="color: #000000;">&#40;</span><span style="color: #000000;">&#41;</span>;
	<span style="color: #0000ff;">void</span>	OnRowChange<span style="color: #000000;">&#40;</span>Control ctrl<span style="color: #000000;">&#41;</span>;
	
<span style="color: #0000ff;">private</span><span style="color: #000000;">:</span>
	<span style="color: #0000ff;">BOOL</span>	constructSettings<span style="color: #000000;">&#40;</span><span style="color: #000000;">&#41;</span>;	
	<span style="color: #0000ff;">BOOL</span>	initSystemInfo<span style="color: #000000;">&#40;</span>TreeNode<span style="color: #000040;">&amp;</span> trSys<span style="color: #000000;">&#41;</span>;<span style="color: #008000;">//show system information	</span>
	<span style="color: #0000ff;">BOOL</span>	initUserInfo<span style="color: #000000;">&#40;</span>TreeNode<span style="color: #000040;">&amp;</span> trUser<span style="color: #000000;">&#41;</span>;<span style="color: #008000;">//to collect user settings.</span>

<span style="color: #0000ff;">private</span><span style="color: #000000;">:</span>	
	GridTreeControl	m_List; <span style="color: #008000;">//grid control on left panel	</span>
	Tree	m_trSettings;<span style="color: #008000;">//splitter tree on right panel	</span>
	<span style="color: #0000ff;">bool</span>	m_bIsInit;<span style="color: #008000;">//indicate whether it is from init event</span>
	
<span style="color: #000000;">&#125;</span>;

<span style="color: #008000;">//map the control messages and events.</span>
BEGIN_MESSAGE_MAP_DERIV<span style="color: #000000;">&#40;</span>MySplitter, TreeDynaSplitter<span style="color: #000000;">&#41;</span>
	
	ON_INIT<span style="color: #000000;">&#40;</span>OnInitSplitter<span style="color: #000000;">&#41;</span> <span style="color: #008000;">//init splitter settings</span>
	<span style="color: #008000;">//save splitter size &amp; position when destroy</span>
	<span style="color: #008000;">//this is done in base class.</span>
	ON_DESTROY<span style="color: #000000;">&#40;</span>OnDestroy<span style="color: #000000;">&#41;</span>
	ON_SIZE<span style="color: #000000;">&#40;</span>OnCtrlResize<span style="color: #000000;">&#41;</span>
	<span style="color: #008000;">//when control is ready, need to resize the splitter and its position</span>
	ON_USER_MSG<span style="color: #000000;">&#40;</span>WM_USER_RESIZE_CONTROLS, OnInitPaneSizs<span style="color: #000000;">&#41;</span>
	
	<span style="color: #008000;">//when user select different row on left panel</span>
	ON_GRID_ROW_COL_CHANGE<span style="color: #000000;">&#40;</span>GetMainPaneID<span style="color: #000000;">&#40;</span><span style="color: #000000;">&#41;</span>, OnRowChange<span style="color: #000000;">&#41;</span>
END_MESSAGE_MAP_DERIV

<span style="color: #0000ff;">BOOL</span>	MySplitter<span style="color: #000000;">::</span><span style="color: #000000;">OnInitSplitter</span><span style="color: #000000;">&#40;</span><span style="color: #000000;">&#41;</span>
<span style="color: #000000;">&#123;</span>
	TreeDynaSplitter<span style="color: #000000;">::</span><span style="color: #000000;">OnInitSplitter</span><span style="color: #000000;">&#40;</span><span style="color: #000040;">&amp;</span>m_List<span style="color: #000000;">&#41;</span>;
	constructSettings<span style="color: #000000;">&#40;</span><span style="color: #000000;">&#41;</span>;	<span style="color: #008000;">//construct tree settings</span>
	InitSettings<span style="color: #000000;">&#40;</span><span style="color: #000000;">&#41;</span>; <span style="color: #008000;">//tree settings to splitter GUI</span>
	SetReady<span style="color: #000000;">&#40;</span><span style="color: #000000;">&#41;</span>;
	<span style="color: #0000ff;">return</span> <span style="color: #0000ff;">TRUE</span>;
<span style="color: #000000;">&#125;</span>

<span style="color: #008000;">//when user selects a different row, update right panel</span>
<span style="color: #0000ff;">void</span>	MySplitter<span style="color: #000000;">::</span><span style="color: #000000;">OnRowChange</span><span style="color: #000000;">&#40;</span>Control ctrl<span style="color: #000000;">&#41;</span>
<span style="color: #000000;">&#123;</span>
	<span style="color: #0000ff;">if</span> <span style="color: #000000;">&#40;</span> <span style="color: #000040;">!</span>m_bReady <span style="color: #000000;">&#41;</span>
		<span style="color: #0000ff;">return</span>;
	<span style="color: #008000;">//show sub nodes under current branch</span>
	TreeNode trCurrent <span style="color: #000080;">=</span> ShowListContent<span style="color: #000000;">&#40;</span><span style="color: #000040;">-</span><span style="color: #0000dd;">1</span>, <span style="color: #0000ff;">true</span>, m_bIsInit<span style="color: #000000;">&#41;</span>;
	<span style="color: #0000ff;">if</span> <span style="color: #000000;">&#40;</span> trCurrent <span style="color: #000000;">&#41;</span>
	<span style="color: #000000;">&#123;</span>
		<span style="color: #008000;">//load settings from registry</span>
		string strTag <span style="color: #000080;">=</span> trCurrent.<span style="color: #000000;">tagName</span>;
		LoadBranchSetting<span style="color: #000000;">&#40;</span>GetDlgName<span style="color: #000000;">&#40;</span><span style="color: #000000;">&#41;</span>, strTag<span style="color: #000000;">&#41;</span>;
	<span style="color: #000000;">&#125;</span>
	m_bIsInit <span style="color: #000080;">=</span> <span style="color: #0000ff;">false</span>;
	<span style="color: #0000ff;">return</span>;
<span style="color: #000000;">&#125;</span>

<span style="color: #008000;">//init splitter settings</span>
<span style="color: #0000ff;">BOOL</span>	MySplitter<span style="color: #000000;">::</span><span style="color: #000000;">InitSettings</span><span style="color: #000000;">&#40;</span><span style="color: #000000;">&#41;</span>
<span style="color: #000000;">&#123;</span>
	m_bIsInit <span style="color: #000080;">=</span> <span style="color: #0000ff;">true</span>;
	<span style="color: #008000;">///set not ready, avoid flash and painting problem on GUI</span>
	m_bReady <span style="color: #000080;">=</span> <span style="color: #0000ff;">false</span>;
	<span style="color: #008000;">//set the splitter tree for display</span>
	ShowList<span style="color: #000000;">&#40;</span>m_trSettings, ATRN_STOP_LEVEL<span style="color: #000000;">&#41;</span>;
	m_bReady <span style="color: #000080;">=</span> <span style="color: #0000ff;">true</span>; <span style="color: #008000;">//reset ready state.</span>
	SelectRow<span style="color: #000000;">&#40;</span><span style="color: #0000dd;">0</span><span style="color: #000000;">&#41;</span>; <span style="color: #008000;">//select first row.</span>
	<span style="color: #0000ff;">return</span> <span style="color: #0000ff;">TRUE</span>;
<span style="color: #000000;">&#125;</span>

<span style="color: #0000ff;">BOOL</span>	MySplitter<span style="color: #000000;">::</span><span style="color: #000000;">constructSettings</span><span style="color: #000000;">&#40;</span><span style="color: #000000;">&#41;</span>
<span style="color: #000000;">&#123;</span>
	TreeNode trSys <span style="color: #000080;">=</span> m_trSettings.<span style="color: #000000;">AddNode</span><span style="color: #000000;">&#40;</span><span style="color: #ff00ff;">&quot;System&quot;</span><span style="color: #000000;">&#41;</span>;
	trSys.<span style="color: #000000;">SetAttribute</span><span style="color: #000000;">&#40;</span>STR_LABEL_ATTRIB, <span style="color: #ff00ff;">&quot;System Information&quot;</span><span style="color: #000000;">&#41;</span>;
	initSystemInfo<span style="color: #000000;">&#40;</span>trSys<span style="color: #000000;">&#41;</span>;
	
	TreeNode trUser <span style="color: #000080;">=</span> m_trSettings.<span style="color: #000000;">AddNode</span><span style="color: #000000;">&#40;</span><span style="color: #ff00ff;">&quot;User&quot;</span><span style="color: #000000;">&#41;</span>;
	trUser.<span style="color: #000000;">SetAttribute</span><span style="color: #000000;">&#40;</span>STR_LABEL_ATTRIB, <span style="color: #ff00ff;">&quot;User Settings&quot;</span><span style="color: #000000;">&#41;</span>;
	initUserInfo<span style="color: #000000;">&#40;</span>trUser<span style="color: #000000;">&#41;</span>;
	<span style="color: #0000ff;">return</span> <span style="color: #0000ff;">TRUE</span>;
<span style="color: #000000;">&#125;</span>

<span style="color: #008000;">//display your Origin's basic information.</span>
<span style="color: #008000;">//you can also display OS related information here.</span>
<span style="color: #0000ff;">BOOL</span>	MySplitter<span style="color: #000000;">::</span><span style="color: #000000;">initSystemInfo</span><span style="color: #000000;">&#40;</span>TreeNode<span style="color: #000040;">&amp;</span> trSys<span style="color: #000000;">&#41;</span>
<span style="color: #000000;">&#123;</span>
	<span style="color: #0000ff;">if</span> <span style="color: #000000;">&#40;</span> <span style="color: #000040;">!</span>trSys <span style="color: #000000;">&#41;</span>
		<span style="color: #0000ff;">return</span> <span style="color: #0000ff;">FALSE</span>;
	
	<span style="color: #0000ff;">char</span> szUser<span style="color: #000000;">&#91;</span>LIC_USERINFO_NAME_COMPANY_MAXLEN<span style="color: #000000;">&#93;</span>;
	<span style="color: #0000ff;">char</span> szCompany<span style="color: #000000;">&#91;</span>LIC_USERINFO_NAME_COMPANY_MAXLEN<span style="color: #000000;">&#93;</span>;
	<span style="color: #0000ff;">char</span> szSerial<span style="color: #000000;">&#91;</span>LIC_OTHER_INFO_MAXLEN<span style="color: #000000;">&#93;</span>;
	<span style="color: #0000ff;">char</span> szRegCode<span style="color: #000000;">&#91;</span>LIC_OTHER_INFO_MAXLEN<span style="color: #000000;">&#93;</span>;
	DWORD dwProd <span style="color: #000080;">=</span> GetLicenseInfo<span style="color: #000000;">&#40;</span>szUser, szCompany, szSerial, szRegCode<span style="color: #000000;">&#41;</span>;
	string strProduct;
	<span style="color: #0000ff;">switch</span><span style="color: #000000;">&#40;</span> dwProd <span style="color: #000040;">&amp;</span> 0x000000FF <span style="color: #000000;">&#41;</span>
	<span style="color: #000000;">&#123;</span>
	<span style="color: #0000ff;">case</span> ORGPRODUCTTYPE_EVALUATION<span style="color: #000000;">:</span>
		strProduct <span style="color: #000080;">=</span> <span style="color: #ff00ff;">&quot;Evaluation&quot;</span>;
		<span style="color: #0000ff;">break</span>;
	<span style="color: #0000ff;">case</span> ORGPRODUCTTYPE_STUDENT<span style="color: #000000;">:</span>
		strProduct <span style="color: #000080;">=</span> <span style="color: #ff00ff;">&quot;Student&quot;</span>;
		<span style="color: #0000ff;">break</span>;
	<span style="color: #0000ff;">case</span> ORGPRODUCTTYPE_REGULAR<span style="color: #000000;">:</span>
		strProduct <span style="color: #000080;">=</span> <span style="color: #ff00ff;">&quot;Regular&quot;</span>;
		<span style="color: #0000ff;">break</span>;
	<span style="color: #0000ff;">case</span> ORGPRODUCTTYPE_PRO<span style="color: #000000;">:</span>
		strProduct <span style="color: #000080;">=</span> <span style="color: #ff00ff;">&quot;Professional&quot;</span>;
		<span style="color: #0000ff;">break</span>;
	<span style="color: #0000ff;">default</span><span style="color: #000000;">:</span>
		strProduct <span style="color: #000080;">=</span> <span style="color: #ff00ff;">&quot;Unknown&quot;</span>;
		<span style="color: #0000ff;">break</span>;
	<span style="color: #000000;">&#125;</span>

	GETN_USE<span style="color: #000000;">&#40;</span>trSys<span style="color: #000000;">&#41;</span>
	GETN_STR<span style="color: #000000;">&#40;</span>UserName, <span style="color: #ff00ff;">&quot;User Name&quot;</span>, szUser<span style="color: #000000;">&#41;</span>
	GETN_READ_ONLY_EX<span style="color: #000000;">&#40;</span><span style="color: #0000dd;">2</span><span style="color: #000000;">&#41;</span>
	GETN_STR<span style="color: #000000;">&#40;</span>Company, <span style="color: #ff00ff;">&quot;Company Name&quot;</span>, szCompany<span style="color: #000000;">&#41;</span>
	GETN_READ_ONLY_EX<span style="color: #000000;">&#40;</span><span style="color: #0000dd;">2</span><span style="color: #000000;">&#41;</span>
	GETN_STR<span style="color: #000000;">&#40;</span>SeriNum, <span style="color: #ff00ff;">&quot;Serial Number&quot;</span>, szSerial<span style="color: #000000;">&#41;</span>
	GETN_READ_ONLY_EX<span style="color: #000000;">&#40;</span><span style="color: #0000dd;">2</span><span style="color: #000000;">&#41;</span>
	GETN_STR<span style="color: #000000;">&#40;</span>RegCode, <span style="color: #ff00ff;">&quot;Register Code&quot;</span>, szRegCode<span style="color: #000000;">&#41;</span>
	GETN_READ_ONLY_EX<span style="color: #000000;">&#40;</span><span style="color: #0000dd;">2</span><span style="color: #000000;">&#41;</span>
	GETN_STR<span style="color: #000000;">&#40;</span>Product, <span style="color: #ff00ff;">&quot;Product Version&quot;</span>, strProduct<span style="color: #000000;">&#41;</span>
	GETN_READ_ONLY_EX<span style="color: #000000;">&#40;</span><span style="color: #0000dd;">2</span><span style="color: #000000;">&#41;</span>
	<span style="color: #0000ff;">return</span> <span style="color: #0000ff;">TRUE</span>;
<span style="color: #000000;">&#125;</span>

<span style="color: #008000;">//controls to collect user information and settings.</span>
<span style="color: #0000ff;">BOOL</span>	MySplitter<span style="color: #000000;">::</span><span style="color: #000000;">initUserInfo</span><span style="color: #000000;">&#40;</span>TreeNode<span style="color: #000040;">&amp;</span> trUser<span style="color: #000000;">&#41;</span>
<span style="color: #000000;">&#123;</span>
	<span style="color: #0000ff;">if</span> <span style="color: #000000;">&#40;</span> <span style="color: #000040;">!</span>trUser <span style="color: #000000;">&#41;</span>
		<span style="color: #0000ff;">return</span> <span style="color: #0000ff;">FALSE</span>;

	GETN_USE<span style="color: #000000;">&#40;</span>trUser<span style="color: #000000;">&#41;</span>
	GETN_STRLIST<span style="color: #000000;">&#40;</span>Language, <span style="color: #ff00ff;">&quot;Language&quot;</span>, <span style="color: #ff00ff;">&quot;English&quot;</span>, <span style="color: #ff00ff;">&quot;|English|German&quot;</span><span style="color: #000000;">&#41;</span>
	GETN_STR<span style="color: #000000;">&#40;</span>UserID, <span style="color: #ff00ff;">&quot;User ID&quot;</span>, <span style="color: #ff00ff;">&quot;&quot;</span><span style="color: #000000;">&#41;</span>
	GETN_PASSWORD<span style="color: #000000;">&#40;</span>Password, <span style="color: #ff00ff;">&quot;Password&quot;</span>, <span style="color: #ff00ff;">&quot;&quot;</span><span style="color: #000000;">&#41;</span>
	GETN_STR<span style="color: #000000;">&#40;</span>Email, <span style="color: #ff00ff;">&quot;Email&quot;</span>, <span style="color: #ff00ff;">&quot;user@originlab.com&quot;</span><span style="color: #000000;">&#41;</span>
	
	<span style="color: #0000ff;">return</span> <span style="color: #0000ff;">TRUE</span>;
<span style="color: #000000;">&#125;</span></pre>
<h2><a name="Adding_User_Defined_Splitter_Dialog_Class"></a><span class="mw-headline">Adding User Defined Splitter Dialog Class</span></h2>
<p><span class="OIndex" style="display:none">Dialog, Event Functions</span>The splitter dialog contains a splitter control object, so the dialog can initialize the splitter control and post messages to it on the proper events.
</p>
<pre class="oc" style="font-family:monospace;"><span style="color: #008000;">//dialog name, which will also be used to save settings in registry</span>
<span style="color: #0000ff;">#define</span>	STR_DLG_NAME	<span style="color: #ff00ff;">&quot;My Splitter Dialog&quot;</span>
<span style="color: #0000ff;">class</span> MySplitterDlg <span style="color: #000000;">:</span> <span style="color: #0000ff;">public</span> MultiPaneDlg
<span style="color: #000000;">&#123;</span>
<span style="color: #0000ff;">public</span><span style="color: #000000;">:</span>
	<span style="color: #008000;">//resource ID and which DLL contains this dialog resource</span>
	MySplitterDlg<span style="color: #000000;">&#40;</span><span style="color: #000000;">&#41;</span> <span style="color: #000000;">:</span> MultiPaneDlg<span style="color: #000000;">&#40;</span>IDD_SAMPLE_SPLITTER_DLG, <span style="color: #ff00ff;">&quot;ODlg8&quot;</span><span style="color: #000000;">&#41;</span>
	<span style="color: #000000;">&#123;</span>
	<span style="color: #000000;">&#125;</span>
	~MySplitterDlg<span style="color: #000000;">&#40;</span><span style="color: #000000;">&#41;</span>
	<span style="color: #000000;">&#123;</span>
	<span style="color: #000000;">&#125;</span>
	<span style="color: #008000;">//open dialog until user close it.</span>
	<span style="color: #0000ff;">int</span>	DoModalEx<span style="color: #000000;">&#40;</span>HWND hParent <span style="color: #000080;">=</span> <span style="color: #0000ff;">NULL</span><span style="color: #000000;">&#41;</span>
	<span style="color: #000000;">&#123;</span>
		<span style="color: #008000;">//set up message map</span>
		InitMsgMap<span style="color: #000000;">&#40;</span><span style="color: #000000;">&#41;</span>;
		<span style="color: #0000ff;">return</span> DoModal<span style="color: #000000;">&#40;</span>hParent, DLG_NO_DEFAULT_REPOSITION<span style="color: #000000;">&#41;</span>;
	<span style="color: #000000;">&#125;</span>
	<span style="color: #008000;">//init controls and other settings before dialog open</span>
	<span style="color: #0000ff;">BOOL</span>	OnInitDialog<span style="color: #000000;">&#40;</span><span style="color: #000000;">&#41;</span>;
	<span style="color: #008000;">//when dialog initialization finish</span>
	<span style="color: #0000ff;">BOOL</span>	OnReady<span style="color: #000000;">&#40;</span><span style="color: #000000;">&#41;</span>;
	<span style="color: #008000;">//when user click 'Output' button</span>
	<span style="color: #0000ff;">BOOL</span>	OnOutput<span style="color: #000000;">&#40;</span>Control ctrl<span style="color: #000000;">&#41;</span>;
<span style="color: #0000ff;">protected</span><span style="color: #000000;">:</span>
	DECLARE_MESSAGE_MAP
<span style="color: #0000ff;">private</span><span style="color: #000000;">:</span>
	MySplitter	m_Splitter;
	
<span style="color: #000000;">&#125;</span>;

<span style="color: #008000;">//map dialog message</span>
BEGIN_MESSAGE_MAP<span style="color: #000000;">&#40;</span>MySplitterDlg<span style="color: #000000;">&#41;</span>
	ON_INIT<span style="color: #000000;">&#40;</span>OnInitDialog<span style="color: #000000;">&#41;</span>
	ON_READY<span style="color: #000000;">&#40;</span>OnReady<span style="color: #000000;">&#41;</span>
	ON_BN_CLICKED<span style="color: #000000;">&#40;</span>IDC_LOAD, OnOutput<span style="color: #000000;">&#41;</span>
END_MESSAGE_MAP

<span style="color: #0000ff;">BOOL</span>	MySplitterDlg<span style="color: #000000;">::</span><span style="color: #000000;">OnInitDialog</span><span style="color: #000000;">&#40;</span><span style="color: #000000;">&#41;</span>
<span style="color: #000000;">&#123;</span>
	<span style="color: #008000;">//rename buttons title to meaningful text</span>
	GetDlgItem<span style="color: #000000;">&#40;</span>IDC_LOAD<span style="color: #000000;">&#41;</span>.<span style="color: #000000;">Text</span> <span style="color: #000080;">=</span> <span style="color: #ff00ff;">&quot;Output&quot;</span>;
	GetDlgItem<span style="color: #000000;">&#40;</span>IDCANCEL<span style="color: #000000;">&#41;</span>.<span style="color: #000000;">Text</span> <span style="color: #000080;">=</span> <span style="color: #ff00ff;">&quot;Close&quot;</span>;
	m_Splitter.<span style="color: #000000;">Init</span><span style="color: #000000;">&#40;</span>IDC_FB_BOX, <span style="color: #000040;">*</span><span style="color: #0000ff;">this</span>, STR_DLG_NAME<span style="color: #000000;">&#41;</span>;
	<span style="color: #0000ff;">return</span> <span style="color: #0000ff;">TRUE</span>;
<span style="color: #000000;">&#125;</span>

<span style="color: #0000ff;">BOOL</span>	MySplitterDlg<span style="color: #000000;">::</span><span style="color: #000000;">OnReady</span><span style="color: #000000;">&#40;</span><span style="color: #000000;">&#41;</span>
<span style="color: #000000;">&#123;</span>
	<span style="color: #008000;">//update dialog</span>
	UpdateDlgShow<span style="color: #000000;">&#40;</span><span style="color: #000000;">&#41;</span>;
	SetInitReady<span style="color: #000000;">&#40;</span><span style="color: #000000;">&#41;</span>;
	<span style="color: #008000;">//set splittercontrol ready as to init the position and size</span>
	m_Splitter.<span style="color: #000000;">OnReady</span><span style="color: #000000;">&#40;</span><span style="color: #000000;">&#41;</span>;
	<span style="color: #0000ff;">return</span> <span style="color: #0000ff;">TRUE</span>;
<span style="color: #000000;">&#125;</span>

<span style="color: #0000ff;">BOOL</span>	MySplitterDlg<span style="color: #000000;">::</span><span style="color: #000000;">OnOutput</span><span style="color: #000000;">&#40;</span>Control ctrl<span style="color: #000000;">&#41;</span>
<span style="color: #000000;">&#123;</span>
	<span style="color: #008000;">//dump current user settings.</span>
	m_Splitter.<span style="color: #000000;">Output</span><span style="color: #000000;">&#40;</span><span style="color: #000000;">&#41;</span>;
	<span style="color: #0000ff;">return</span> <span style="color: #0000ff;">TRUE</span>;
<span style="color: #000000;">&#125;</span></pre>
<h2><a name="Open_Dialog"></a><span class="mw-headline">Open Dialog</span></h2>
<p><span class="OIndex" style="display:none">Dialog, Open</span>After the steps above, save all the code and build it, then execute the following function to open the splitter dialog.
</p>
<pre class="oc" style="font-family:monospace;"><span style="color: #0000ff;">void</span>	test_MySplitterDlg<span style="color: #000000;">&#40;</span><span style="color: #000000;">&#41;</span>
<span style="color: #000000;">&#123;</span>
	MySplitterDlg dlg;
	dlg.<span style="color: #000000;">DoModalEx</span><span style="color: #000000;">&#40;</span>GetWindow<span style="color: #000000;">&#40;</span><span style="color: #000000;">&#41;</span><span style="color: #000000;">&#41;</span>;
<span style="color: #000000;">&#125;</span></pre>






