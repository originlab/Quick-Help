<h1 class="firstHeading">2.11.1.1 fft1</h1><p><br />
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Menu_Information"><span class="tocnumber">1</span> <span class="toctext">Menu Information</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Brief_Information"><span class="tocnumber">2</span> <span class="toctext">Brief Information</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Additional_Information"><span class="tocnumber">3</span> <span class="toctext">Additional Information</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Command_Line_Usage"><span class="tocnumber">4</span> <span class="toctext">Command Line Usage</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#X-Function_Execution_Options"><span class="tocnumber">5</span> <span class="toctext">X-Function Execution Options</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Variables"><span class="tocnumber">6</span> <span class="toctext">Variables</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#Examples"><span class="tocnumber">7</span> <span class="toctext">Examples</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#More_Information"><span class="tocnumber">8</span> <span class="toctext">More Information</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="#Related_X-Functions"><span class="tocnumber">9</span> <span class="toctext">Related X-Functions</span></a></li>
</ul>
</div>

<h2><a name="Menu_Information"></a><span class="mw-headline">Menu Information</span></h2>
<p>Analysis: Signal Processing: FFT: FFT
</p>
<h2><a name="Brief_Information"></a><span class="mw-headline">Brief Information</span></h2>
<p>Compute fourier transform
</p>
<h2><a name="Additional_Information"></a><span class="mw-headline">Additional Information</span></h2>
<p>This feature is updated in 8.0 SR5.
</p>
<h2><a name="Command_Line_Usage"></a><span class="mw-headline">Command Line Usage</span></h2>
<pre>
1. fft1 ix:=Col(1); 
2. fft1 ix:=(col(2),col(3)); 
3. fft1 ix:=Col(1) interval:=2; 
4. fft1 ix:=Col(1) win:=hanning correct:=power; 
5. fft1 ix:=Col(1) shift:=1; 
6. fft1 ix:=Col(1) psd:=1 norm:=ssa st:=oneside; 
</pre>
<h2><a name="X-Function_Execution_Options"></a><span class="mw-headline">X-Function Execution Options</span></h2>
<p><a class="external text" href="../../LabTalk/LabTalk/X-Function_Execution_Options.html">Please refer to the page for additional option switches when accessing the x-function from script</a>
</p>
<h2><a name="Variables"></a><span class="mw-headline">Variables</span></h2>
<table class="xfvar">
<tr>
<th width="8%">Display<br />Name
</th>
<th width="8%">Variable<br />Name
</th>
<th width="8%">I/O<br />and<br />Type
</th>
<th width="8%">Default<br />Value
</th>
<th>Description
</th></tr>
<tr>
<td>Input
</td>
<td>ix
</td>
<td>
<p>Input
</p><p>vector&lt;complex&gt;
</p>
</td>
<td> <center>&lt;active&gt;</center>
</td>
<td>
<p>Specifies the input signal, which could be complex. The real and imaginary parts of the signal can be saved in different columns or in the same column. The default is &lt;Active&gt;, which corresponds to the active dataset.
</p>
</td></tr>
<tr>
<td>Sampling Interval
</td>
<td>interval
</td>
<td>
<p>Input
</p><p>double
</p>
</td>
<td> <center>1</center>
</td>
<td>
<p>Specifies the sampling interval. The default is &lt;Auto&gt;, which corresponds to an automatically-computed interval. Please see the algorithm part for details.
</p>
</td></tr>
<tr>
<td>Window
</td>
<td>win
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>rect</center>
</td>
<td>
<p>Specifies the type of window to be used for suppressing the leakage. Please see the algorithm part for details.
</p><p>Option list
</p>
<ul><li><i>0=rect:Rectangle</i>
<dl><dd>Rectangular window</dd></dl></li>
<li><i>1=welch:Welch</i>
<dl><dd>Welch window</dd></dl></li>
<li><i>2=tri:Triangular</i>
<dl><dd>Triangular window</dd></dl></li>
<li><i>3=bartlett:Bartlett</i>
<dl><dd>Bartlett window</dd></dl></li>
<li><i>4=hanning:Hanning</i>
<dl><dd>Hanning window</dd></dl></li>
<li><i>5=hamming:Hamming</i>
<dl><dd>Hamming window</dd></dl></li>
<li><i>6=blackman:Blackman</i>
<dl><dd>Blackman window</dd></dl></li>
<li><i>7=gauss:Gaussian</i>
<dl><dd>Gaussian window</dd></dl></li>
<li><i>8=kaiser:Kaiser</i>
<dl><dd>Kaiser window</dd></dl></li></ul>
</td></tr>
<tr>
<td>Alpha
</td>
<td>alpha
</td>
<td>
<p>Input
</p><p>double
</p>
</td>
<td><center>0</center>
</td>
<td>
<p>This variable is only available when window type is Gaussian. It specifies the Alpha parameter (the reciprocal of the standard deviation) for Gaussian window.
</p>
</td></tr>
<tr>
<td>Beta
</td>
<td>beta
</td>
<td>
<p>Input
</p><p>double
</p>
</td>
<td><center>0</center>
</td>
<td>
<p>This variable is only available when window type is Kaiser. It specifies the Beta parameter for Kaiser window.
</p>
</td></tr>
<tr>
<td>Window Correction
</td>
<td>correct
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td><center>amplitude</center>
</td>
<td>
<p>Specifies the Window Correction Factor used to correct the alteration made by applying a window to the input data.
</p><p>Option list
</p>
<ul><li><i>none:None</i>
<dl><dd>No correction is applied.</dd></dl></li>
<li><i>amp:Amplitude</i>
<dl><dd>Amplitude Correction is applied. </dd></dl></li>
<li><i>power:Power</i>
<dl><dd>Energy Correction is applied.</dd></dl></li></ul>
</td></tr>
<tr>
<td>Reserved
</td>
<td>Reserved
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>0</center>
</td>
<td>
<p>This is a reserved variable. It has no effect on the computation.
</p>
</td></tr>
<tr>
<td>Normalize Re, Im and Mag
</td>
<td>norma
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>0</center>
</td>
<td>
<p>Specifies whether to normalize the complex, real, imaginary, magnitude and sqaure magnitude output. The default is false. Note that other outputs such as amplitude are not affected by this variable. Please see the algorithm section for details. 
</p>
</td></tr>
<tr>
<td>Shift
</td>
<td>shift
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>1</center>
</td>
<td>
<p>Specifies whether the result should be rearranged so that the lower frequency components are in the center.
</p>
</td></tr>
<tr>
<td>Unwrap phase
</td>
<td>unwrap
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>1</center>
</td>
<td>
<p>Specifies whether the phase should be unwrapped. If wrapped, Phase angle is modulo reduced to be between + and - 180 degrees.
</p>
</td></tr>
<tr>
<td>Factor
</td>
<td>factor
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>ee</center>
</td>
<td>
<p>Specifies whether the Electrical Engineering or Science convention is used to set the sign of the Exponential Phase factor.
</p><p>Option list
</p>
<ul><li><i>ee:-1 (Electrical Engineering)</i>
<dl><dd>The phase factor sign will be opposite to that of the Science option.</dd></dl></li>
<li><i>science:+1 (Science)</i>
<dl><dd>The phase factor will be set according to the formulae listed in page 503 of Numerical Recipes in C, 2nd edition</dd></dl></li></ul>
</td></tr>
<tr>
<td>Spectrum Type
</td>
<td>st
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>auto</center>
</td>
<td>
<p>Specifies the Nyquist interval over which power is calculated. Note that this will also affect the computation of other results.
</p><p>Option list
</p>
<ul><li><i>auto:&lt;auto&gt;</i>
<dl><dd>If the input signal is real, one-sided power will be chosen; otherwise, two-sided power will be selected. When this option is selected, Origin will look at the input data to determine whether it is complex or not. If the input data is stored in a column of the Complex data type, but the data contains only a real part, Origin will regard it as real, and not as complex, resulting in a one-sided spectrum.  Alternately, if the input data has an all-zero column as the imaginary part, Origin will also regard the input as real, and produce a one-sided spectrum.</dd></dl></li>
<li><i>oneside:One -sided</i>
<dl><dd>One-sided power will be computed.</dd></dl></li>
<li><i>twoside:Two -sided</i>
<dl><dd>Two-sided power will be computed.</dd></dl></li></ul>
</td></tr>
<tr>
<td>Normalize power to
</td>
<td>norm
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>msa</center>
</td>
<td>
<p>Specifies the power density normalization method. Please see the algorithm part for detail.
</p><p>Option list
</p>
<ul><li><i>msa:MSA-Mean Square Amplitude</i>
<dl><dd>Mean square amplitude method</dd></dl></li>
<li><i>ssa:SSA-Sum Square Amplitude</i>
<dl><dd>Sum square amplitude method</dd></dl></li>
<li><i>tisa:TISA-Time Interval Square Amplitude</i>
<dl><dd>Time Integral square amplitude method</dd></dl></li></ul>
</td></tr>
<tr>
<td>Preview
</td>
<td>pre
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>ap</center>
</td>
<td>
<p>Specifies the preview content in the dialog.
</p><p>Option list
</p>
<ul><li><i>none:None</i>
<dl><dd>NONE</dd></dl></li>
<li><i>ap:Amplitude /Phase</i>
<dl><dd>Both the amplitude and the phase.</dd></dl></li>
<li><i>pp:Power /Phase</i>
<dl><dd>Both the power and the phase.</dd></dl></li>
<li><i>amp:Amplitude</i>
<dl><dd>The amplitude</dd></dl></li>
<li><i>img:Imaginary</i>
<dl><dd>The imaginary parts of the transformed data</dd></dl></li>
<li><i>mag:Magnitude</i>
<dl><dd>The magnitude</dd></dl></li>
<li><i>phase:Phase</i>
<dl><dd>The phase</dd></dl></li>
<li><i>power:Power</i>
<dl><dd>The power spectrum or power density</dd></dl></li>
<li><i>real:Real</i>
<dl><dd>The real parts of the transformed data</dd></dl></li>
<li><i>ri:Real /Imaginary</i>
<dl><dd>Both the real parts and imaginary parts of the transformed data</dd></dl></li>
<li><i>db:dB</i>
<dl><dd>The amplitude in dB. </dd></dl></li>
<li><i>ndb:Normalized dB</i>
<dl><dd>The normalized amplitude in dB. </dd></dl></li>
<li><i>rms</i>:RMS Amplitude
<dl><dd>The RMS amplitude. </dd></dl></li>
<li><i>sqamp:Square Amplitude</i>
<dl><dd>The square amplitude. </dd></dl></li>
<li><i>sqmag:Square Magnitude</i>
<dl><dd>The square magnitude.</dd></dl></li></ul>
</td></tr>
<tr>
<td>Real
</td>
<td>re
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>1</center>
</td>
<td>
<p>Specifies whether or not to output a graph of the real parts of the FFT result.
</p>
</td></tr>
<tr>
<td>Imag
</td>
<td>im
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>1</center>
</td>
<td>
<p>Specifies whether or not to output a graph of the imaginary parts of the FFT result.
</p>
</td></tr>
<tr>
<td>Amplitude/Phase
</td>
<td>ap
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>1</center>
</td>
<td>
<p>Specifies whether or not to output a combined graph of amplitude and phase.
</p>
</td></tr>
<tr>
<td>Phase
</td>
<td>phase
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>0</center>
</td>
<td>
<p>Specifies whether or not a graph of the phase will be outputted.
</p>
</td></tr>
<tr>
<td>Power/Phase
</td>
<td>pp
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>0</center>
</td>
<td>
<p>Specifies whether or not to output a graph of the phase.
</p>
</td></tr>
<tr>
<td>Real/Imag
</td>
<td>ri
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>1</center>
</td>
<td>
<p>Specifies whether or not to output a combined graph of power and phase.
</p>
</td></tr>
<tr>
<td>Magnitude
</td>
<td>mag
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>1</center>
</td>
<td>
<p>Specifies whether or not to output a graph of the magnitude.
</p>
</td></tr>
<tr>
<td>Amplitude
</td>
<td>amp
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>0</center>
</td>
<td>
<p>Specifies whether or not to output a graph of the amplitude.
</p>
</td></tr>
<tr>
<td>Power
</td>
<td>psd
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>1</center>
</td>
<td>
<p>Specifies whether or not to output a graph of the power.
</p>
</td></tr>
<tr>
<td>dB
</td>
<td>db
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>1</center>
</td>
<td>
<p>Specifies whether or not to output a graph of the result of dB.
</p>
</td></tr>
<tr>
<td>Normalized dB
</td>
<td>ndb
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>0</center>
</td>
<td>
<p>Specifies whether or not to output a graph of the result of normalized dB.
</p>
</td></tr>
<tr>
<td>RMS Amplitude
</td>
<td>rms
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>0</center>
</td>
<td>
<p>Specifies whether or not to output a graph of the RMS amplitude.
</p>
</td></tr>
<tr>
<td>Square Amplitude
</td>
<td>sqr_amp
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>0</center>
</td>
<td>
<p>Specifies whether or not to output a graph of the squared amplitude.
</p>
</td></tr>
<tr>
<td>Square Magnitude
</td>
<td>sqr_mag
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>0</center>
</td>
<td>
<p>Specifies whether or not to output a graph of the squared magnitude.
</p>
</td></tr>
<tr>
<td>Result Data Sheet
</td>
<td>rd
</td>
<td>
<p>Output
</p><p>ReportData
</p>
</td>
<td> <center>[&lt;input&gt;]&lt;new&gt;</center>
</td>
<td>
<p>Specifies the output data sheet.
</p>
</td></tr>
<tr>
<td>Result Graph Sheet
</td>
<td>rt
</td>
<td>
<p>Output
</p><p>ReportTree
</p>
</td>
<td> <center>[&lt;input&gt;]&lt;new template:=graph&gt;</center>
</td>
<td>
<p>Specifies the output graph sheet.
</p>
</td></tr></table>
<h2><a name="Examples"></a><span class="mw-headline">Examples</span></h2>
<ul><li> To perform 1D FFT using default settings on data in columns 2 of the active worksheet, use the script command:</li></ul>
<p><code>fft1 col(2)</code>
</p>
<ul><li> Code Sample</li></ul>
<pre>
// This example plots two different FFT Amplitudes from two date ranges of sunspot data to illustrate the ~11 year sunspot cycle
// Import the data
string fname$ = system.path.program$ + &quot;Samples\Signal Processing\dayssn.dat&quot;;
//col(1) = year, col(2)=month, col(3)=day, 
//col(4) = date values in contiguous year with fractions
//col(5) = observation
//so we should have a sheet with 5 col and col(4)=X col(5)=Y
newbook s:=0;newsheet cols:=5 xy:=&quot;NNNXY&quot;; 
impasc;
// Interpolate to replace missing values and put result to col(6)
interp1q 4 (4,5) 6;
// this is our data
range rData1 = 6[1:14609];// row range for years 1818 to 1858
range rData2 = 6[54057:end];// row range for years 1966 - 2006

// now start the FFT with the fft1 X-Function which will create a ReportData sheet and a ReportTable sheet
fft1 rData1;
//after running an XF, a tree with same name is created, here we will make use of fft1.rd the ReportData node
range rReportData1=fft1.rd$;//range to hold the Report Data from the FFT result
range rAmp1=%(rReportData1.getlayer()$)col(Amplitude);
rAmp1[C]$=&quot;1818 - 1858&quot;; // change the Comment to make better legend for the graph
fft1 rData2;
range rReportData2=fft1.rd$;
range rAmp2=%(rReportData2.getlayer()$)col(Amplitude);
rAmp2[C]$=&quot;1966 - 2006&quot;;
 
// Open a new empty graph. Use your own template if needed.
win -t plot;
// Plot output to active graph layer
plotxy rAmp1 plot:=200 color:=color(red) o:=&lt;active&gt;;
plotxy rAmp2 plot:=200 color:=color(blue) o:=&lt;active&gt;;
// Zoom in to show the peak
x1=0;x2=0.5;y1=0;y2=100;
// Mark 11 years with a vertical line 
draw -n peakval -l -v 1/11; 
peakval.linewidth = 3;
peakval.color = color(orange);
// and add a text label
label -n peaklabel \b(11 Year Cycle of Sunspots);
peaklabel.x = peakval.x + 1.1 * peaklabel.dx / 2;
peaklabel.y = (y1 + y2) / 2;
peaklabel.fsize = 30;
</pre>
<ul><li> For more examples, please refer to XF Script Dialog (press F11).</li></ul>
<h2><a name="More_Information"></a><span class="mw-headline">More Information</span></h2>
<p>For more information, please refer to our User Guide.
</p>
<dl><dd><ul><li><a class="external text" href="../../UserGuide/Category/Fast_Fourier_Transform_(FFT).html">Description</a></li>
<li><a class="external text" href="../../UserGuide/UserGuide/Algorithm_(FFT1).html">Algorithm</a></li>
<li><a class="external text" href="../../UserGuide/UserGuide/Reference_(FFT1).html">Reference</a></li></ul></dd></dl>
<h2><a name="Related_X-Functions"></a><span class="mw-headline">Related X-Functions</span></h2>
<p><a href="../../XFunction/X-Function/Ifft1.html" title="X-Function:Ifft1">ifft1</a>, <a href="../../XFunction/X-Function/Fft2.html" title="X-Function:Fft2">fft2</a>, <a href="../../XFunction/X-Function/Ifft2.html" title="X-Function:Ifft2">ifft2</a>
</p>
<hr class='keywordshr'><p><span class='keywords'>Keywords:</span><span class='keywordsInput'>discrete, amplitude, phase, power, window correction</span></p>






