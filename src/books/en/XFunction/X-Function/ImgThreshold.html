<h1 class="firstHeading">2.6.4.11 imgThreshold(Pro)</h1><div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Menu_Information"><span class="tocnumber">1</span> <span class="toctext">Menu Information</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Brief_Information"><span class="tocnumber">2</span> <span class="toctext">Brief Information</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Additional_Information"><span class="tocnumber">3</span> <span class="toctext">Additional Information</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Command_Line_Usage"><span class="tocnumber">4</span> <span class="toctext">Command Line Usage</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#X-Function_Execution_Options"><span class="tocnumber">5</span> <span class="toctext">X-Function Execution Options</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Variables"><span class="tocnumber">6</span> <span class="toctext">Variables</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#Description"><span class="tocnumber">7</span> <span class="toctext">Description</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#Examples"><span class="tocnumber">8</span> <span class="toctext">Examples</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="#Algorithm"><span class="tocnumber">9</span> <span class="toctext">Algorithm</span></a></li>
<li class="toclevel-1 tocsection-10"><a href="#References"><span class="tocnumber">10</span> <span class="toctext">References</span></a></li>
<li class="toclevel-1 tocsection-11"><a href="#Related_X-Functions"><span class="tocnumber">11</span> <span class="toctext">Related X-Functions</span></a></li>
</ul>
</div>

<h2><a name="Menu_Information"></a><span class="mw-headline">Menu Information</span></h2>
<p>Image: Conversion: Threshold
</p>
<h2><a name="Brief_Information"></a><span class="mw-headline">Brief Information</span></h2>
<p>Convert image to black and white using threshold
</p>
<h2><a name="Additional_Information"></a><span class="mw-headline">Additional Information</span></h2>
<p>This feature is for OriginPro only.
</p>
<h2><a name="Command_Line_Usage"></a><span class="mw-headline">Command Line Usage</span></h2>
<p><code>
</p><p>1. imgThreshold low:=10 high:=200 channel:=green flt:=min oimg:=&lt;new&gt;;
</p><p>2. imgThreshold img:=mat(1) low:=10 high:=200 channel:=green flt:=min oimg:=mat(2);
</p><p></code>
</p>
<h2><a name="X-Function_Execution_Options"></a><span class="mw-headline">X-Function Execution Options</span></h2>
<p><a class="external text" href="../../LabTalk/LabTalk/X-Function_Execution_Options.html">Please refer to the page for additional option switches when accessing the x-function from script</a>
</p>
<h2><a name="Variables"></a><span class="mw-headline">Variables</span></h2>
<table class="xfvar">
<tr>
<th width="8%">Display<br />Name
</th>
<th width="8%">Variable<br />Name
</th>
<th width="8%">I/O<br />and<br />Type
</th>
<th width="8%">Default<br />Value
</th>
<th>Description
</th></tr>
<tr>
<td>Input Matrix
</td>
<td>img
</td>
<td>
<p>Input
</p><p>Image
</p>
</td>
<td> <center>&lt;active&gt;</center>
</td>
<td>
<p>Specifies the image to be manipulated. The default input is the active image.
</p>
</td></tr>
<tr>
<td>Lower Bound
</td>
<td>low
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>0</center>
</td>
<td>
<p>Specifies the lower bound of the range, within which the colors will be preserved.
</p>
</td></tr>
<tr>
<td>Upper Bound
</td>
<td>high
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>0</center>
</td>
<td>
<p>Specifies the upper bound of the range, within which the colors will be preserved. It should be greater than the Lower Bound.
</p>
</td></tr>
<tr>
<td>Channel
</td>
<td>channel
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>rgb</center>
</td>
<td>
<p>Specifies the color channel to be manipulated.
<br />
Option list
</p>
<ul><li><i>rgb:RGB</i>
<dl><dd>Master channel</dd></dl></li>
<li><i>red:Red</i>
<dl><dd>Red channel</dd></dl></li>
<li><i>green:Green</i>
<dl><dd>Green channel</dd></dl></li>
<li><i>blue:Blue</i>
<dl><dd>Blue channel</dd></dl></li></ul>
</td></tr>
<tr>
<td>Reject Value
</td>
<td>flt
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>clamp</center>
</td>
<td>
<p>Specifies how to define the new values for the rejected values or values outside the range defined by Lower Bound and Upper Bound.
<br />
Option list
</p>
<ul><li><i>min:Set to Min</i>
<dl><dd>The rejected values are set to 0.</dd></dl></li>
<li><i>max:Set to Max</i>
<dl><dd>The rejected values are set to the maximum value, according to the bits per pixel of the image.</dd></dl></li>
<li><i>clamp:Clamp</i>
<dl><dd>The rejected values less that Lower Bound are set to 0, while the rejected values greater than Upper Bound are set to the maximum value, according to the bits per pixel of the image.</dd></dl></li></ul>
</td></tr>
<tr>
<td>Output Image
</td>
<td>oimg
</td>
<td>
<p>Output
</p><p>Image
</p>
</td>
<td> <center>&lt;input&gt;</center>
</td>
<td>
<p>Specifies the output image. By default, the output image is the same as the input image.
</p><p>See the syntax <a class="external text" href="../../XFunction/X-Function/Output_Notations.html">here</a>.
</p>
</td></tr></table>
<h2><a name="Description"></a><span class="mw-headline">Description</span></h2>
<p>Color Resolution Conversions tools include <a href="../../XFunction/X-Function/ImgDynamicBinary.html" title="X-Function:ImgDynamicBinary">Color to B/W (Dynamic Binary)</a>, Thresholding, and <a href="../../XFunction/X-Function/ImgC2gray.html" title="X-Function:ImgC2gray">Gray Colorize</a>. The first two are Pro only.
</p><p>Thresholding is the simplest method of image segmentation. Before the thresholding, a range that is determined by an upper bound and a lower bound is defined. Then colors of the pixels within this range will be preserved, whereas the colors of other pixels are reset.
</p><p>The <i>imgThresholding</i> X-Function in OriginPro allows you to define the range which determines the pixel color to change by two variables, <i>Lower Bound</i> and <i>Upper Bound</i>. Additionally, you can specify how to define the new values for the rejected values (values outside the range). You can use this function to apply color adjustment or simple segmentation.
</p>
<dl><dd><a  class="image"><img alt="Thresholding dialog.png" src="../images/ImgThreshold/Thresholding_dialog.png?v=79810" width="377"  /></a></dd></dl>
<h2><a name="Examples"></a><span class="mw-headline">Examples</span></h2>
<p>In this example, we use the <i>imgThreshold</i> function to segment the background from the cells in the input image:
</p>
<ol><li> When the input image is active, select <b>Image: Conversion: Threshold</b>. This opens the dialog of the X-Function.</li>
<li> In the X-Function dialog, change the settings as the screenshot below and click <b>OK</b> to close the dialog.<br /><a  class="image"><img alt="ImgThreshold help English files image002.jpg" src="../images/ImgThreshold/ImgThreshold_help_English_files_image002.jpg?v=1163" width="350"  /></a><br /> A new image is created as a result.</li></ol>
<dl><dd><table class="TableGrid" style="border: none; x-border-left: 1px table-solid; x-border-top: 1px table-solid; x-border-right: 1px table-solid; x-border-bottom: 1px table-solid; border-collapse: separate; border-spacing: 0px; border-spacing: 0px" border="1">
<tr>
<td>
<center><a  class="image"><img alt="ImgThreshold help English files image004.jpg" src="../images/ImgThreshold/ImgThreshold_help_English_files_image004.jpg?v=1164" width="261"  /></a></center>
</td>
<td>
<center><a  class="image"><img alt="ImgThreshold help English files image006.jpg" src="../images/ImgThreshold/ImgThreshold_help_English_files_image006.jpg?v=1165" width="261"  /></a></center>
</td></tr>
<tr>
<td>
<center>The original image</center>
</td>
<td>
<center>The output image</center>
</td></tr></table></dd></dl>
<p><br />
Note: OriginPro includes the ability to automatically recalculate the analysis results of the Color Resolution Conversions operation any time you change the parameters or update your source data. In addition, the settings for this analysis routine can be saved to an analysis theme for use later with similar data.
</p>
<h2><a name="Algorithm"></a><span class="mw-headline">Algorithm</span></h2>
<p>The computation uses L_ColorThresholdBitmap() function from LEADTOOLS Main API. Please refer to the LEADTOOLS Main API Help file, Version 14 and read the L_ColorThresholdBitmap topic.
</p>
<h2><a name="References"></a><span class="mw-headline">References</span></h2>
<p>LEADTOOLS Main API Help file, Version 14
</p>
<h2><a name="Related_X-Functions"></a><span class="mw-headline">Related X-Functions</span></h2>
<p><a href="../../XFunction/X-Function/ImgAutoBinary.html" title="X-Function:ImgAutoBinary">imgAutoBinary</a>, <a href="../../XFunction/X-Function/ImgDynamicBinary.html" title="X-Function:ImgDynamicBinary">imgDynamicBinary</a>
</p>





