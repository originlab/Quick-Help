<h1 class="firstHeading">2.10.21 plot_windrose</h1><div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Menu_Information"><span class="tocnumber">1</span> <span class="toctext">Menu Information</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Brief_Information"><span class="tocnumber">2</span> <span class="toctext">Brief Information</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Additional_Information"><span class="tocnumber">3</span> <span class="toctext">Additional Information</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Command_Line_Usage"><span class="tocnumber">4</span> <span class="toctext">Command Line Usage</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#X-Function_Execution_Options"><span class="tocnumber">5</span> <span class="toctext">X-Function Execution Options</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Variables"><span class="tocnumber">6</span> <span class="toctext">Variables</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#Description"><span class="tocnumber">7</span> <span class="toctext">Description</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#Examples"><span class="tocnumber">8</span> <span class="toctext">Examples</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="#Related_X-Functions"><span class="tocnumber">9</span> <span class="toctext">Related X-Functions</span></a></li>
</ul>
</div>

<h2><a name="Menu_Information"></a><span class="mw-headline">Menu Information</span></h2>
<p>Plot: Specialized&#160;: Wind Rose-Raw Data
</p>
<h2><a name="Brief_Information"></a><span class="mw-headline">Brief Information</span></h2>
<p>Create a Windrose plot
</p>
<h2><a name="Additional_Information"></a><span class="mw-headline">Additional Information</span></h2>
<p><b>Minimum Origin Version Required</b>: 8.1 SR0
</p>
<h2><a name="Command_Line_Usage"></a><span class="mw-headline">Command Line Usage</span></h2>
<p><code>
1. plot_windrose iy:=!3 labels:=0 subcount:=1;
</p><p>2. plot_windrose -r 1 iy:=[Wind]Wind!(C"Power",B"Speed") labels:=1 ymin:=5 ymax:=10 yinc:=1;
</code>
</p>
<h2><a name="X-Function_Execution_Options"></a><span class="mw-headline">X-Function Execution Options</span></h2>
<p><a class="external text" href="../../LabTalk/LabTalk/X-Function_Execution_Options.html">Please refer to the page for additional option switches when accessing the x-function from script</a>
</p>
<h2><a name="Variables"></a><span class="mw-headline">Variables</span></h2>
<table class="xfvar">
<tr>
<th width="8%">Display<br />Name
</th>
<th width="8%">Variable<br />Name
</th>
<th width="8%">I/O<br />and<br />Type
</th>
<th width="8%">Default<br />Value
</th>
<th>Description
</th></tr>
<tr>
<td>Input
</td>
<td>iy
</td>
<td>
<p>Input
</p><p>XYRange
</p>
</td>
<td> <center>&lt;active&gt;</center>
</td>
<td> Specify the input data range.
</td></tr>
<tr>
<td>From Minimum
</td>
<td>xmin
</td>
<td>
<p>Input
</p><p>double
</p>
</td>
<td> <center>0</center>
</td>
<td> Not editable. It specifies the bin center of the minimum binning level of the wind direction. It is not accessible from dialog.
</td></tr>
<tr>
<td>To Maximum
</td>
<td>xmax
</td>
<td>
<p>Input
</p><p>double
</p>
</td>
<td> <center>337.5</center>
</td>
<td> Not editable. It specifies the bin center of the maximum binning level of the wind direction. It is not accessible from dialog.
</td></tr>
<tr>
<td>Increment
</td>
<td>xinc
</td>
<td>
<p>Iuput
</p><p>double
</p>
</td>
<td> <center>30</center>
</td>
<td> Not editable. It specifies the angle increment of the wind direction bins. It is not accessible from dialog.
</td></tr>
<tr>
<td>Number of Direction Sectors
</td>
<td>xintervals
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>16</center>
</td>
<td> The direction data will be divided into sectors and the counts of data points that fall into each sector will be used to create the windrose plot. This variable specifies the number of sectors for direction data.
</td></tr>
<tr>
<td>Direction Lables
</td>
<td>labels
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>2</center>
</td>
<td> Specify the direction labels shown on the windrose plot.
<p>Option list:
</p>
<ul><li><i>0=direct_4: N-E-S-W</i></li></ul>
<dl><dd>Show four direction labels: N, E, S, W.</dd></dl>
<ul><li><i>1=direct_8: N-NE-E...</i></li></ul>
<dl><dd>Show eight direction labels: N, NE, E, SE, S, SW, W, NW..</dd></dl>
<ul><li><i>2=direct_16: N-NNE-NE...</i></li></ul>
<dl><dd>Show sixteen direction labels: N, NNE, NE, ENE, E, ESE, SE, SSE, S, SSW, SW, WSW, W, WNW, NW, NNW.</dd></dl>
</td></tr>
<tr>
<td>Spoke Style
</td>
<td>spoke
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>0</center>
</td>
<td>  Specify the style of spoke
<p>Option list:
</p>
<ul><li><i>0=sector: Sector</i></li></ul>
<dl><dd>Use sector as spoke style.</dd></dl>
<ul><li><i>1=paddle: Paddle</i></li></ul>
<dl><dd>Use the beginning width of 1st sector as the width of 1st block. <b>Note</b>: When there is no calm circle, all paddles show as lines.</dd></dl>
</td></tr>
<tr>
<td>Minimum Speed (Calm)
</td>
<td>ymin
</td>
<td>
<p>Input
</p><p>double
</p>
</td>
<td> <center>&lt;auto&gt;</center>
</td>
<td> Specify the minimum binning level for wind speed.
</td></tr>
<tr>
<td>Maxmum Speed
</td>
<td>ymax
</td>
<td>
<p>Input
</p><p>double
</p>
</td>
<td> <center>&lt;auto&gt;</center>
</td>
<td> Specify the maximum binning level for wind speed.
</td></tr>
<tr>
<td>Bins
</td>
<td>ybinmode
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>&lt;auto&gt;</center>
</td>
<td> Specify the binning method
<p>Option list:
</p>
<ul><li><i>0=inc: Increment</i></li></ul>
<p>When set to Increment, then you can specify the increment (bin size) for the binning by <b>yinc</b> variable
</p>
<ul><li><i>1=end: Intervals</i></li></ul>
<p>When set to Intervals, then you can specify the specify bin ends value for the binning by <b>yend</b>   variable
</p>
</td></tr>
<tr>
<td>Increment
</td>
<td>yinc
</td>
<td>
<p>Input
</p><p>double
</p>
</td>
<td> <center>&lt;auto&gt;</center>
</td>
<td> Specify the increment (bin size).
</td></tr>
<tr>
<td> Bin Ends
</td>
<td>yend
</td>
<td>
<p>Input
</p><p>string
</p>
</td>
<td> <center>&lt;unassigned&gt;</center>
</td>
<td> Specify the bin ends value
</td></tr>
<tr>
<td>Number of Intervals
</td>
<td>yintervals
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>&lt;auto&gt;</center>
</td>
<td> This is not editable. It displays the number of intervals used in the wind speed binning. This is calculated with the current values of Minimum Speed, Maximum Speed and Increment.
</td></tr>
<tr>
<td>Show Calm Circle
</td>
<td>calm
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>0</center>
</td>
<td> Specify whether to show the calm circle in the plot.
<ul><li><i>0: false</i></li></ul>
<dl><dd>Not show the calm circle</dd></dl>
<ul><li><i>1: true</i></li></ul>
<dl><dd>Show the calm circle</dd></dl>
</td></tr>
<tr>
<td>Orientation
</td>
<td>orientation
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>0</center>
</td>
<td> Specify the orientation of the wind directions.
<p>Option list:
</p>
<ul><li><i>0=from: Direction (Blowing From)</i></li></ul>
<dl><dd>The directions where the wind blows from.</dd></dl>
<ul><li><i>1=to: Flow Vector (Blowing To)</i></li></ul>
<dl><dd>The directions where the wind blows to.</dd></dl>
</td></tr>
<tr>
<td>Quantity to Compute
</td>
<td>stats
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>0</center>
</td>
<td> Specify what to calculate for each bin.
<ul><li><i>0=count: Count</i></li></ul>
<dl><dd>Compute and output the count of each bin.</dd></dl>
<ul><li><i>1=freq: Percent Frequency</i></li></ul>
<dl><dd>Compute and output the percent frequency of each bin.</dd></dl>
</td></tr>
<tr>
<td>Subtotal Count for Each Speed Interval
</td>
<td>subcount
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>0</center>
</td>
<td> Specify whether to output subtotal count/percent frequency (determined by <b>stats</b>) for each speed interval.
<p>Option list:
</p>
<ul><li><i>0: false</i></li></ul>
<p>Not output subtotal count
</p>
<ul><li><i>1: true</i></li></ul>
<p>Output subtotal count
</p>
</td></tr>
<tr>
<td>Output Worksheet
</td>
<td>rd
</td>
<td>
<p>Output
</p><p>ReportData
</p>
</td>
<td> <center>&lt;new&gt;</center>
</td>
<td> Specify how to output data in the worksheet.
</td></tr></table>
<h2><a name="Description"></a><span class="mw-headline">Description</span></h2>
<p>This X-Function is used to create wind rose plot for the raw wind direction and speed data. Firstly, wind direction-speed bins are created from the minumum value to the maximum value of both direction and speed, by a specified bin size. Then each bin is searched and the data points that fall into this bin are counted. If a value falls on the upper edge of the bin, it is included in the next higher bin. Finally, a wind rose is plotted by these 2D bins. Please refer to our User Guide <a class="external text" href="../../UserGuide/UserGuide/Wind_Rose(Raw_Data).html">here</a>.
</p>
<h2><a name="Examples"></a><span class="mw-headline">Examples</span></h2>
<p>The following example creates a windrose from our sample data
</p>
<pre class="lt" style="font-family:monospace;">doc <span style="color: #000080;">-</span>s; 
doc <span style="color: #000080;">-</span>n;
newbook;

<span style="color: #008000;">//import &quot;Categorical Data.dat&quot; file under &quot;&lt;Origin EXE Folder&gt;\Samples\Graphing&quot; path</span>
string fn<span style="color: #000080;">$</span><span style="color: #000080;">=</span>system.<span style="color: #000080;">path</span>.<span style="color: #000080;">program</span><span style="color: #000080;">$</span> <span style="color: #000080;">+</span> <span style="color: #ff00ff;">&quot;Samples\Graphing\Wind.dat&quot;</span>;
impASC fname<span style="color: #000000;">:</span><span style="color: #000080;">=</span>fn<span style="color: #000080;">$</span>;

<span style="color: #008000;">//creating windrose, </span>
<span style="color: #008000;">//col(&quot;power&quot;) as X range and col(&quot;power&quot;) as Y range</span>
<span style="color: #008000;">//Number of Direction Sectors = 16, Direction Labels = &quot;N-NE-E...&quot;</span>
<span style="color: #008000;">//Minimum Speed = 7.5, Maximum Speed = 10.5, Increment = 0.6 </span>
<span style="color: #008000;">//Subtotal Count for Each Speed Interval is checked </span>
plot_windrose iy<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #000000;">&#40;</span><span style="color: #0000dd;">3</span>,<span style="color: #0000dd;">2</span><span style="color: #000000;">&#41;</span> labels<span style="color: #000000;">:</span><span style="color: #000080;">=</span>direct_8 ymin<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">7.5</span> ymax<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">10.5</span> yinc<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">0.6</span> subcount<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">1</span>;</pre>
<dl><dd><a  class="image"><img alt="Plot windrose 3.png" src="../images/Plot_windrose/Plot_windrose_3.png?v=82758" width="470"  /></a></dd></dl>
<p><b>Note</b>: in Origin 2017 or ealier versions, this X-Function is not accessible from LabTalk script. To plot windrose from script, you will need to use
</p>
<pre class="lt" style="font-family:monospace;">worksheet <span style="color: #000080;">-</span>px</pre>
<p>so in the example about, you will need to use:
</p>
<pre class="lt" style="font-family:monospace;">worksheet <span style="color: #000080;">-</span>px&#160;? WINDROSE plot_windrose iy<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #000000;">&#40;</span><span style="color: #0000dd;">3</span>,<span style="color: #0000dd;">2</span><span style="color: #000000;">&#41;</span> labels<span style="color: #000000;">:</span><span style="color: #000080;">=</span>direct_8 ymin<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">7.5</span> ymax<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">10.5</span> yinc<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">0.6</span> subcount<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">1</span>;</pre>
<h2><a name="Related_X-Functions"></a><span class="mw-headline">Related X-Functions</span></h2>
<p><a href="../../XFunction/X-Function/TwoDBinning.html" title="X-Function:TwoDBinning">TwoDBinning</a>
</p>
<hr class='keywordshr'><p><span class='keywords'>Keywords:</span><span class='keywordsInput'>wind direction, flow</span></p>






