<h1 class="firstHeading">2.6.1.7 imgFuncLUT(Pro)</h1><div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Menu_Information"><span class="tocnumber">1</span> <span class="toctext">Menu Information</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Brief_Information"><span class="tocnumber">2</span> <span class="toctext">Brief Information</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Additional_Information"><span class="tocnumber">3</span> <span class="toctext">Additional Information</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Command_Line_Usage"><span class="tocnumber">4</span> <span class="toctext">Command Line Usage</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#X-Function_Execution_Options"><span class="tocnumber">5</span> <span class="toctext">X-Function Execution Options</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Variables"><span class="tocnumber">6</span> <span class="toctext">Variables</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#Description"><span class="tocnumber">7</span> <span class="toctext">Description</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#Examples"><span class="tocnumber">8</span> <span class="toctext">Examples</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="#Algorithm"><span class="tocnumber">9</span> <span class="toctext">Algorithm</span></a></li>
<li class="toclevel-1 tocsection-10"><a href="#References"><span class="tocnumber">10</span> <span class="toctext">References</span></a></li>
<li class="toclevel-1 tocsection-11"><a href="#Related_X-Functions"><span class="tocnumber">11</span> <span class="toctext">Related X-Functions</span></a></li>
</ul>
</div>

<h2><a name="Menu_Information"></a><span class="mw-headline">Menu Information</span></h2>
<p>Image: Adjustments: Function LUT
</p>
<h2><a name="Brief_Information"></a><span class="mw-headline">Brief Information</span></h2>
<p>Apply lookup table function to image
</p>
<h2><a name="Additional_Information"></a><span class="mw-headline">Additional Information</span></h2>
<p>This feature is for OriginPro only.
</p>
<h2><a name="Command_Line_Usage"></a><span class="mw-headline">Command Line Usage</span></h2>
<p><code>
</p><p>1. imgFuncLUT img:=1 fact:=10  oimg:=2;
</p><p>2. imgFuncLUT img:=[Mbook1]Msheet1!mat(1) fact:=50 func:=ln channel:=green;
</p><p></code>
</p>
<h2><a name="X-Function_Execution_Options"></a><span class="mw-headline">X-Function Execution Options</span></h2>
<p><a class="external text" href="../../LabTalk/LabTalk/X-Function_Execution_Options.html">Please refer to the page for additional option switches when accessing the x-function from script</a>
</p>
<h2><a name="Variables"></a><span class="mw-headline">Variables</span></h2>
<table class="xfvar">
<tr>
<th width="8%">Display<br />Name
</th>
<th width="8%">Variable<br />Name
</th>
<th width="8%">I/O<br />and<br />Type
</th>
<th width="8%">Default<br />Value
</th>
<th>Description
</th></tr>
<tr>
<td>Input Matrix
</td>
<td>img
</td>
<td>
<p>Input
</p><p>Image
</p>
</td>
<td> <center>&lt;active&gt;</center>
</td>
<td>
<p>Specifies the input image. The default is the active image.
</p>
</td></tr>
<tr>
<td>Factor
</td>
<td>fact
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>0</center>
</td>
<td>
<p>Specifies the factor used to create the lookup table.
</p>
</td></tr>
<tr>
<td>Function
</td>
<td>func
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>exp</center>
</td>
<td>
<p>Specifies the function used to create the lookup table.
<br />
Option list
</p>
<ul><li><i>E:Exp</i>
<dl><dd>Exponential function</dd></dl></li>
<li><i>L</i>:Ln
<dl><dd>Ln function</dd></dl></li>
<li><i>S:Sigmoid</i>
<dl><dd>Sigmoid function</dd></dl></li></ul>
</td></tr>
<tr>
<td>Channel
</td>
<td>channel
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>rgb</center>
</td>
<td>
<p>Specifies the color channel to apply the lookup table function.
<br />
Option list
</p>
<ul><li><i>RGB:RGB</i>
<dl><dd>All channels</dd></dl></li>
<li><i>R:Red</i>
<dl><dd>Red channel</dd></dl></li>
<li><i>G:Green</i>
<dl><dd>Green channel</dd></dl></li>
<li><i>B:Blue</i>
<dl><dd>Blue channel</dd></dl></li></ul>
</td></tr>
<tr>
<td>Output Image
</td>
<td>oimg
</td>
<td>
<p>Output
</p><p>Image
</p>
</td>
<td> <center>&lt;input&gt;</center>
</td>
<td>
<p>Specifies the output image. By default, the output image is the input image.
See the syntax <a class="external text" href="../../XFunction/X-Function/Output_Notations.html">here</a>.
</p>
</td></tr>
<tr>
<td>Look Up Table
</td>
<td>lut
</td>
<td>
<p>Output
</p><p>vector
</p>
</td>
<td> <center>&lt;new&gt;</center>
</td>
<td>
<p>Specifies the lookup table output, which is a single-column table that contains the lookup values.
</p><p><br />
</p>
</td></tr></table>
<h2><a name="Description"></a><span class="mw-headline">Description</span></h2>
<p>This X-Function can be used to change the color values in a specified color channel (RGB, R, G, or B) so as to enhance the color of the input image. The color change is based on a lookup table, which maps the original color values into new color values. The lookup table is generated using a function and a factor specified by user. Currently, three functions are available:
</p>
<dl><dd><ul><li>Exponential</li>
<li>Ln</li>
<li>Sigmoid</li></ul></dd></dl>
<p>Additionally, the Lookup Table includes an option to save the lookup table data.
</p>
<dl><dd><a  class="image"><img alt="Dailog of Lookup Table options.png" src="../images/ImgFuncLUT/Dailog_of_Lookup_Table_options.png?v=79769" width="416"  /></a></dd></dl>
<p><br />
</p>
<h2><a name="Examples"></a><span class="mw-headline">Examples</span></h2>
<p>In the following example, we use 50 as <i>Factor</i> and select <i>Ln</i> Function to apply the LUT function to the green channel:
</p>
<ol><li>  When the input image is active, choose <b>Image: Adjustments: Function LUT</b> from the menu. This opens the dialog of the X-Function.</li>
<li>  In the X-Function dialog, change the settings as the screenshot below and click <b>OK</b> to close the dialog.<br /><a  class="image"><img alt="ImgFuncLUT help English files image002.jpg" src="../images/ImgFuncLUT/ImgFuncLUT_help_English_files_image002.jpg?v=1050" width="378"  /></a></li></ol>
<dl><dd>We can see that the input image is replaced by the modified image and many features in the green channel are improved.</dd></dl>
<dl><dd><table class="TableGrid" style="border: none; x-border-left: 1px table-solid; x-border-top: 1px table-solid; x-border-right: 1px table-solid; x-border-bottom: 1px table-solid; border-collapse: separate; border-spacing: 0px; border-spacing: 0px" border="1">
<tr>
<td>
<center><a  class="image"><img alt="ImgFuncLUT help English files image004.jpg" src="../images/ImgFuncLUT/ImgFuncLUT_help_English_files_image004.jpg?v=1051" width="261"  /></a></center>
</td>
<td>
<center><a  class="image"><img alt="ImgFuncLUT help English files image006.jpg" src="../images/ImgFuncLUT/ImgFuncLUT_help_English_files_image006.jpg?v=1052" width="261"  /></a></center>
</td></tr>
<tr>
<td>
<center>Original image</center>
</td>
<td>
<center>Output image</center>
</td></tr></table></dd></dl>
<p><br />
OriginPro includes the ability to automatically recalculate the analysis results of the Lookup Table operation any time you change the parameters or update your source data. In addition, the settings for this analysis routine can be saved to an analysis theme for use later with similar data.
</p>
<h2><a name="Algorithm"></a><span class="mw-headline">Algorithm</span></h2>
<p>When different functions are chosen, the lookup tables are generated in different ways.
</p><p>If the exponential function is selected, the lookup table is calculated with the following equation:
</p>
<dl><dd><a  class="image"><img alt="ImgFuncLUT help English files image008.gif" src="../images/ImgFuncLUT/ImgFuncLUT_help_English_files_image008.gif?v=1053" width="392"  /></a></dd></dl>
<p>where
</p>
<dl><dd><a  class="image"><img alt="ImgFuncLUT help English files image010.gif" src="../images/ImgFuncLUT/ImgFuncLUT_help_English_files_image010.gif?v=1054" width="312"  /></a></dd></dl>
<p>If the Ln function is selected, the lookup table is calculated with the following equation:
</p>
<dl><dd><a  class="image"><img alt="ImgFuncLUT help English files image012.gif" src="../images/ImgFuncLUT/ImgFuncLUT_help_English_files_image012.gif?v=1055" width="407"  /></a></dd></dl>
<p>where:
</p>
<dl><dd><a  class="image"><img alt="ImgFuncLUT help English files image014.gif" src="../images/ImgFuncLUT/ImgFuncLUT_help_English_files_image014.gif?v=1056" width="312"  /></a></dd></dl>
<p>If the sigmoid function is selected, the lookup table is calculated with the following equation:
</p>
<dl><dd><a  class="image"><img alt="ImgFuncLUT help English files image016.gif" src="../images/ImgFuncLUT/ImgFuncLUT_help_English_files_image016.gif?v=1057" width="527"  /></a></dd></dl>
<p>where:
</p>
<dl><dd><a  class="image"><img alt="ImgFuncLUT help English files image018.gif" src="../images/ImgFuncLUT/ImgFuncLUT_help_English_files_image018.gif?v=1058" width="312"  /></a></dd></dl>
<p>The creation of the LUT uses L_GetFunctionalLookupTable() function from LEADTOOLS Main API. And the remapping of the intensities is based on L_RemapBitmapIntensity() function from LEADTOOLS Main API. Please refer to the LEADTOOLS Main API Help file, Version 14 and read the L_GetFunctionalLookupTable topic and the L_RemapBitmapIntensity topic for more information.
</p>
<h2><a name="References"></a><span class="mw-headline">References</span></h2>
<p>LEADTOOLS Main API Help file, Version 14
</p>
<h2><a name="Related_X-Functions"></a><span class="mw-headline">Related X-Functions</span></h2>
<p><a href="../../XFunction/X-Function/ImgHue.html" title="X-Function:ImgHue">imgHue</a>, <a href="../../XFunction/X-Function/ImgColorReplace.html" title="X-Function:ImgColorReplace">imgColorReplace</a>, <a href="../../XFunction/X-Function/ImgSaturation.html" title="X-Function:ImgSaturation">imgSaturation</a>, <a href="../../XFunction/X-Function/ImgGamma.html" title="X-Function:ImgGamma">imgGamma</a>
</p>





