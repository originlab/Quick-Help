<h1 class="firstHeading">2.6.1.5 imgColorReplace</h1><div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Menu_Information"><span class="tocnumber">1</span> <span class="toctext">Menu Information</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Brief_Information"><span class="tocnumber">2</span> <span class="toctext">Brief Information</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Command_Line_Usage"><span class="tocnumber">3</span> <span class="toctext">Command Line Usage</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#X-Function_Execution_Options"><span class="tocnumber">4</span> <span class="toctext">X-Function Execution Options</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Variables"><span class="tocnumber">5</span> <span class="toctext">Variables</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Description"><span class="tocnumber">6</span> <span class="toctext">Description</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#Examples"><span class="tocnumber">7</span> <span class="toctext">Examples</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#Algorithm"><span class="tocnumber">8</span> <span class="toctext">Algorithm</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="#References"><span class="tocnumber">9</span> <span class="toctext">References</span></a></li>
<li class="toclevel-1 tocsection-10"><a href="#Related_X-Functions"><span class="tocnumber">10</span> <span class="toctext">Related X-Functions</span></a></li>
</ul>
</div>

<h2><a name="Menu_Information"></a><span class="mw-headline">Menu Information</span></h2>
<p>Image: Adjustments: Color Replace
</p>
<h2><a name="Brief_Information"></a><span class="mw-headline">Brief Information</span></h2>
<p>Replace color within pre-defined color range
</p>
<h2><a name="Command_Line_Usage"></a><span class="mw-headline">Command Line Usage</span></h2>
<p><code>
</p><p>1. imgColorReplace fuzz:=30 r:=255 g:=255 b:=0;
</p><p>2. imgColorReplace fuzz:=70 adj_b:=-20 adj_s:=-50 adj_h:=-90;
</p><p>3. imgColorReplace oimg:=&lt;input&gt;;
</p><p></code>
</p>
<h2><a name="X-Function_Execution_Options"></a><span class="mw-headline">X-Function Execution Options</span></h2>
<p><a class="external text" href="../../LabTalk/LabTalk/X-Function_Execution_Options.html">Please refer to the page for additional option switches when accessing the x-function from script</a>
</p>
<h2><a name="Variables"></a><span class="mw-headline">Variables</span></h2>
<table class="xfvar">
<tr>
<th width="8%">Display<br />Name
</th>
<th width="8%">Variable<br />Name
</th>
<th width="8%">I/O<br />and<br />Type
</th>
<th width="8%">Default<br />Value
</th>
<th>Description
</th></tr>
<tr>
<td>Input Matrix
</td>
<td>img
</td>
<td>
<p>Input
</p><p>Image
</p>
</td>
<td> <center>&lt;active&gt;</center>
</td>
<td>
<p>Specifies the input image to be manipulated. The default input is the active image.
</p>
</td></tr>
<tr>
<td>Output Image
</td>
<td>oimg
</td>
<td>
<p>Output
</p><p>Image
</p>
</td>
<td> <center>&lt;new&gt;</center>
</td>
<td>
<p>Specifies the output image. By default, a new image will be created and used as output.
See the syntax <a class="external text" href="../../XFunction/X-Function/Output_Notations.html">here</a>.
</p>
</td></tr>
<tr>
<td>Fuzziness
</td>
<td>fuzzi
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>50</center>
</td>
<td>
<p>Specifies the Fuzziness value which is used for determining a color range around the specified color. The colors within this range are similar to the specified color and all of them will be replaced. Note that fuzziness value should be an integer between 1 and 100
</p>
</td></tr>
<tr>
<td>Replace Red
</td>
<td>r
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>128</center>
</td>
<td>
<p>Specifies the red component of the color to be replaced. The value should be an integer between 0 and 255
</p>
</td></tr>
<tr>
<td>Replace Green
</td>
<td>g
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>128</center>
</td>
<td>
<p>Specifies the green component of the color to be replaced. The value should be an integer between 0 and 255
</p>
</td></tr>
<tr>
<td>Replace Blue
</td>
<td>b
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>128</center>
</td>
<td>
<p>Specifies the blue component of the color to be replaced. The value should be an integer between 0 and 255
</p>
</td></tr>
<tr>
<td>Adjust Brightness
</td>
<td>adj_b
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>50</center>
</td>
<td>
<p>Specifies the percentage increase/decrease of the brightness for the colors to be replaced. The value should be an integer between -100 and 100. A negative value will cause the brightness to be reduced while a positive value will result in brightness increase.
</p>
</td></tr>
<tr>
<td>Adjust Saturation
</td>
<td>adj_s
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>50</center>
</td>
<td>
<p>Specifies the percentage increase/decrease of the saturation for the colors to be replaced. The value should be an integer between -100 and 100. A negative value will cause the saturation to be reduced while a positive value will result in saturation increase.
</p>
</td></tr>
<tr>
<td>Adjust Hue
</td>
<td>adj_h
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>0</center>
</td>
<td>
<p>Specifies the percentage increase/decrease of the hue for the colors to be replaced. The value should be an integer between -180 and 180. A negative value will cause the hue to be reduced while a positive value will result in hue increase.
</p>
</td></tr></table>
<h2><a name="Description"></a><span class="mw-headline">Description</span></h2>
<p>This function adjusts the <b>brightness, saturation</b> and <b>hue</b> of the specified color to replace it with another color. You can specify the color to be replaced with its RGB components.
</p><p>You can opt to replace the colors similar to the specified color with the <b>Fuzziness</b> variable. By doing this, you are likely to get a smooth output image with a range of color replaced.
</p>
<h2><a name="Examples"></a><span class="mw-headline">Examples</span></h2>
<p>The following example shows you how to change the color of the input image: 
</p><p>1.  Create a new matrix and import <b>red camellia.jpg</b> under \Samples\Image Processing and Analysis folder into it.
</p><p>2.  Select <b>Image: Adjustment: Color Replace...</b> from the menu to open the dialog. Change the settings as shown below and click <b>OK</b>.
</p>
<dl><dd><a  class="image"><img alt="ImgColorReplace help English files image002-1.jpg" src="../images/ImgColorReplace/ImgColorReplace_help_English_files_image002-1.jpg?v=5250" width="403"  /></a></dd></dl>
<dl><dd><table class="TableGrid" style="; border: none; x-border-left: 1px table-solid; x-border-top: 1px table-solid; x-border-right: 1px table-solid; x-border-bottom: 1px table-solid; border-collapse: separate; border-spacing: 0px;background: #EFEFEF" border="1">
<tr>
<td>
<center><a  class="image"><img alt="ImgColorReplace help English files image004-1.jpg" src="../images/ImgColorReplace/ImgColorReplace_help_English_files_image004-1.jpg?v=5251" width="282"  /></a></center>
</td>
<td>
<center><a  class="image"><img alt="ImgColorReplace help English files image006-1.jpg" src="../images/ImgColorReplace/ImgColorReplace_help_English_files_image006-1.jpg?v=5252" width="283"  /></a></center>
</td></tr>
<tr>
<td>
<center><b>The original image</b></center>
</td>
<td>
<center><b>The output image</b></center>
</td></tr></table></dd></dl>
<p><br />
</p>
<h2><a name="Algorithm"></a><span class="mw-headline">Algorithm</span></h2>
<p>The function first determines the specified color with the input R, G, B values, and then calculates the color range around the specified color. Finally, it applies the adjusted brightness, saturation and hue values to the pixels within the color range.
</p><p>For more information, please refer to the LEADTOOLS Main API Help file, Version 14 and read the L_ColorReplaceBitmap topic.
</p>
<h2><a name="References"></a><span class="mw-headline">References</span></h2>
<p>LEADTOOLS Main API Help file, Version 14
</p>
<h2><a name="Related_X-Functions"></a><span class="mw-headline">Related X-Functions</span></h2>
<p><a href="../../XFunction/X-Function/ImgBrightness.html" title="X-Function:ImgBrightness">imgBrightness</a>, <a href="../../XFunction/X-Function/ImgSaturation.html" title="X-Function:ImgSaturation">imgSaturation</a>, <a href="../../XFunction/X-Function/ImgHue.html" title="X-Function:ImgHue">imgHue</a>
</p>





