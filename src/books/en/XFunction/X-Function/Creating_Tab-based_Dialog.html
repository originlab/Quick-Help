<h1 class="firstHeading">1.2.4 Creating Tab-based Dialog</h1><p><span class="OIndex" style="display:none">X-Function, Tab-based Dialog</span>
</p><p>The following example shows how to create a tab-based X-Function dialog, as well as an event1 function to catch when tab is changed.
</p>
<ol><li>Press F10 to open X-Function Builder. Type "tabdlg" into the X-Function edit box as the X-Function name.</li>
<li> In the Variables panel, Click on <b>x</b> to change name to <b>str1</b>. Change <b>Data Type</b> to <b>string</b>. Change Option String to <b>G:-Tab One</b>. Right click on the grey area in the panel and add three variables and change the properties of the variables as shown below. Click <b>Save</b> to save this X-Function.
</li>
<p><a  class="image"><img alt="Tabdlg.png" src="../images/Creating_Tab-based_Dialog/400px-Tabdlg.png?v=81429" width="400"   /></a>
</p>
<li> Open the X-Function in Code Builder, and add the following line of code at the beginning.
<span class="OIndex" style="display:none">X-Function, event1</span>
<pre class="oc" style="font-family:monospace;"><span style="color: #0000ff;">#include</span> <span style="color: #000080;">&lt;</span>event_utils.<span style="color: #000000;">h</span><span style="color: #000080;">&gt;</span></pre>
<p>Put the following code in <b>TabDialog_event1</b>. 
</p>
<pre class="oc" style="font-family:monospace;"><span style="color: #008000;">//Codes for tab change</span>
<span style="color: #0000ff;">if</span> <span style="color: #000000;">&#40;</span> GETNE_ON_ACTIVE_TAB_CHANGE <span style="color: #000080;">==</span> nEventID <span style="color: #000000;">&#41;</span>
<span style="color: #000000;">&#123;</span>
	<span style="color: #0000ff;">int</span> nLastTabIndex <span style="color: #000080;">=</span> <span style="color: #000040;">-</span><span style="color: #0000dd;">1</span>;
	<span style="color: #0000ff;">if</span> <span style="color: #000000;">&#40;</span> <span style="color: #000040;">!</span>trGetN.<span style="color: #000000;">GetAttribute</span><span style="color: #000000;">&#40;</span>STR_LAST_TAB_INDEX_ATTRIB, nLastTabIndex<span style="color: #000000;">&#41;</span> <span style="color: #000000;">&#41;</span>
		nLastTabIndex <span style="color: #000080;">=</span> <span style="color: #000040;">-</span><span style="color: #0000dd;">1</span>;
	<span style="color: #000000;">printf</span><span style="color: #000000;">&#40;</span><span style="color: #ff00ff;">&quot;TabChanged: Old=%d, New=%d<span style="color: #666666; font-weight: bold;">\n</span>&quot;</span>, nLastTabIndex, nRow<span style="color: #000000;">&#41;</span>;
	trGetN.<span style="color: #000000;">SetAttribute</span><span style="color: #000000;">&#40;</span>STR_LAST_TAB_INDEX_ATTRIB, nRow<span style="color: #000000;">&#41;</span>;
<span style="color: #000000;">&#125;</span></pre>
<p>Put the following code in <b>TabDialog_before_execute</b>.
</p>
<pre class="oc" style="font-family:monospace;"><span style="color: #0000ff;">if</span> <span style="color: #000000;">&#40;</span> is_xf_startup<span style="color: #000000;">&#40;</span>nGetNDialog, dwCntrl<span style="color: #000000;">&#41;</span> <span style="color: #000000;">&#41;</span>
<span style="color: #000000;">&#123;</span>
	STATS_GETN_GROUPED_SUBNODES_AS_TABS; <span style="color: #008000;">//Show the branches in tab</span>
	GETN_ENABLE_TABCHANGE_EVENT<span style="color: #000000;">&#40;</span>trGetN, <span style="color: #0000ff;">true</span><span style="color: #000000;">&#41;</span>; <span style="color: #008000;">//Enable event for tab change</span>
<span style="color: #000000;">&#125;</span></pre>
</li>
<li>Click the <a  class="image"><img alt="Ocguide XF Compile Button.PNG" src="../images/Creating_Tab-based_Dialog/Ocguide_XF_Compile_Button.PNG?v=77099" width="92"  /></a> button. </li>
<li>Run <b>tabdlg -d</b> in the Command window to open the dialog. Switching between the tabs will trigger the event and print out messages like "TabChanged: Old=-1, New=2". </li>
</ol>






