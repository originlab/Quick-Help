<h1 class="firstHeading">2.7.37 impHDF5</h1><div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Menu_Information"><span class="tocnumber">1</span> <span class="toctext">Menu Information</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Brief_Information"><span class="tocnumber">2</span> <span class="toctext">Brief Information</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Additional_Information"><span class="tocnumber">3</span> <span class="toctext">Additional Information</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Command_Line_Usage"><span class="tocnumber">4</span> <span class="toctext">Command Line Usage</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#X-Function_Execution_Options"><span class="tocnumber">5</span> <span class="toctext">X-Function Execution Options</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Variables"><span class="tocnumber">6</span> <span class="toctext">Variables</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#Description"><span class="tocnumber">7</span> <span class="toctext">Description</span></a>
<ul>
<li class="toclevel-2 tocsection-8"><a href="#Details_on_Some_Dialog_Options"><span class="tocnumber">7.1</span> <span class="toctext">Details on Some Dialog Options</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-9"><a href="#Examples"><span class="tocnumber">8</span> <span class="toctext">Examples</span></a>
<ul>
<li class="toclevel-2 tocsection-10"><a href="#Example_1"><span class="tocnumber">8.1</span> <span class="toctext">Example 1</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Example_2"><span class="tocnumber">8.2</span> <span class="toctext">Example 2</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-12"><a href="#Related_X-Functions"><span class="tocnumber">9</span> <span class="toctext">Related X-Functions</span></a></li>
</ul>
</div>

<h2><a name="Menu_Information"></a><span class="mw-headline">Menu Information</span></h2>
<p>Data: Import from File: HDF5 (H5, HE5, HDF5)
</p><p><br />
If you do not see this file type, choose <b>Data: Import from File: Add/Remove File Types...</b>
</p><p><a  class="image"><img alt="File Import Add Menu.png" src="../images/ImpHDF5/File_Import_Add_Menu.png?v=81194" width="475"  /></a>
</p>
<table class="noborder"><tr>
	<td style="vertical-align:top" width="60"><img src="../images/ImpHDF5/Tip_icon.png?v=0" width="57"  border="0" /></td><td><p>To add drag &amp; drop support for a file type, see <a class="external text" href="../../UserGuide/UserGuide/Introduction_to_Import_Filters_Manager.html"><b>Import Filter Manager</b></a>.
</p></td></tr></table>
<p>This X-Function supports file re-import. See <a class="external text" href="../../GettingStarted/OriginLab/Import_Data.html#Re-Importing_Data_Files">this topic</a> for details.
</p>
<h2><a name="Brief_Information"></a><span class="mw-headline">Brief Information</span></h2>
<p>Import HDF5 file up to version 1.8.2
</p>
<h2><a name="Additional_Information"></a><span class="mw-headline">Additional Information</span></h2>
<p><b>Minimum Origin Version Required</b>: 8.1 SR0, updated in 2016 SR0
</p>
<h2><a name="Command_Line_Usage"></a><span class="mw-headline">Command Line Usage</span></h2>
<p><code>
1. impHDF5 fname:=C:\hdf5_test.h5;
</p><p>2. impHDF5 fname:=C:\hdf5_test.h5 options.bStructureOnly:=1;
</p><p></code>
</p>
<h2><a name="X-Function_Execution_Options"></a><span class="mw-headline">X-Function Execution Options</span></h2>
<p><a class="external text" href="../../LabTalk/LabTalk/X-Function_Execution_Options.html">Please refer to the page for additional option switches when accessing the x-function from script</a>
</p>
<h2><a name="Variables"></a><span class="mw-headline">Variables</span></h2>
<table class="xfvar">
<tr>
<th width="8%">Display<br />Name
</th>
<th width="8%">Variable<br />Name
</th>
<th width="8%">I/O<br />and<br />Type
</th>
<th width="8%">Default<br />Value
</th>
<th>Description
</th></tr>
<tr>
<td>File Name
</td>
<td>fname
</td>
<td>
<p>Input
</p><p>string
</p>
</td>
<td> <center>fname$</center>
</td>
<td> Filename(s) of the file(s) to be imported. Click the browse button near the list box to open one or more files. Filenames will be listed in the box.
</td></tr>
<tr>
<td>Import as Folder Structure
</td>
<td>impMode
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>1</center>
</td>
<td> As of Origin 8.6, this variable is no longer used.
</td></tr>
<tr>
<td>File Info and Data Selection
</td>
<td>trfiles
</td>
<td>
<p>Input
</p><p>TreeNode
</p>
</td>
<td> <center>&lt;unassigned&gt;</center>
</td>
<td> This is used to select the desired data channels. See more details in Description section.
</td></tr>
<tr>
<td>Import Options
</td>
<td>options
</td>
<td>
<p>Input
</p><p>TreeNode
</p>
</td>
<td> <center>&lt;unassigned&gt;</center>
</td>
<td> When importing an HDF5 file, you can import just the file structure, import into Hierarchical Structure or you can save the file information in a workbook to allow for re-importing. If you select the <b>Import Structure Only</b> and <b>Save File Info. in Workbook</b> check boxes, the <a href="../../XFunction/X-Function/Reimport.html" title="X-Function:Reimport">reimport</a> X-Function can be used to re-import part of the desired data after importing the file structure.
<p>Options:
</p>
<ul><li> <i>bStructureOnly:Import Structure Only</i>
<dl><dd> If checked, only the structure of the file will be imported.</dd></dl></li>
<li> <i>bHierarchical:Import into Hierarchical Structure </i>
<dl><dd> When you select this, only the variable list is imported into a worksheet, and the individual variable names are displayed as linked text in the 1st column. Clicking on variable names will import the desired variables one-by-one in the new worksheets.</dd></dl></li></ul>
<dl><dd><dl><dd><b>Note:</b> Only supports import to workbooks/worksheets. </dd></dl></dd></dl>
<ul><li> <i>bSaveFileInfo:Save File Info. in Workbook</i>
<dl><dd> If not selected, the file information will not be saved in Organizer and the <a href="../../XFunction/X-Function/Reimport.html" title="X-Function:Reimport">reimport</a> will not work, but the import speed can be improved.</dd></dl></li></ul>
</td></tr>
<tr>
<td>Output
</td>
<td>orng
</td>
<td>
<p>Output
</p><p>Range
</p>
</td>
<td> <center>&lt;active&gt;</center>
</td>
<td> Specify the range for the imported data.
<p>See the syntax of <a class="external text" href="../../XFunction/X-Function/Output_Notations.html">Output Notations</a>.
</p>
</td></tr>
<tr>
<td>Header Info
</td>
<td>trheader
</td>
<td>
<p>Output
</p><p>TreeNode
</p>
</td>
<td> <center>&lt;unassigned&gt;</center>
</td>
<td> For outputting header information. This is hidden from the GUI. Use of this variable is not advised.
</td></tr>
<tr>
<td>Repeat Import
</td>
<td>reimp
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>0</center>
</td>
<td> This is used for repeat import. Use of this variable is not advised.
</td></tr></table>
<h2><a name="Description"></a><span class="mw-headline">Description</span></h2>
<p>The Hierarchical Data Format (HDF) is a set of file formats and libraries designed for storing and organizing large amounts of numerical data. HDF4 is the older version of this format, and HDF5 is designed to address some of the limitations of the HDF4 library. HDF5 simplifies the file structures of datasets and groups. Datasets are multidimensinal arrays of a homogenous type and groups are container structures which can hold datasets and other groups. 
</p><p>This X-Function is used for importing HDF5 data files whose version is lower than 1.8.2. This X-Function supports multi-file import. When an HDF5 file is imported, the workbook is used to store data such as notes, one-dimensional datasets, arrays of structures, and vector data with mixed types. 
</p><p>Two- or more-dimensional datasets and image data are stored in a matrix book. In a matrix book, the channel number of each matrix sheet is decided by the dataset. This allows the import of the HDF5 file's structure, as well as the separate re-import of desired data using the <a href="../../XFunction/X-Function/Reimport.html" title="X-Function:Reimport">reimport</a> X-Function.  
</p>
<h3><a name="Details_on_Some_Dialog_Options"></a><span class="mw-headline">Details on Some Dialog Options</span></h3>
<dl><dd><ul><li><b>File Info And Data Selection (trfiles)</b></li></ul>
<dl><dd>This variable is a treenode. It shows file information and allows you to choose the channels to import. The name of each sub-treenode is the name of the corresponding file. Under each sub-treenode, the file size and any available data are listed.</dd></dl></dd></dl>
<h2><a name="Examples"></a><span class="mw-headline">Examples</span></h2>
<h3><a name="Example_1"></a><span class="mw-headline">Example 1</span></h3>
<p>The following example shows how to import the structure of an HDF5 data file (c:\hdf5_test.h5), and then use the <b>reimport sel:=1;</b> to import the desired data into a workbook.
</p>
<ol><li> Create a new project. Select <b>Data: Import from File: HDF5 (H5, HE5, HDF5)...</b> from the Origin menu. This opens the <b>HDF5</b> file browser.</li>
<li> Select <i>C:\hdf5_test.h5'</i> and then click the <b>Add File(s)</b> button. Make sure that the <b>Show Options Dialog</b> check-box is selected.</li>
<li> Click the <b>OK</b> button to close the file browser. The <b>impHDF5</b> dialog should now open.</li>
<li> In the <b>File Info And Data Selection: hdf5_test: Data Selection</b> branch, select all the check boxes.</li>
<li> In the <b>Import Options</b> branch, check the <b>Import Structure Only</b> check box and keep the <b>Save File Info. in Workbook</b> check box selected.</li>
<li> Change <b>Output</b> to <i>&lt;new&gt;</i>.
<dl><dd><a  class="image"><img alt="ImpHDF5 1.png" src="../images/ImpHDF5/ImpHDF5_1.png?v=79649" width="483"  /></a></dd></dl></li>
<li> Click the <b>OK</b> button to import only the structure of this HDF5 file. </li>
<li> To import a selected data range, activate the corresponding empty worksheet, and then run:
<dl><dd> <code>reimport sel:=1;</code></dd></dl></li></ol>
<h3><a name="Example_2"></a><span class="mw-headline">Example 2</span></h3>
<p>This example will show you how to import a HDF5 file(C:\hdf5dada.h5) with structure data into hierarchical structure. 
</p>
<ol><li> Create a new workbook and activate it. From the Origin main menu, select <b>Data: Import from File: HDF5 (H5, HE5, HDF5)...</b>. This opens the <b>HDF5</b> file browser.</li>
<li> Select <i>C:\hdf5dada.h5</i> and then click the <b>Add File(s)</b> button. Make sure that the <b>Show Options Dialog</b> check-box is selected.</li>
<li> Click the <b>OK</b> button to close the file browser. The <b>impHDF5</b> dialog should now open.</li>
<li> Check the <b>Import into Hierarchical Structure</b> box under the <b>Import Options</b> branch. Note that the <b>Import Structure Only</b> and <b>Save File Info. in Workbook</b> checkboxes are now grayed out.
<dl><dd><a  class="image"><img alt="ImpHDF5 2.png" src="../images/ImpHDF5/ImpHDF5_2.png?v=79062" width="485"  /></a></dd></dl></li>
<li> Click the <b>OK</b> button. The file will be imported. Next, click on the variable names to further import just the desired variables one-by-one, into new worksheets. 
<dl><dd><a  class="image"><img alt="ImpHDF5 3.png" src="../images/ImpHDF5/ImpHDF5_3.png?v=79059" width="678"  /></a></dd></dl></li></ol>
<h2><a name="Related_X-Functions"></a><span class="mw-headline">Related X-Functions</span></h2>
<p><a href="../../XFunction/X-Function/Cd.html" title="X-Function:Cd">cd</a>, <a href="../../XFunction/X-Function/Impinfo.html" title="X-Function:Impinfo">impinfo</a>, <a href="../../XFunction/X-Function/FindFiles.html" title="X-Function:FindFiles">findFiles</a>, <a href="../../XFunction/X-Function/ImpFile.html" title="X-Function:ImpFile">impFile</a>
</p>

