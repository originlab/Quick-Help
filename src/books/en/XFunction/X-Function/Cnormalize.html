<h1 class="firstHeading">2.8.4 cnormalize</h1><div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Menu_Information"><span class="tocnumber">1</span> <span class="toctext">Menu Information</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Brief_Information"><span class="tocnumber">2</span> <span class="toctext">Brief Information</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Additional_Information"><span class="tocnumber">3</span> <span class="toctext">Additional Information</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Command_Line_Usage"><span class="tocnumber">4</span> <span class="toctext">Command Line Usage</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#X-Function_Execution_Options"><span class="tocnumber">5</span> <span class="toctext">X-Function Execution Options</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Variables"><span class="tocnumber">6</span> <span class="toctext">Variables</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#Description"><span class="tocnumber">7</span> <span class="toctext">Description</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#Examples"><span class="tocnumber">8</span> <span class="toctext">Examples</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="#Algorithm"><span class="tocnumber">9</span> <span class="toctext">Algorithm</span></a></li>
<li class="toclevel-1 tocsection-10"><a href="#Related_X-Functions"><span class="tocnumber">10</span> <span class="toctext">Related X-Functions</span></a></li>
</ul>
</div>

<h2><a name="Menu_Information"></a><span class="mw-headline">Menu Information</span></h2>
<p>Analysis: Mathematics: Normalize Curves (Activate a graph)
</p>
<h2><a name="Brief_Information"></a><span class="mw-headline">Brief Information</span></h2>
<p>Normalize XY data or data plot in graph, including option to pick a reference point
</p>
<h2><a name="Additional_Information"></a><span class="mw-headline">Additional Information</span></h2>
<p><b>Minimum Origin Version Required</b>: 8.1 SR0
</p>
<h2><a name="Command_Line_Usage"></a><span class="mw-headline">Command Line Usage</span></h2>
<p><code>
</p>
<ol><li>cnormalize iy:=[graph1]2!2 method:=median;</li>
<li>cnormalize iy:=(2,3) method:=ref ref:=1 to:=mean;</li></ol>
<p></code>
</p>
<h2><a name="X-Function_Execution_Options"></a><span class="mw-headline">X-Function Execution Options</span></h2>
<p><a class="external text" href="../../LabTalk/LabTalk/X-Function_Execution_Options.html">Please refer to the page for additional option switches when accessing the x-function from script</a>
</p>
<h2><a name="Variables"></a><span class="mw-headline">Variables</span></h2>
<table class="xfvar">
<tr>
<th>Display<br />Name
</th>
<th>Variable<br />Name
</th>
<th>I/O<br />and<br />Type
</th>
<th>Default<br />Value
</th>
<th>Description
</th></tr>
<tr>
<td>Input
</td>
<td>iy
</td>
<td>
<p>Input
</p><p>XYRange
</p>
</td>
<td> <center>&lt;active&gt;</center>
</td>
<td>
<p>Specify the input curve(s) or XYRange(s).
</p>
</td></tr>
<tr>
<td>Data Info
</td>
<td>datainfo
</td>
<td>
<p>Input 
</p><p>TreeNode 
</p>
</td>
<td><center>&lt;unassigned&gt;</center>
</td>
<td>
<p>This is for displaying the data information in the dialog. When you are using the X-Function by LabTalk, please do not use this variable.
</p>
</td></tr>
<tr>
<td>Treat Input as One Composite Dataset
</td>
<td>composite
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>0</center>
</td>
<td> Specify whether to treat selection as one composite dataset. This variable is not available when <b>method</b> is set to <b>specify</b> or <b>pt</b>.
</td></tr>
<tr>
<td>Normalize Methods
</td>
<td>method
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>1</center>
</td>
<td>
<p>Specify the method used to normalize the input data
</p><p>Option list:
</p>
<ul><li><i>specify:Divided by a specified value</i> {0}
<dl><dd>Divide the curve by a value specified by the <b>val</b> variable.</dd></dl></li>
<li><i>range:Normalize to [0, 1]</i> {1}
<dl><dd>Normalize the curve to the range [0, 1].</dd></dl></li>
<li><i>range100:Normalize to [0, 100]</i> {13}
<dl><dd>Normalize data to the range [0, 100]. <font color="red">(9.0 SR0)</font></dd></dl></li>
<li><i>snd:Z scores (standardize to N(0, 1))</i> {2}
<dl><dd>Transform the curve to the standard normal distribution.</dd></dl></li>
<li><i>max:Divided by Max</i> {3}
<dl><dd>Divide the curve by the maximum Y value.</dd></dl></li>
<li><i>min:Divided by Min</i> {4}
<dl><dd>Divide the curve by the minimum Y value.</dd></dl></li>
<li><i>mean:Divided by Mean</i> {5}
<dl><dd>Divide the curve by the mean of the Y values.</dd></dl></li>
<li><i>median:Divided by Median</i> {6}
<dl><dd>Divide the curve by the median of the Y values.</dd></dl></li>
<li><i>sd:Divided by SD</i> {7}
<dl><dd>Divide the curve by the standard deviation of the Y values.</dd></dl></li>
<li><i>norm:Divided by Norm</i> {8}
<dl><dd>Divide the curve by the norm of the Y values.</dd></dl></li>
<li><i>mode:Divided by Mode</i> {9}
<dl><dd>Divide the curve by the mode of the Y values.</dd></dl></li>
<li><i>sum:Divided by Sum</i> {10}
<dl><dd>Divide the curve by the sum of the Y values.</dd></dl></li>
<li><i>ref:Use Reference Plot</i> {11}
<dl><dd>Normalize the curve using a reference curve specified by the <b>ref</b> variable.</dd></dl></li>
<li><i>pt:Normalize to Point Picked from Graph</i> {12}
<dl><dd>Normalize the curve using a reference point picked from graph. To specify a reference point, one can pick a particular data point from a graph by double-click on it or assign the X and Y value of the reference point in <b>Pickx</b>, <b>picky</b> respectively.</dd></dl></li></ul>
</td></tr>
<tr>
<td>User-Defined Value
</td>
<td>val
</td>
<td>
<p>Input
</p><p>double
</p>
</td>
<td> <center>1.0</center>
</td>
<td>
<p>This variable is available only when <b>method</b> is set to <b>specify</b>. It specifies the value used to divide in the input curve.
</p>
</td></tr>
<tr>
<td>Reference Plot
</td>
<td>ref
</td>
<td>
<p>Input
</p><p>XYRange
</p>
</td>
<td> <center>&lt;optional&gt;</center>
</td>
<td>
<p>This variable is available only when <b>method</b> is set to <b>ref</b>. It specifies the reference plot (XYRange).
</p>
</td></tr>
<tr>
<td>Normalize to
</td>
<td>to
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>0</center>
</td>
<td>
<p>This variable is available only when <b>method</b> is set to <b>ref</b>. It determines which statistical variable in reference column is used as the normalization match. After normalization, the chosen statistical variable of input column will match that of the reference plot. 
</p><p>Option list:
</p>
<ul><li><i>min:Min</i>
<dl><dd>Normalize the input curves such that the min value of each curve matches that of the reference.</dd></dl></li>
<li><i>max:Max</i>
<dl><dd>Normalize the input curves such that the max value of each curve matches that of the reference.</dd></dl></li>
<li><i>mean:Mean</i>
<dl><dd>Normalize the input curves such that the mean value of each curve matches that of the reference.</dd></dl></li>
<li><i>median:Median</i>
<dl><dd>Normalize the input curves such that the median value of each curve matches that of the reference.</dd></dl></li>
<li><i>sum:Sum</i>
<dl><dd>Normalize the input curves such that the sum of each curve matches that of the reference.</dd></dl></li></ul>
</td></tr>
<tr>
<td>Pick
</td>
<td>pick
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>0</center>
</td>
<td>
<p>This is the <b>Pick Point</b> button in the dialog. It is for selecting the reference point in the dialog. It is available only when <b>method</b> is set to <b>pt</b>. When using the X-Function by LabTalk, you can either use mouse to pick up a data point from a graph or specify the <b>pickx</b>, <b>picky</b>, and <b>pickidx</b> in the script window.
</p><p>To select a data point using mouse, set <b>method</b> to <b>pt</b> and then press <b>Enter</b> on keyboard without specifying the <b>pickx</b>, <b>picky</b>, and <b>pickidx</b> variables. The mouse cursor becomes <a  class="image"><img alt="Data reader.png" src="../images/Cnormalize/Data_reader.png?v=13567" width="28"  /></a>. You can select one point from the graph and double-click on this point to execute normalization.
</p><p>To select a data point using script, please see the description of <b>pickx</b>, <b>picky</b>, and <b>pickidx</b> below.
</p>
</td></tr>
<tr>
<td>Picked Point's X Value
</td>
<td>pickx
</td>
<td>
<p>Input
</p><p>double
</p>
</td>
<td> <center>&lt;unassigned&gt;</center>
</td>
<td>
<p>This variable is available only when "method" is set to "pt". It specifies the X value of the reference point.
</p>
</td></tr>
<tr>
<td>Picked Point's Y Value
</td>
<td>picky
</td>
<td>
<p>Input
</p><p>double
</p>
</td>
<td> <center>&lt;unassigned&gt;</center>
</td>
<td>
<p>This varialbe is available only when "method" is set to "pt". It specifies the Y value of the reference point.
</p>
</td></tr>
<tr>
<td>Picked Point's Index
</td>
<td>pickidx
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td>
</td>
<td>
<p>This variable is available only when "method" is set to "pt". It specifies the index number of the reference point. 
</p>
</td></tr>
<tr>
<td>Reference Point
</td>
<td>refpoint
</td>
<td>
<p>Input
</p><p>Range
</p>
</td>
<td> <center> </center>
</td>
<td>
<p>Specify the Reference Point.
</p>
</td></tr>
<tr>
<td>Output
</td>
<td>oy
</td>
<td>
<p>Output
</p><p>XYRange
</p>
</td>
<td> <center>(&lt;input&gt;,&lt;new&gt;)</center>
</td>
<td>
<p>Specify the output for the normalized curves.
</p>
</td></tr></table>
<h2><a name="Description"></a><span class="mw-headline">Description</span></h2>
<p>This function adjusts curve(s) or part of the curve(s) to a specific "standard" level one by one. It treats each selected curve indepently and normalizes all the curves one by one.
</p>
<h2><a name="Examples"></a><span class="mw-headline">Examples</span></h2>
<p>The following example shows you how to normalize two curves to a data point picked from the graph.
</p>
<ol><li>import the file <i>\Samples\Curve Fitting\Exponential Decay.dat</i>.</li>
<li>Highlight the columns B to D and select <b>Plot: Line+Symbol: Line+Symbol</b> from the Origin menu to create a graph.</li>
<li>Activate the graph. Select <b>Analysis: Mathematics: Normalize Curves</b> from the Origin menu to bring up the <b>cnormalize</b> dialog box.</li>
<li>Select plots "Decay 2" and "Decay 3" for <b>Input</b>. The input curves' information is listed in <b>Total Data info</b> branch. </li>
<li>Select <b>Normalize to Point Picked from Graph</b> from the <b>Normalize Methods</b> drop-down list. Click the <b>Pick Point</b> button next to <b>pick</b>. Then the dialog box minimizes. You can pick a data point from the graph as the reference point. Double-click on a desired point to return to the dialog box. Now the picked point's X, Y values and index is listed below <b>pick</b>.</li>
<li>Click the rightsided arrow button next to <b>Output</b>. Select <b>&lt;input&gt;: XY = input XY</b> from the fly-out menu.</li>
<li>Click the <b>OK</b> button to execute. The normalized curves should replace the original curves. All three curves should go through the picked reference point:
<dl><dd><a  class="image"><img alt="Cnormalize 01.png" src="../images/Cnormalize/Cnormalize_01.png?v=13401" width="434"  /></a></dd></dl></li></ol>
<h2><a name="Algorithm"></a><span class="mw-headline">Algorithm</span></h2>
<p>Suppose <img src="../images/Cnormalize/math-57cec4137b614c87cb4e24a3d003a3e0.png?v=0" title="Y" alt="Y" class="tex"/> is the <img src="../images/Cnormalize/math-415290769594460e2e485922904f345d.png?v=0" title="y" alt="y" class="tex"/> values of input curve, <img src="../images/Cnormalize/math-7b7f9dbfea05c83784f8b85149852f08.png?v=0" title="\alpha" alt="\alpha" class="tex"/> is a user defined value, <img src="../images/Cnormalize/math-387a6190b9cc21b898ed7cc913065934.png?v=0" title="X_{peak}" alt="X_{peak}" class="tex"/> and <img src="../images/Cnormalize/math-2b7b0b1716495c1a1adf7aa715226e64.png?v=0" title="Y_{peak}" alt="Y_{peak}" class="tex"/> are the picked data point's <i>x</i> and <i>y</i> values, and Y_{input} is the input curve's <i>y</i> value when its <i>x</i> value equals to <img src="../images/Cnormalize/math-387a6190b9cc21b898ed7cc913065934.png?v=0" title="X_{peak}" alt="X_{peak}" class="tex"/>. The normalized curve, <img src="../images/Cnormalize/math-2daf6744e0a7953967fa0d2e241f9ad8.png?v=0" title="Y{}&#39;" alt="Y{}&#39;" class="tex"/> is:
</p><p>Divided by a specific value:
</p><p><img src="../images/Cnormalize/math-d1869505ebfefd9f9db7a49be8b78699.png?v=0" title="Y{}&#39;=\frac{Y}{\alpha }" alt="Y{}&#39;=\frac{Y}{\alpha }" class="tex"/>
</p><p>Normalize to [0, 1]:
</p><p><img src="../images/Cnormalize/math-70ba064a47970dfbda94a016d21e5a10.png?v=0" title="Y{}&#39;=\frac{Y-Y_{min}}{Y_{max}-Y_{min}}" alt="Y{}&#39;=\frac{Y-Y_{min}}{Y_{max}-Y_{min}}" class="tex"/>
</p><p>Normalize to [0, 100]: 
</p><p><img src="../images/Cnormalize/math-ea535b6fc36a9c8a80d5f62d84ece50a.png?v=0" title="Y{}&#39;=\frac{100(Y-Y_{min})}{Y_{max}-Y_{min}}" alt="Y{}&#39;=\frac{100(Y-Y_{min})}{Y_{max}-Y_{min}}" class="tex"/>
</p><p>Z scores (standardize to N(0, 1)):
</p><p><img src="../images/Cnormalize/math-0a611ccc6f004d1c6f45c0a5da043796.png?v=0" title="Y{}&#39;=\frac{Y-Y_{min}}{Y_{SD}}" alt="Y{}&#39;=\frac{Y-Y_{min}}{Y_{SD}}" class="tex"/>
</p><p>Divided by Max:
</p><p><img src="../images/Cnormalize/math-58f7bec5956ff7b2506fe8651059983d.png?v=0" title="Y{}&#39;=\frac{Y}{Y_{max}}" alt="Y{}&#39;=\frac{Y}{Y_{max}}" class="tex"/>
</p><p>Divided by Min:
</p><p><img src="../images/Cnormalize/math-f3aadf76a397b92352cfd20722d220f9.png?v=0" title="Y{}&#39;=\frac{Y}{Y_{min}}" alt="Y{}&#39;=\frac{Y}{Y_{min}}" class="tex"/>
</p><p>Divided by Mean:
</p><p><img src="../images/Cnormalize/math-ce91f28ecb3b155bcc2e958e7b457423.png?v=0" title="Y{}&#39;=\frac{Y}{Y_{mean}}" alt="Y{}&#39;=\frac{Y}{Y_{mean}}" class="tex"/>
</p><p>Divided by Median:
</p><p><img src="../images/Cnormalize/math-3c6a61ee4561f2dda86e058e469549be.png?v=0" title="Y{}&#39;=\frac{Y}{Y_{median}}" alt="Y{}&#39;=\frac{Y}{Y_{median}}" class="tex"/>
</p><p>Divided by Standard Derivation:
</p><p><img src="../images/Cnormalize/math-b7f39a7362683dfc337aa66018b074a9.png?v=0" title="Y{}&#39;=\frac{Y}{Y_{SD}}" alt="Y{}&#39;=\frac{Y}{Y_{SD}}" class="tex"/>
</p><p>Divided by Norm:
</p><p><img src="../images/Cnormalize/math-d9820afec64f26bbf4503532dcdf90ee.png?v=0" title="Y{}&#39;=\frac{Y}{\left \| Y \right \|}" alt="Y{}&#39;=\frac{Y}{\left \| Y \right \|}" class="tex"/>
</p><p><img src="../images/Cnormalize/math-75b3d244458ed14b60ebe9e4040b305e.png?v=0" title="\left \| Y \right \|=\sqrt{y_1^2+\cdots +y_n^2}" alt="\left \| Y \right \|=\sqrt{y_1^2+\cdots +y_n^2}" class="tex"/> 
</p><p><img src="../images/Cnormalize/math-0f7c93358031a9ffbee7bbe4c380cfbf.png?v=0" title="y_n" alt="y_n" class="tex"/> is the n th <img src="../images/Cnormalize/math-415290769594460e2e485922904f345d.png?v=0" title="y" alt="y" class="tex"/> values.
</p><p>Divided by <a href="../../XFunction/X-Function/Rnormalize.html#Algorithm" title="X-Function:Rnormalize">Mode</a>:
</p><p><img src="../images/Cnormalize/math-2356f0a699ddd2e7b8e0947e41ef1887.png?v=0" title="Y{}&#39;=\frac{Y}{Y_{mode}}" alt="Y{}&#39;=\frac{Y}{Y_{mode}}" class="tex"/>
</p><p>Divided by Sum:
</p><p><img src="../images/Cnormalize/math-0fd5823ce4c7743b62f3c1e55ebc2e32.png?v=0" title="Y{}&#39;=\frac{Y}{Y_{sum}}" alt="Y{}&#39;=\frac{Y}{Y_{sum}}" class="tex"/>
</p><p>Normalized to the max of the reference plot
</p><p><img src="../images/Cnormalize/math-131e7e8b1cdaff34fc69fdb125079281.png?v=0" title="Y{}&#39;=Y\frac{Y_{refmax}}{Y_{max}}" alt="Y{}&#39;=Y\frac{Y_{refmax}}{Y_{max}}" class="tex"/>
</p><p>Normalization to min, mean, median, or sum of the reference plot is done in the same manner.
</p><p>Normalize to point picked from graph
</p><p><img src="../images/Cnormalize/math-6f7d101362c0a9318763ddb2bf2c61af.png?v=0" title="Y{}&#39;=Y\frac{Y_{pick}}{Y_{input}}" alt="Y{}&#39;=Y\frac{Y_{pick}}{Y_{input}}" class="tex"/>
</p>
<table class="note">
<tr>
<td>
<p><b>Note:</b> When <b>pt</b> is selected for <b>method</b>, you can pick any data point in the graph as the reference point. If the picked data point's x value is not one of the x values of input curve, <a href="../../XFunction/X-Function/Interp1.html" title="X-Function:Interp1">linear interpolation</a> will be proceeded to get the proper divisor factor. And then the curve will be normalized to the reference point according to the expression above. 
</p>
</td></tr></table>
<h2><a name="Related_X-Functions"></a><span class="mw-headline">Related X-Functions</span></h2>
<p><a href="../../XFunction/X-Function/Vnormalize.html" title="X-Function:Vnormalize">Vnormalize</a>, <a href="../../XFunction/X-Function/Normalize.html" title="X-Function:Normalize">normalize</a>, <a href="../../XFunction/X-Function/Rnormalize.html" title="X-Function:Rnormalize">Rnormalize</a>
</p>





