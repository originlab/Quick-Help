<h1 class="firstHeading">2.2.2.9 mreplace</h1><div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Menu_Information"><span class="tocnumber">1</span> <span class="toctext">Menu Information</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Brief_Information"><span class="tocnumber">2</span> <span class="toctext">Brief Information</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Command_Line_Usage"><span class="tocnumber">3</span> <span class="toctext">Command Line Usage</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#X-Function_Execution_Options"><span class="tocnumber">4</span> <span class="toctext">X-Function Execution Options</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Variables"><span class="tocnumber">5</span> <span class="toctext">Variables</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Description"><span class="tocnumber">6</span> <span class="toctext">Description</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#Examples"><span class="tocnumber">7</span> <span class="toctext">Examples</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#Related_X-Functions"><span class="tocnumber">8</span> <span class="toctext">Related X-Functions</span></a></li>
</ul>
</div>

<h2><a name="Menu_Information"></a><span class="mw-headline">Menu Information</span></h2>
<p>Edit: Replace
</p>
<h2><a name="Brief_Information"></a><span class="mw-headline">Brief Information</span></h2>
<p>Find and replace values in matrix using conditions
</p>
<h2><a name="Command_Line_Usage"></a><span class="mw-headline">Command Line Usage</span></h2>
<p><code>
1. mreplace cond:=eq find:=1.3 abs_error:=0.1 replace:=13 use_abs:=1 keep_sign:=1
</p><p>2. mreplace cond:=ne find:=1.1 set_missing:=1 replace:=0
</code>
</p>
<h2><a name="X-Function_Execution_Options"></a><span class="mw-headline">X-Function Execution Options</span></h2>
<p><a class="external text" href="../../LabTalk/LabTalk/X-Function_Execution_Options.html">Please refer to the page for additional option switches when accessing the x-function from script</a>
</p>
<h2><a name="Variables"></a><span class="mw-headline">Variables</span></h2>
<table class="xfvar">
<tr>
<th width="8%">Display<br />Name
</th>
<th width="8%">Variable<br />Name
</th>
<th width="8%">I/O<br />and<br />Type
</th>
<th width="8%">Default<br />Value
</th>
<th>Description
</th></tr>
<tr>
<td>Matrix Object
</td>
<td>im
</td>
<td>
<p>Input/Output
</p><p>MatrixObject
</p>
</td>
<td> <center>&lt;active&gt;</center>
</td>
<td> Specify Input matrix.
</td></tr>
<tr>
<td>Condition
</td>
<td>cond
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>0</center>
</td>
<td> Combined with the value of <b>Find What</b>, the selected operator in this list defines the condition used to find the values to be replaced.
<p>Option list:
</p>
<ul><li><i>eq:Cell(i,j)=</i>
<dl><dd>Find data that is equal to the <i>Find What</i> value.</dd></dl></li>
<li><i>lt:Cell(i,j)&lt;</i>
<dl><dd>Find data that is less than the <i>Find What</i> value.</dd></dl></li>
<li><i>le:Cell(i,j)&lt;=</i>
<dl><dd>Find data that is not greater than the <i>Find What</i> value.</dd></dl></li>
<li><i>gt:Cell(i,j)&gt;</i>
<dl><dd>Find data that is greater than the <i>Find What</i> value.</dd></dl></li>
<li><i>ge:Cell(i,j)&gt;=</i>
<dl><dd>Find data that is not less than the <i>Find What</i> value.</dd></dl></li>
<li><i>ne:Cell(i,j)&lt;&gt;</i>
<dl><dd>Find data that is not equal to the <i>Find What</i> value.</dd></dl></li></ul>
</td></tr>
<tr>
<td>Find What (-- for Mising Value)
</td>
<td>find
</td>
<td>
<p>Input
</p><p>double
</p>
</td>
<td> <center>&lt;unassigned&gt;</center>
</td>
<td> Combined with the operator selected for the <b>Condition</b> variable, the value of this variable defines the condition used to find the values to be replaced. "--" stands for missing value here.
</td></tr>
<tr>
<td>Replace With
</td>
<td>replace
</td>
<td>
<p>Input
</p><p>double
</p>
</td>
<td> <center>&lt;unassigned&gt;</center>
</td>
<td> Specifies the new value with which all the found cells will be replaced.
</td></tr>
<tr>
<td>Absolute Error
</td>
<td>abs_error
</td>
<td>
<p>Input
</p><p>double
</p>
</td>
<td> <center>0.01</center>
</td>
<td> Specifies the tolerance used to find the matrix data to be replaced. If the absolute difference between two values is less than the tolerance, these two values will be regarded as equal values. This is disabled when <b>Condition</b> is <b>&gt;</b> or <b>&lt;</b> or <b>&lt;&gt;</b>.
</td></tr>
<tr>
<td>Use Absolute Value in Condition
</td>
<td>use_abs
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>0</center>
</td>
<td> Specify whether or not to use the absolute values of the matrix data to test the given condition.
</td></tr>
<tr>
<td>Keep Sign if Condition True
</td>
<td>keep_sign
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>0</center>
</td>
<td> Specify whether to keep the sign of the original value if the condition is true and the matrix data is replaced.
</td></tr>
<tr>
<td>Set as Missing if Condition False
</td>
<td>set_missing
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>0</center>
</td>
<td> Specify whether or not to assign missing values to the cells whose original values do not meet the condition.
</td></tr>
<tr>
<td>Look In
</td>
<td>lookin
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>7</center>
</td>
<td> Specify the scope to search and replace.
<p>Option list:
</p>
<ul><li><i>active_object:Active MatrixObject</i>
<dl><dd>The active matrix object. </dd></dl></li>
<li><i>active_sheet:Active Matrixsheet</i>
<dl><dd>The active matrixsheet.</dd></dl></li>
<li><i>active_book:Active Matrixbook</i>
<dl><dd>The active matrixbook. </dd></dl></li>
<li><i>all_in_active_folder:All Matrixbooks in Active Folder</i>
<dl><dd>All of the matrixbooks in the active folder (those is subfolders are not included).</dd></dl></li>
<li><i>recursive_in_active_folder:All Matrixbooks in Active Folder (Resursive)</i>
<dl><dd>All of the matrixbooks in the active folder and its subfolders.</dd></dl></li>
<li><i>open_in_active_folder:All Matrixbooks in Active Folder (Open)</i>
<dl><dd>All of the non-hidden matrixbooks in the active folder (those is subfolders are not included).</dd></dl></li>
<li><i>all_in_project:All Matrixbooks in Project</i>
<dl><dd>All of the matrixbooks in the project.</dd></dl></li>
<li><i>specified:Specified MatrixObject</i>
<dl><dd>The specified matrixobject.</dd></dl></li></ul>
</td></tr>
<tr>
<td>Output Matrix
</td>
<td>om
</td>
<td>
<p>Output
</p><p>MatrixObject
</p>
</td>
<td> <center>&lt;input&gt;</center>
</td>
<td> Specify the destination of output matrix.
<p>See the syntax <a class="external text" href="../../XFunction/X-Function/Output_Notations.html">here</a>.
</p>
</td></tr></table>
<h2><a name="Description"></a><span class="mw-headline">Description</span></h2>
<p>This X-Function is capable of finding and replacing data in matrix cells.
</p>
<h2><a name="Examples"></a><span class="mw-headline">Examples</span></h2>
<p>This example shows you how to replace values that are less than 1000 with 1000 in the active matrix.
</p>
<ol><li>Create a new project. Then create a new matrix and activate it.</li>
<li>Import the file &lt;Origin Program Directory&gt;\Samples\Graphing\3D Surface &amp; Contour.dat.</li>
<li>Enter <code>mreplace -d;</code> in the command window to bring up the <b>mreplace</b> dialog box.</li>
<li>Set <b>Condition</b> to <b>Cell(i,j)&lt;</b>, <b>Find What</b> and <b>Replace With</b> both are 1000. The <b>Output Matrix</b> should be <b>&lt;new&gt;</b>. Keep other settings as they are.
<dl><dd><a  class="image"><img alt="Mreplace 1.png" src="../images/Mreplace/Mreplace_1.png?v=12598" width="470"  /></a></dd></dl></li>
<li>Click the <b>OK</b> button. Then all the values that are less than 1000 will be replaced with 1000.</li></ol>
<h2><a name="Related_X-Functions"></a><span class="mw-headline">Related X-Functions</span></h2>
<p><a href="../../XFunction/X-Function/Wreplace.html" title="X-Function:Wreplace">wreplace</a>
</p>





