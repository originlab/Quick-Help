<h1 class="firstHeading">2.6.1.13 imgLevel(Pro)</h1><div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Menu_Information"><span class="tocnumber">1</span> <span class="toctext">Menu Information</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Brief_Information"><span class="tocnumber">2</span> <span class="toctext">Brief Information</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Additional_Information"><span class="tocnumber">3</span> <span class="toctext">Additional Information</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Command_Line_Usage"><span class="tocnumber">4</span> <span class="toctext">Command Line Usage</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#X-Function_Execution_Options"><span class="tocnumber">5</span> <span class="toctext">X-Function Execution Options</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Variables"><span class="tocnumber">6</span> <span class="toctext">Variables</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#Description"><span class="tocnumber">7</span> <span class="toctext">Description</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#Examples"><span class="tocnumber">8</span> <span class="toctext">Examples</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="#Algorithm"><span class="tocnumber">9</span> <span class="toctext">Algorithm</span></a></li>
<li class="toclevel-1 tocsection-10"><a href="#References"><span class="tocnumber">10</span> <span class="toctext">References</span></a></li>
<li class="toclevel-1 tocsection-11"><a href="#Related_X-Functions"><span class="tocnumber">11</span> <span class="toctext">Related X-Functions</span></a></li>
</ul>
</div>

<h2><a name="Menu_Information"></a><span class="mw-headline">Menu Information</span></h2>
<p>Image: Adjustments: Leveling
</p>
<h2><a name="Brief_Information"></a><span class="mw-headline">Brief Information</span></h2>
<p>Adjust image levels
</p>
<h2><a name="Additional_Information"></a><span class="mw-headline">Additional Information</span></h2>
<p>This feature is for OriginPro only.
</p>
<h2><a name="Command_Line_Usage"></a><span class="mw-headline">Command Line Usage</span></h2>
<p><code>
</p><p>1. imgLevel option:=contrast w:=20 b:=30;
</p><p>2. imgLevel img:=1 option:=contrast w:=20 b:=30 oimg:=mat(2);
</p><p>3. imgLevel img:=[Mbook1]Msheet1 oimg:=&lt;new&gt;;
</p><p></code>
</p>
<h2><a name="X-Function_Execution_Options"></a><span class="mw-headline">X-Function Execution Options</span></h2>
<p><a class="external text" href="../../LabTalk/LabTalk/X-Function_Execution_Options.html">Please refer to the page for additional option switches when accessing the x-function from script</a>
</p>
<h2><a name="Variables"></a><span class="mw-headline">Variables</span></h2>
<table class="xfvar">
<tr>
<th width="8%">Display<br />Name
</th>
<th width="8%">Variable<br />Name
</th>
<th width="8%">I/O<br />and<br />Type
</th>
<th width="8%">Default<br />Value
</th>
<th>Description
</th></tr>
<tr>
<td>Input Matrix
</td>
<td>img
</td>
<td>
<p>Input
</p><p>Image
</p>
</td>
<td> <center>&lt;active&gt;</center>
</td>
<td>
<p>Specifies the image to be manipulated. The default input is the active image.
</p>
</td></tr>
<tr>
<td>Level Option
</td>
<td>option
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>level</center>
</td>
<td>
<p>Specifies the leveling type.
</p><p><br />
Option list
</p>
<ul><li><i>L:Level</i>
<dl><dd>Perform leveling on the individual R, G and B channels, treating each of the R, G and B channels as a individual entity. It introduces color cast on the image.</dd></dl></li>
<li><i>C:Contrast</i>
<dl><dd>Perform leveling on the MASTER channel (the grayscale values of the pixels). No color cast will be introduced.</dd></dl></li>
<li><i>I:Intensity</i>
<dl><dd>Perform leveling on the RGB channel (the sum of the R, G, and B channels). No color cast will be introduced.</dd></dl></li></ul>
</td></tr>
<tr>
<td>WhiteClip(%)
</td>
<td>w
</td>
<td>
<p>Input
</p><p>double
</p>
</td>
<td> <center>0.5</center>
</td>
<td>
<p>Specifies the percentage of white pixels to clip from the input image.
</p>
</td></tr>
<tr>
<td>BlackClip(%)
</td>
<td>b
</td>
<td>
<p>Input
</p><p>double
</p>
</td>
<td> <center>0.5</center>
</td>
<td>
<p>Specifies the percentage of black pixels to clip from the input image.
</p>
</td></tr>
<tr>
<td>Output Image
</td>
<td>oimg
</td>
<td>
<p>Output
</p><p>Image
</p>
</td>
<td> <center>&lt;input&gt;</center>
</td>
<td>
<p>Specifies the output image. By default, the output image is the same as the input image.
See the syntax <a class="external text" href="../../XFunction/X-Function/Output_Notations.html">here</a>.
</p>
</td></tr>
<tr>
<td>Level Report
</td>
<td>cl
</td>
<td>
<p>Output
</p><p>ReportData
</p>
</td>
<td> <center>[&lt;new&gt;]&lt;new&gt;!</center>
</td>
<td>
<p>Specifies the leveling report.
</p><p><br />
</p>
</td></tr></table>
<h2><a name="Description"></a><span class="mw-headline">Description</span></h2>
<p>The <i>imgLevel</i> function applies leveling to an image. It makes the dark values darker and the light values lighter. It enhances the contrast and intensity by using the histogram of the image and a color distribution-based algorithm. There are three Leveling types in OriginPro:
</p>
<dl><dd><ul><li>Level</li>
<li>Contrast</li>
<li>Intensity</li></ul></dd></dl>
<p>This function allows you to choose the Leveling type, specify the percentage of white pixels and the percentage of black pixels. Choosing Level Report in the Leveling dialog can create a report for this function.
</p>
<dl><dd><a  class="image"><img alt="Leveling dialog.png" src="../images/ImgLevel/Leveling_dialog.png?v=79771" width="406"  /></a></dd></dl>
<p>Another function named <a href="../../XFunction/X-Function/ImgAutoLevel.html" title="X-Function:ImgAutoLevel">imgAutoLevel</a> also can apply leveling to an image, but the percentage of white pixels and black pixels to clip from the input image is set as 5% automatically. 
</p>
<h2><a name="Examples"></a><span class="mw-headline">Examples</span></h2>
<p>In this example, we use the <i>imgLevel</i> function to increase the contrast of the input image:
</p>
<ol><li> When the input image is active, select <b>Image: Adjustments: Leveling</b>. This opens the dialog of the X-Function.</li>
<li> In the X-Function dialog, change the settings as the screenshot below and click <b>OK</b> to close the dialog.<br /><a  class="image"><img alt="ImgLevel help English files image002.jpg" src="../images/ImgLevel/ImgLevel_help_English_files_image002.jpg?v=1081" width="420"  /></a><br /> A new image is created. We can see that the contrast is improved.</li></ol>
<dl><dd><table class="TableGrid" style="border: none; x-border-left: 1px table-solid; x-border-top: 1px table-solid; x-border-right: 1px table-solid; x-border-bottom: 1px table-solid; border-collapse: separate; border-spacing: 0px; border-spacing: 0px" border="1">
<tr>
<td>
<center><a  class="image"><img alt="ImgLevel help English files image004.jpg" src="../images/ImgLevel/ImgLevel_help_English_files_image004.jpg?v=1082" width="261"  /></a></center>
</td>
<td>
<center><a  class="image"><img alt="ImgLevel help English files image006.jpg" src="../images/ImgLevel/ImgLevel_help_English_files_image006.jpg?v=1083" width="262"  /></a></center>
</td></tr>
<tr>
<td>
<center>The original image</center>
</td>
<td>
<center>The output image</center>
</td></tr></table></dd></dl>
<p><br />
</p>
<h2><a name="Algorithm"></a><span class="mw-headline">Algorithm</span></h2>
<p>The computation uses L_AutoColorLevelBitmap() function from LEADTOOLS Main API. Please refer to the LEADTOOLS Main API Help file, Version 14 and read the L_AutoColorLevelBitmap topic.
</p>
<h2><a name="References"></a><span class="mw-headline">References</span></h2>
<p>LEADTOOLS Main API Help file, Version 14
</p>
<h2><a name="Related_X-Functions"></a><span class="mw-headline">Related X-Functions</span></h2>
<p><a href="../../XFunction/X-Function/ImgColorlevel.html" title="X-Function:ImgColorlevel">imgColorlevel</a>, <a href="../../XFunction/X-Function/ImgAutoLevel.html" title="X-Function:ImgAutoLevel">imgAutoLevel</a>
</p>





