<h1 class="firstHeading">2.10.33 plotstack</h1><p><br />
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Menu_Information"><span class="tocnumber">1</span> <span class="toctext">Menu Information</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Brief_Information"><span class="tocnumber">2</span> <span class="toctext">Brief Information</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Command_Line_Usage"><span class="tocnumber">3</span> <span class="toctext">Command Line Usage</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#X-Function_Execution_Options"><span class="tocnumber">4</span> <span class="toctext">X-Function Execution Options</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Variables"><span class="tocnumber">5</span> <span class="toctext">Variables</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Description"><span class="tocnumber">6</span> <span class="toctext">Description</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#Examples"><span class="tocnumber">7</span> <span class="toctext">Examples</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#Related_X-Functions"><span class="tocnumber">8</span> <span class="toctext">Related X-Functions</span></a></li>
</ul>
</div>

<h2><a name="Menu_Information"></a><span class="mw-headline">Menu Information</span></h2>
<p>Plot&#160;: 2D&#160;: Multi-Panel&#160;: Stack
</p>
<h2><a name="Brief_Information"></a><span class="mw-headline">Brief Information</span></h2>
<p>Create a multi-panel stacked graph
</p>
<h2><a name="Command_Line_Usage"></a><span class="mw-headline">Command Line Usage</span></h2>
<pre>
1. plotstack iy:=((1,2), (3,4)) plottype:=line;
2. plotstack iy:=((1,2), (3,4)) legend:=combine link:=0;
3. plotstack iy:=((1,2),(1,3),(1,4)) plottype:=custom custom:=&quot;203 200&quot; number:=&quot;1 2&quot;;
</pre>
<h2><a name="X-Function_Execution_Options"></a><span class="mw-headline">X-Function Execution Options</span></h2>
<p><a class="external text" href="../../LabTalk/LabTalk/X-Function_Execution_Options.html">Please refer to the page for additional option switches when accessing the x-function from script</a>
</p>
<h2><a name="Variables"></a><span class="mw-headline">Variables</span></h2>
<table class="xfvar">
<tr>
<th width="8%">Display<br />Name
</th>
<th width="8%">Variable<br />Name
</th>
<th width="8%">I/O<br />and<br />Type
</th>
<th width="8%">Default<br />Value
</th>
<th>Description
</th></tr>
<tr>
<td>Input
</td>
<td>iy
</td>
<td>
<p>Input
</p><p>XYRange
</p>
</td>
<td> <center>&lt;active&gt;</center>
</td>
<td> Specify the input range.
</td></tr>
<tr>
<td>Plot Type
</td>
<td>plottype
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>0</center>
</td>
<td> Specify the plot type.
<p>Option list:
</p>
<ul><li><i>line:Line</i>
<dl><dd>Line plot.</dd></dl></li>
<li><i>scatter:Scatter</i>
<dl><dd>Scatter plot.</dd></dl></li>
<li><i>linesymb:Line+Symbol</i>
<dl><dd>Line+Symbol plot.</dd></dl></li>
<li><i>column:Column</i>
<dl><dd>Column plot.</dd></dl></li>
<li><i>template:Use Template</i>
<dl><dd>Use the plot types in the specified template (Specified in <b>Graph Template</b>) for the plots in each layer. Suppose the number of plot types in the specified template is n, and the maximum number of plots in each layer is m. If n is not less than m, the first m plot types in the template will be used. Or all plot types in the template will be used for the first n plots, and the other plots will use the last plot type in the template.</dd></dl></li>
<li><i>custom:Custom</i>
<dl><dd>Use the plot types specified by the <b>custom</b> variable.</dd></dl></li></ul>
</td></tr>
<tr>
<td>Plot Types in Each Layer
</td>
<td>custom
</td>
<td>
<p>Input
</p><p>string
</p>
</td>
<td> <center>200</center>
</td>
<td>  This variable is only available when the <b>Plot Type</b> is <b>Custom</b>. It specifies the plot types for the plots in each layer. Each plot type has its own value, separated by spaces embedded in double quotes. Click <a class="external text" href="../../LabTalk/LabTalk/Plot_Type_IDs.html">here</a> to get the value of the corresponding plot type. When the number of specified types is less than the number of plots in the layer, the plot types come from the Template.
</td></tr>
<tr>
<td>Graph Template
</td>
<td>template
</td>
<td>
<p>Input
</p><p>string
</p>
</td>
<td> <center>stack</center>
</td>
<td> Specify the template for the graph page. If the <b>Plot Type</b> is <b>Use Template</b>, the plot types contained in the template will be used. From Origin2018, both *.otpu and *.otp template types are supported.
</td></tr>
<tr>
<td>Orientation
</td>
<td>portrait
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>1</center>
</td>
<td> Specify the orientation for the graph.
<p>Option list:
</p>
<ul><li><i>landscape:Landscape</i>
<dl><dd>The orientation for the graph is landscape.</dd></dl></li>
<li><i>portrait:Portrait</i>
<dl><dd>The orientation for the graph is portrait.</dd></dl></li></ul>
</td></tr>
<tr>
<td>Stack Direction
</td>
<td>dir
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>0</center>
</td>
<td> Specify the stack direction.
<p>Option list:
</p>
<ul><li><i>vertical:Vertical</i>
<dl><dd>All layers are stacked vertically. </dd></dl></li>
<li><i>horizontal:Horizontal(X-Y Axes Exchanged)</i>
<dl><dd>All layers are stacked horizontally. Note that the X-Y axes will be exchanged.</dd></dl></li>
<li><i>hstack:Horizontal</i>
<dl><dd>All layers are atcked horizentally. The X and Y axes won't be exchanged.</dd></dl></li></ul>
</td></tr>
<tr>
<td>Layer Order
</td>
<td>order
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>1</center>
</td>
<td> Specify the order to arrange the layers.
<p>Option list:
</p>
<ul><li><i>top:Top to Bottom/Left to Right</i>
<dl><dd>The layers will be arranged from top to bottom (when <b>Stack Direction</b> is <b>Vertical</b>) or from left to right (when <b>Stack Direction</b> is <b>Horizontal(X-Y Axes Exchanged)</b>) so that the first layer is on top or on left of other layers.</dd></dl></li>
<li><i>bottom:Bottom to Top/Right to Left</i>
<dl><dd>The layers will be arranged from bottom to top (when <b>Stack Direction</b> is <b>Vertical</b>) or from right to left (when <b>Stack Direction</b> is <b>Horizontal(X-Y Axes Exchanged)</b>) so that the last layer is on top or on left of other layers.</dd></dl></li></ul>
</td></tr>
<tr>
<td>Legend
</td>
<td>legend
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>1</center>
</td>
<td> Specify how to generate the legend for the graph.
<p>Option list:
</p>
<ul><li><i>none:No Legend</i>
<dl><dd>There will be no legend in the graph.</dd></dl></li>
<li><i>seperate:Legend for Each Layer</i>
<dl><dd>Separate legend will be generated for each layer.</dd></dl></li>
<li><i>combine:One Legend for All</i>
<dl><dd>Data plots from all layers are included in the legend for the graph. </dd></dl></li></ul>
</td></tr>

<tr>
<td>Use Alternate Side to Show Ticks and Labels
</td>
<td>alternate
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>0</center>
</td>
<td>
<p>Specifies whether to show Axis Ticks and Labels on left and right side (bottom and top) alternately in the graph layers.
<br />When the layers are stacked in vertical,  Y axes show on left and right alternately. When the layers are stacked in horizontal, X axes show on bottom and top alternately.
</p><p>Option list:
</p>
<ul><li><i>0=false</i></li>
<li><i>1=true</i></li></ul>
</td></tr>
<tr>
<td>Show One Y/X Axis Title
</td>
<td>uniqueYTitle
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>0</center>
</td>
<td> Specify whether to show only one Y/X axis title for all layers.
<p>Option list:
</p>
<ul><li><i>0=false</i></li>
<li><i>1=true</i></li></ul>
</td></tr>
<tr>
<td>Link Layers
</td>
<td>link
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>1</center>
</td>
<td> Specify whether to link the layers.
</td></tr>
<tr>
<td>X Axis Link
</td>
<td>xlink
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>1</center>
</td>
<td> This variable is available only when the <b>Link Layers</b> check-box is checked. It specifies how to establish the link between the X axes of all layers.
<p>Option list:
</p>
<ul><li><i>none:None</i>
<dl><dd>Does not create link between the X axes scales.</dd></dl></li>
<li><i>straight:Straight(1 to 1)</i>
<dl><dd>Creates a link in which the child layers' X axes mirror the scale values of the parent layer.</dd></dl></li></ul>
</td></tr>
<tr>
<td>Unit
</td>
<td>unit
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>6</center>
</td>
<td> This variable is available only when the <b>Link Layers</b> check-box is checked. It specifies the unit for the layers.
<p>Option list:
</p>
<ul><li><i>page:% of Page</i>
<dl><dd>This unit is useful for maintaining the same layer size relative to the page size. When this unit is selected, the left, top, height, and width of the layer are in percentage of the graph page height and width. </dd></dl></li>
<li><i>inch:inch</i>
<dl><dd>When this unit is selected, the left, top, height, and width of the layer are measured in inch.</dd></dl></li>
<li><i>cm:cm</i>
<dl><dd>When this unit is selected, the left, top, height, and width of the layer are measured in cm.</dd></dl></li>
<li><i>mm:mm</i>
<dl><dd>When this unit is selected, the left, top, height, and width of the layer are measured in mm.</dd></dl></li>
<li><i>pixel:pixel</i>
<dl><dd>When this unit is selected, the left, top, height, and width of the layer are measured in pixel.</dd></dl></li>
<li><i>point:point</i>
<dl><dd>When this unit is selected, the left, top, height, and width of the layer are measured in point.</dd></dl></li>
<li><i>link:% of Linked Layer</i>
<dl><dd>This unit allows you to specify the frame dimensions and offsets for a child layer in terms of the dimensions of the parent layer frame. When this unit is selected, the left, top, height, and width of the layer are in percentage of the height and width of the parent layer frame. </dd></dl></li></ul>
</td></tr>
<tr>
<td>Number of Layers
</td>
<td>layer
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>&lt;auto&gt;</center>
</td>
<td> Specify the number of layers. When there is a single X dataset, all Y datasets are plotted to their own layer, and by default, layers equals the number of plots. When there are multiple X datasets, each Y dataset plots against the X dataset nearest to its left, by default. You can customize the default arrangement by manually specifying the number of layers and the number of plots in each layer (Example: plotstack layer:=3 number:="2 2 9"). The number of X columns cannot exceed number of layers.
</td></tr>
<tr>
<td>Number of Plots in Each Layer
</td>
<td>number
</td>
<td>
<p>Input
</p><p>string
</p>
</td>
<td> <center>1</center>
</td>
<td> Specify the number of plots in each layer. You can separate numbers by space to specify the number of plots in each layer one by one. Example: 1 2 3.
</td></tr>
<tr>
<td>Vertical/Horizontal Gap
</td>
<td>gapy
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>0</center>
</td>
<td> Specify the vertical gap (when <b>Stack Direction</b> is <b>Vertical</b>) or the horizontal gap (when <b>Stack Direction</b> is <b>Horizontal(X-Y Axes Exchanged)</b>) between adjacent layers.
</td></tr>
<tr>
<td>Left Margin
</td>
<td>leftmg
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>15</center>
</td>
<td> Specify the left margin of the page.
</td></tr>
<tr>
<td>Right Margin
</td>
<td>rightmg
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>10</center>
</td>
<td> Specify the right margin of the page.
</td></tr>
<tr>
<td>Top Margin
</td>
<td>topmg
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>10</center>
</td>
<td> Specify the top margin of the page.
</td></tr>
<tr>
<td>Bottom Margin
</td>
<td>bottommg
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>10</center>
</td>
<td> Specify the bottom margin of the page.
</td></tr>
<tr>
<td>Hide Newly Created Graph
</td>
<td>hide
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>0</center>
</td>
<td> Specify whether to hide the newly created graph. Note that this option is hidden in the dialog. One can only assign its value through Labtalk script.
</td></tr></table>
<h2><a name="Description"></a><span class="mw-headline">Description</span></h2>
<p>This X-Function plots several ranges into a stacked graph. Plot types can be customized for the plots in each layer and the layers can be stacked vertically or horizontally.
</p><p>For more information, see <a class="external text" href="../../UserGuide/UserGuide/Stack_Graph.html">Stack Graph</a> in the Origin Help file.
</p>
<h2><a name="Examples"></a><span class="mw-headline">Examples</span></h2>
<ul><li> Sample Code</li></ul>
<pre class="lt" style="font-family:monospace;"><span style="color: #008000;">// The plotstack function is used by the Plot&#160;: Multi-Curve&#160;:</span>
<span style="color: #008000;">// Stack menu option, but has the additional ability to</span>
<span style="color: #008000;">// specify a template</span>
newbook;
string fn<span style="color: #000080;">$</span> <span style="color: #000080;">=</span> system.<span style="color: #000080;">path</span>.<span style="color: #000080;">program</span><span style="color: #000080;">$</span> <span style="color: #000080;">+</span> <span style="color: #ff00ff;">&quot;Samples\Graphing\Linked Layers 1.dat&quot;</span>;
impasc fname<span style="color: #000000;">:</span><span style="color: #000080;">=</span>fn<span style="color: #000080;">$</span>;
<span style="color: #000080;">%</span>N <span style="color: #000080;">=</span> <span style="color: #000080;">%</span>H;
<span style="color: #008000;">// Create a Stack plot of all columns vs column 1</span>
plotstack iy<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #000000;">&#40;</span><span style="color: #0000dd;">1</span>,<span style="color: #0000dd;">2</span><span style="color: #000000;">:</span>end<span style="color: #000000;">&#41;</span> plottype<span style="color: #000000;">:</span><span style="color: #000080;">=</span>line link<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">1</span> xlink<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">1</span>;

<span style="color: #008000;">// Create stack plot of column 2 vs. column 1 and column 4 vs. column 3</span>
win <span style="color: #000080;">-</span>a <span style="color: #000080;">%</span>N;
plotstack iy<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #000000;">&#40;</span><span style="color: #000000;">&#40;</span><span style="color: #0000dd;">1</span>,<span style="color: #0000dd;">2</span><span style="color: #000000;">&#41;</span>, <span style="color: #000000;">&#40;</span><span style="color: #0000dd;">3</span>,<span style="color: #0000dd;">4</span><span style="color: #000000;">&#41;</span><span style="color: #000000;">&#41;</span> plottype<span style="color: #000000;">:</span><span style="color: #000080;">=</span>column link<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">0</span>;

<span style="color: #008000;">// We can specify a template to use, but this template should be a single layer template</span>
<span style="color: #008000;">// as the function loads one instance of the template for each dataset.</span>
<span style="color: #008000;">// Plot Type should match your template if you wish to use its style holder.</span>
win <span style="color: #000080;">-</span>a <span style="color: #000080;">%</span>N;
plotstack iy<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #000000;">&#40;</span><span style="color: #000000;">&#40;</span><span style="color: #0000dd;">1</span>,<span style="color: #0000dd;">2</span><span style="color: #000000;">&#41;</span>,<span style="color: #000000;">&#40;</span><span style="color: #0000dd;">1</span>,<span style="color: #0000dd;">3</span><span style="color: #000000;">&#41;</span>,<span style="color: #000000;">&#40;</span><span style="color: #0000dd;">1</span>,<span style="color: #0000dd;">4</span><span style="color: #000000;">&#41;</span><span style="color: #000000;">&#41;</span> plottype<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">3</span> template<span style="color: #000000;">:</span><span style="color: #000080;">=</span>column;

<span style="color: #008000;">// Now minimize all worksheets and tile remaining windows</span>
doc <span style="color: #000080;">-</span>e W <span style="color: #000000;">&#123;</span>
    win <span style="color: #000080;">-</span>i;
<span style="color: #000000;">&#125;</span>
win <span style="color: #000080;">-</span>s T;  <span style="color: #008000;">//Tile the windows horizontally</span></pre>
<h2><a name="Related_X-Functions"></a><span class="mw-headline">Related X-Functions</span></h2>
<p><a href="../../XFunction/X-Function/Newpanel.html" title="X-Function:Newpanel">newpanel</a>
</p>





