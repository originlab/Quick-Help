<h1 class="firstHeading">2.11.6 corr2(Pro)</h1><div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Menu_Information"><span class="tocnumber">1</span> <span class="toctext">Menu Information</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Brief_Information"><span class="tocnumber">2</span> <span class="toctext">Brief Information</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Additional_Information"><span class="tocnumber">3</span> <span class="toctext">Additional Information</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Command_Line_Usage"><span class="tocnumber">4</span> <span class="toctext">Command Line Usage</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#X-Function_Execution_Options"><span class="tocnumber">5</span> <span class="toctext">X-Function Execution Options</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Variables"><span class="tocnumber">6</span> <span class="toctext">Variables</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#Description"><span class="tocnumber">7</span> <span class="toctext">Description</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#Examples"><span class="tocnumber">8</span> <span class="toctext">Examples</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="#Algorithm"><span class="tocnumber">9</span> <span class="toctext">Algorithm</span></a></li>
<li class="toclevel-1 tocsection-10"><a href="#Related_X-Functions"><span class="tocnumber">10</span> <span class="toctext">Related X-Functions</span></a></li>
</ul>
</div>

<h2><a name="Menu_Information"></a><span class="mw-headline">Menu Information</span></h2>
<p>Analysis: Signal Processing: 2D Correlation
</p>
<h2><a name="Brief_Information"></a><span class="mw-headline">Brief Information</span></h2>
<p>Compute correlation of two matrices
</p>
<h2><a name="Additional_Information"></a><span class="mw-headline">Additional Information</span></h2>
<p>This feature is for OriginPro only.
</p>
<h2><a name="Command_Line_Usage"></a><span class="mw-headline">Command Line Usage</span></h2>
<p><code>
1. corr2 im1:=Mat(1) im2:=Mat(2); 
</p><p>2. corr2 im1:=Mat(1) im2:=Mat(2) norm:=1; 
</p><p>3. corr2 im1:=Mat(1) im2:=Mat(2) algorithm:=circular; 
</p><p>4. corr2 im1:=Mat(1) im2:=Mat(2) method:=shift; 
</p><p></code>
</p>
<h2><a name="X-Function_Execution_Options"></a><span class="mw-headline">X-Function Execution Options</span></h2>
<p><a class="external text" href="../../LabTalk/LabTalk/X-Function_Execution_Options.html">Please refer to the page for additional option switches when accessing the x-function from script</a>
</p>
<h2><a name="Variables"></a><span class="mw-headline">Variables</span></h2>
<table class="xfvar">
<tr>
<th width="8%">Display<br />Name
</th>
<th width="8%">Variable<br />Name
</th>
<th width="8%">I/O<br />and<br />Type
</th>
<th width="8%">Default<br />Value
</th>
<th>Description
</th></tr>
<tr>
<td>Input Matrix
</td>
<td>im1
</td>
<td>
<p>Input
</p><p>MatrixObject
</p>
</td>
<td> <center>&lt;unassigned&gt;</center>
</td>
<td>
<p>Specifies the matrix that has the first input 2D signal.
</p>
</td></tr>
<tr>
<td>Input Matrix
</td>
<td>im2
</td>
<td>
<p>Input
</p><p>MatrixObject
</p>
</td>
<td> <center>&lt;unassigned&gt;</center>
</td>
<td>
<p>Specifies the matrix that has the second input 2D signal. To calculate autocorrelation, use the same matrix as the first input signal (im1).
</p>
</td></tr>
<tr>
<td>Method
</td>
<td>method
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>fft</center>
</td>
<td>
<p>Specifies the method for calculating 2D correlation.
</p><p>Option list
</p>
<ul><li><i>fft:FFT</i>
<dl><dd>This method is faster but less accurate than Shift accumulation method. It is usually used for large data.</dd></dl></li>
<li><i>shift:Shift Accumulate</i>
<dl><dd>This method computes the correlation using its mathematic definition. It is more accurate, but could be much slower for large data.</dd></dl></li></ul>
</td></tr>
<tr>
<td>Algorithm
</td>
<td>algorithm
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>linear</center>
</td>
<td>
<p>Specifies whether compute linear correlation or circular correlation.
</p><p>Option list
</p>
<ul><li><i>linear:Linear</i>
<dl><dd>Linear correlation will be performed. Data points outside the input range will be viewed as zero.</dd></dl></li>
<li><i>circular:Circular</i>
<dl><dd>Circular correlation will be performed. Data points outside the input range will be viewed as repetition of the input data points.</dd></dl></li></ul>
</td></tr>
<tr>
<td>Normalize Result
</td>
<td>norm
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>0</center>
</td>
<td>
<p>Specifies whether or not the result should be normalized.
</p>
</td></tr>
<tr>
<td>Correlation Result
</td>
<td>om
</td>
<td>
<p>Output
</p><p>MatrixObject
</p>
</td>
<td> <center>[&lt;new&gt;]&lt;new&gt;!</center>
</td>
<td>
<p>Specifies the output matrix.
</p><p>See the syntax <a class="external text" href="../../XFunction/X-Function/Output_Notations.html">here</a>.
</p>
</td></tr></table>
<h2><a name="Description"></a><span class="mw-headline">Description</span></h2>
<p>2D Correlation is usually used to detect similarities between two 2D signals, which are often saved in matrices. The 2D correlation of two matrices, <i>a</i> and <i>b</i>, can be defined as follows:<sub><br /><a  class="image"><img alt="Corr2 help English files image002.gif" src="../images/Corr2/Corr2_help_English_files_image002.gif?v=707" width="229"  /></a></sub>
</p><p>The 2D Correlation can be linear or circular. For linear correlation, any indexed elements that lie outside the original range are treated as zeros. Correspondingly, for circular correlation, they are viewed as the repetition of elements within the original range. The size of the linear correlation result matrix is as follows:<br /><a  class="image"><img alt="Corr2 help English files image004.jpg" src="../images/Corr2/Corr2_help_English_files_image004.jpg?v=708" width="125"  /></a><br /> where <i>M</i> and <i>N</i> are the greater width and height of the two matrices respectively. Conversely, if computing a circular correlation, the size of the matrix should be<br /><a  class="image"><img alt="Corr2 help English files image006.jpg" src="../images/Corr2/Corr2_help_English_files_image006.jpg?v=709" width="48"  /></a><br /> Conventionally, the linear correlation should be used when the input signals contain impulses, while the circular correlation should be used when the signals can be viewed as periodic.
</p><p>The magnitude of the correlation shows how similar the signals are. If the correlation is large, the two signals are considered to be very similar. Alternatively, if correlation is zero, the two signals are considered to be independent.
</p>
<h2><a name="Examples"></a><span class="mw-headline">Examples</span></h2>
<p>1.  To compute the linear correlation of signals in the 1<sup>st</sup> sheet and the 2<sup>nd</sup> sheet of a matrix named MBookSignals, use the following script command:
</p><p><code>corr2 im1:=[MBookSignals]1!1 im2:= [MBookSignals]2!1</code>
</p><p>2.  To change the method of 2D correlation, open the corr2 dialog and select the option by typing:
</p><p><code>corr2 -d</code>
</p><p>3.  To perform a 2D correlation to data using a pre-saved smoothing theme file, save your preferences in the corr2 dialog, and then execute it by typing the following script command, using your own saved-theme title:
</p><p><code>corr2 -t "my two-d corelation theme.oth"</code>
</p>
<h2><a name="Algorithm"></a><span class="mw-headline">Algorithm</span></h2>
<p>For more information, please refer to our User Guide.
</p>
<dl><dd><ul><li><a class="external text" href="../../UserGuide/UserGuide/Algorithm_(Corr2).html">Algorithm</a></li>
<li><a class="external text" href="../../UserGuide/UserGuide/Reference_(Corr2).html">Reference</a></li></ul></dd></dl>
<h2><a name="Related_X-Functions"></a><span class="mw-headline">Related X-Functions</span></h2>
<p><a href="../../XFunction/X-Function/Conv.html" title="X-Function:Conv">conv</a>, <a href="../../XFunction/X-Function/Fft1.html" title="X-Function:Fft1">fft1</a>, <a href="../../XFunction/X-Function/Ifft1.html" title="X-Function:Ifft1">ifft1</a>
</p>
<hr class='keywordshr'><p><span class='keywords'>Keywords:</span><span class='keywordsInput'>fourier, fft, linear, circular</span></p>






