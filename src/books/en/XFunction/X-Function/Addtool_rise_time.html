<h1 class="firstHeading">2.1.10 addtool_rise_time(Pro)</h1><div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Menu_Information"><span class="tocnumber">1</span> <span class="toctext">Menu Information</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Brief_Information"><span class="tocnumber">2</span> <span class="toctext">Brief Information</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Additional_Information"><span class="tocnumber">3</span> <span class="toctext">Additional Information</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Command_Line_Usage"><span class="tocnumber">4</span> <span class="toctext">Command Line Usage</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#X-Function_Execution_Options"><span class="tocnumber">5</span> <span class="toctext">X-Function Execution Options</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Variables"><span class="tocnumber">6</span> <span class="toctext">Variables</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#Description"><span class="tocnumber">7</span> <span class="toctext">Description</span></a>
<ul>
<li class="toclevel-2 tocsection-8"><a href="#Details_for_Dialog_Settings"><span class="tocnumber">7.1</span> <span class="toctext">Details for Dialog Settings</span></a>
<ul>
<li class="toclevel-3 tocsection-9"><a href="#Settings.28trGUI.29"><span class="tocnumber">7.1.1</span> <span class="toctext">Settings(trGUI)</span></a></li>
<li class="toclevel-3 tocsection-10"><a href="#Rise_Range.2FFall_Range_Subtree"><span class="tocnumber">7.1.2</span> <span class="toctext">Rise Range/Fall Range Subtree</span></a></li>
<li class="toclevel-3 tocsection-11"><a href="#Quantities_Subtree"><span class="tocnumber">7.1.3</span> <span class="toctext">Quantities Subtree</span></a></li>
<li class="toclevel-3 tocsection-12"><a href="#Output_To_Subtree"><span class="tocnumber">7.1.4</span> <span class="toctext">Output To Subtree</span></a></li>
<li class="toclevel-3 tocsection-13"><a href="#Display_on_Graph_Subtree"><span class="tocnumber">7.1.5</span> <span class="toctext">Display on Graph Subtree</span></a></li>
<li class="toclevel-3 tocsection-14"><a href="#Advanced_Subtree"><span class="tocnumber">7.1.6</span> <span class="toctext">Advanced Subtree</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-15"><a href="#Examples"><span class="tocnumber">8</span> <span class="toctext">Examples</span></a></li>
<li class="toclevel-1 tocsection-16"><a href="#Algorithm"><span class="tocnumber">9</span> <span class="toctext">Algorithm</span></a>
<ul>
<li class="toclevel-2 tocsection-17"><a href="#Linear_Search"><span class="tocnumber">9.1</span> <span class="toctext">Linear Search</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#Histogram"><span class="tocnumber">9.2</span> <span class="toctext">Histogram</span></a></li>
<li class="toclevel-2 tocsection-19"><a href="#Largest_Triangle"><span class="tocnumber">9.3</span> <span class="toctext">Largest Triangle</span></a></li>
</ul>
</li>
</ul>
</div>

<h2><a name="Menu_Information"></a><span class="mw-headline">Menu Information</span></h2>
<p>Gadgets: Rise Time
</p>
<h2><a name="Brief_Information"></a><span class="mw-headline">Brief Information</span></h2>
<p>Calculate rise or fall time of data plot within a region of interest
</p>
<h2><a name="Additional_Information"></a><span class="mw-headline">Additional Information</span></h2>
<p>This feature is for OriginPro only, updated in 8.1 SR1.
</p>
<h2><a name="Command_Line_Usage"></a><span class="mw-headline">Command Line Usage</span></h2>
<p><code>
addtool_rise_time trGUI.rectcolor:=21 trGUI.tool:=1 trGUI.method:=1 trGUI.output_to.reslog:=1 trGUI.display.risetime:=1;
</code>
</p>
<h2><a name="X-Function_Execution_Options"></a><span class="mw-headline">X-Function Execution Options</span></h2>
<p><a class="external text" href="../../LabTalk/LabTalk/X-Function_Execution_Options.html">Please refer to the page for additional option switches when accessing the x-function from script</a>
</p>
<h2><a name="Variables"></a><span class="mw-headline">Variables</span></h2>
<table class="xfvar">
<tr>
<th width="8%">Display<br />Name
</th>
<th width="8%">Variable<br />Name
</th>
<th width="8%">I/O<br />and<br />Type
</th>
<th width="8%">Default<br />Value
</th>
<th>Description
</th></tr>
<tr>
<td>Settings
</td>
<td>trGUI
</td>
<td>
<p>Input
</p><p>TreeNode
</p>
</td>
<td> <center>&lt;unassigned&gt;</center>
</td>
<td>
<p>It can be used to customize the computation options.
</p><p>Please see more details in the Description section.
</p>
</td></tr></table>
<h2><a name="Description"></a><span class="mw-headline">Description</span></h2>
<p>Rise time (or fall time) refers to the time required for a signal to change from a specified low value to a specified high value (or from a specified high value to a specified low value). Typically, these values are 10% and 90% of the step height. This function allows you to select an area on the graph intuitively with a rectangle that is added to the graph and calculate the rise time or fall time within the area. 
</p><p>In a step-like signal, a low state level and a high state level are calculated. Then the step height can be calculated by deducting the low state level from the high state level. Then a low reference level and a high reference level are calculated with two specified percentages of the step height. Finally, we can locate the rise time (or fall time) span and calculate the time required for the signal to rise from the low reference level to the high reference level (or drop from the high reference level to the high reference level). The relationships of these parameters are shown in the picture below.
</p>
<dl><dd><a  class="image"><img alt="Addtool rise time-5.png" src="../images/Addtool_rise_time/Addtool_rise_time-5.png?v=12181" width="500"  /></a></dd></dl>
<h3><a name="Details_for_Dialog_Settings"></a><span class="mw-headline">Details for Dialog Settings</span></h3>
<h4><a name="Settings.28trGUI.29"></a><span class="mw-headline">Settings(trGUI)</span></h4>
<p>The <b>trGUI</b> tree specifies all setting options for the <b>addtool_rise_time</b> X-Function.
</p><p>Syntax: <b>trGUI.<i>Treenode:=&lt;value&gt;</i></b>
</p><p>Example: <b>trGUI.rectcolor:=23</b> 
</p>
<table class="treetable">
<tr>
<th> Treenode
</th>
<th> Label
</th>
<th> Type
</th>
<th> Default
</th>
<th> Description
</th></tr>
<tr>
<td>rectcolor
</td>
<td>Color
</td>
<td>Input int
</td>
<td>21
</td>
<td>Specify the color of the rectangle which is attached to the graph. With this rectangle, you can select an area on the graph to apply the rise time/fall time analysis. For the choice of the color, see <a class="external text" href="../../LabTalk/LabTalk/List_of_Colors.html">the list of colors</a>.
</td></tr>
<tr>
<td>tool
</td>
<td>Tool
</td>
<td>Input int
</td>
<td>0
</td>
<td>Specify whether rise time or fall time should be computed. Options include:
<ul><li>0:Rise time </li></ul>
<dl><dd>Rise time analysis is being applied. The tool will calculate the time required for the signal to rise from the low reference level to the high reference level.</dd></dl>
<ul><li>1:Fall time </li></ul>
<dl><dd>Fall time analysis is being applied. The tool will calculate the time required for the signal to drop from the high reference level to the low reference level.</dd></dl>
</td></tr>
<tr>
<td>method
</td>
<td>Method
</td>
<td>Input int
</td>
<td>0
</td>
<td>Specify the method applied to locate the rise time/fall time span. It is unavailable when both high state level and low state level are specified manually. Options include:
<ul><li>0:Linear Search </li></ul>
<dl><dd>Use the Linear Search method for the rise or fall time analysis. Please read the details in the Algorithm section below.</dd></dl>
<ul><li>1:Histogram </li></ul>
<dl><dd>Use the Histogram method for the rise or fall time analysis. Please read the details in the Algorithm section below.</dd></dl>
<ul><li>2:Largest Triangle</li></ul>
<dl><dd>Use the Largest Triangle method for the rise or fall time analysis. Please read the details in the Algorithm section below. When this method is selected, the <b>High State Level</b> and <b>Low State Level</b> cannot be specified manually.</dd></dl>
</td></tr>
<tr>
<td>input
</td>
<td>Rise Range/Fall Range
</td>
<td>Input TreeNode
</td>
<td>&lt;unassigned&gt;
</td>
<td>Specify the high/low state level and the ratio of the high/low reference level to the step high. See more details in the Rise Range/Fall Range Subtree table below.
</td></tr>
<tr>
<td>output
</td>
<td>Quantities
</td>
<td>Input TreeNode
</td>
<td>&lt;unassigned&gt;
</td>
<td>Specify the quantities to output. See more details in the Quantities Subtree table below.
</td></tr>
<tr>
<td>output_to
</td>
<td>Output To
</td>
<td>Input TreeNode
</td>
<td>&lt;unassigned&gt;
</td>
<td>Specify where to output the results. See more details in the Output To Subtree table below.
</td></tr>
<tr>
<td>display
</td>
<td>Display on Graph
</td>
<td>Input TreeNode
</td>
<td>&lt;unassigned&gt;
</td>
<td>Specify the properties of the display of indicators, state levels, rise/fall time and rise/fall range on the graph. See more details in the Display on Graph Subtree table below.
</td></tr>
<tr>
<td>adv
</td>
<td>Advanced
</td>
<td>Input TreeNode
</td>
<td>&lt;unassigned&gt;
</td>
<td>Advanced settings about the smoothing operation performed before the analysis and the parameters used in the searching method, noise level unit, and how to control results when graph scale changes. See more details in the Advanced Subtree table below.
</td></tr></table>
<h4><a name="Rise_Range.2FFall_Range_Subtree"></a><span class="mw-headline">Rise Range/Fall Range Subtree</span></h4>
<p>Specify the high/low state level and the reference levels. If <b>Rise time</b> is selected in the <b>Tool</b> drop-down list, this subtree's label is <b>Rise Range</b>; otherwise, the label is <b>Fall Range</b>.
</p><p>Syntax: <b>trGUI.input.<i>Treenode:=&lt;value&gt;</i></b>
</p><p>Example: <b>trGUI.input.from:=20</b> 
</p>
<table class="treetable">
<tr>
<th> Treenode
</th>
<th> Label
</th>
<th> Type
</th>
<th> Default
</th>
<th> Description
</th></tr>
<tr>
<td>highVolt
</td>
<td>High State Level
</td>
<td>Input double
</td>
<td>&lt;unassigned&gt;
</td>
<td>Specify the high state level. If the <b>Auto</b> check box is checked, this value will be calculated by the specified method; otherwise, you can specify a value manually. If the <b>Method</b> is <b>Largest Triangle</b>, this variable is invisible in GUI and the value will be calculated automatically.
</td></tr>
<tr>
<td>lowVolt
</td>
<td>Low State Level
</td>
<td>Input double
</td>
<td>&lt;unassigned&gt;
</td>
<td>Specify the low state level. If the <b>Auto</b> check box is checked, this value will be calculated by the specified method; otherwise, you can specify a value manually. If the <b>Method</b> is <b>Largest Triangle</b>, this variable is invisible in GUI and the value will be calculated automatically.
</td></tr>
<tr>
<td> from
</td>
<td> From (%) of Step Height
</td>
<td> Input double
</td>
<td> 10
</td>
<td>Specify a value n. Then the low reference level is at n% of the step height.
</td></tr>
<tr>
<td> to
</td>
<td> To (%) of Step Height
</td>
<td> Input double
</td>
<td> 90
</td>
<td>Specify a value m. Then the high reference level is at m% of the step height.
</td></tr></table>
<h4><a name="Quantities_Subtree"></a><span class="mw-headline">Quantities Subtree</span></h4>
<p>Specify the quantities to output.
</p><p>Syntax: <b>trGUI.output.<i>Treenode:=&lt;value&gt;</i></b>
</p><p>Example: <b>trGUI.output.name:=0</b> 
</p>
<table class="treetable">
<tr>
<th>Treenode
</th>
<th>Label
</th>
<th>Type
</th>
<th>Default
</th>
<th>Description
</th></tr>
<tr>
<td>name
</td>
<td>Dataset Name(name)
</td>
<td>Input int
</td>
<td>1
</td>
<td>Specify whether to output the name of the source dataset. Options include:
<ul><li>0:unchecked</li></ul>
<dl><dd>Do not output the name of the source dataset. </dd></dl>
<ul><li>1:checked</li></ul>
<dl><dd>Output the name of the source dataset. </dd></dl>
</td></tr>
<tr>
<td>VMin
</td>
<td>Low State Level(VMin)
</td>
<td>Input int
</td>
<td>1
</td>
<td>Specify whether to output the low state level. Options include:
<ul><li>0:unchecked</li></ul>
<dl><dd>Do not output the low state level.</dd></dl>
<ul><li>1:checked</li></ul>
<dl><dd>Output the low state level.</dd></dl>
</td></tr>
<tr>
<td>VMax
</td>
<td>High State Level(VMax)
</td>
<td>Input int
</td>
<td>1
</td>
<td>Specify whether to output the high state level. Options include:
<ul><li>0:unchecked</li></ul>
<dl><dd>Do not output the high state level.</dd></dl>
<ul><li>1:checked</li></ul>
<dl><dd>Output the high state level.</dd></dl>
</td></tr>
<tr>
<td>dV
</td>
<td>Step Height(dV)
</td>
<td>Input int
</td>
<td>0
</td>
<td>Specify whether to output the step height. Options include:
<ul><li>0:unchecked</li></ul>
<dl><dd>Do not output the step height.</dd></dl>
<ul><li>1:checked</li></ul>
<dl><dd>Output the step height.</dd></dl>
</td></tr>
<tr>
<td>VrefMin
</td>
<td>Low Reference Level(VrefMin)
</td>
<td>Input int
</td>
<td>1
</td>
<td>Specify whether to output the low reference level. Options include:
<ul><li>0:unchecked</li></ul>
<dl><dd>Do not output the low reference level.</dd></dl>
<ul><li>1:checked</li></ul>
<dl><dd>Output the low reference level.</dd></dl>
</td></tr>
<tr>
<td>VrefMax
</td>
<td>High Reference Level(VrefMax)
</td>
<td>Input int
</td>
<td>1
</td>
<td>Specify whether to output the high reference level. Options include:
<ul><li>0:unchecked</li></ul>
<dl><dd>Do not output the high reference level.</dd></dl>
<ul><li>1:checked</li></ul>
<dl><dd>Output the high reference level.</dd></dl>
</td></tr>
<tr>
<td>dVref
</td>
<td>Rise Range(dVref)/Fall Range(dVref)
</td>
<td>Input int
</td>
<td>0
</td>
<td>Specify whether to output the rise range/fall range. If <b>Rise Time</b> is selected in the <b>Tool</b> drop-down list, the label is <b>Rise Range(dVref)</b>; otherwise, the label is <b>Fall Range(dVref)</b>. Options include:
<ul><li>0:unchecked</li></ul>
<dl><dd>Do not output the rise range/fall range.</dd></dl>
<ul><li>1:checked</li></ul>
<dl><dd>Output the rise range/fall range.</dd></dl>
</td></tr>
<tr>
<td>T1
</td>
<td>Time at Low Reference Level(T1)
</td>
<td>Input int
</td>
<td>1
</td>
<td>Specify whether to output the time at low reference level. Options include:
<ul><li>0:unchecked</li></ul>
<dl><dd>Do not output the time at low reference level.</dd></dl>
<ul><li>1:checked</li></ul>
<dl><dd>Output the time at low reference level.</dd></dl>
</td></tr>
<tr>
<td>T2
</td>
<td>Time at High Reference Level(T2)
</td>
<td>Inupt int
</td>
<td>1
</td>
<td>Specify whether to output the time at high reference level. Options include:
<ul><li>0:unchecked</li></ul>
<dl><dd>Do not output the time at high reference level. </dd></dl>
<ul><li>1:checked</li></ul>
<dl><dd>Output the time at high reference level.</dd></dl>
</td></tr>
<tr>
<td>dT
</td>
<td>Rise Time(dT)/Fall Time(dT)
</td>
<td>Input int
</td>
<td>1
</td>
<td>Specify whether to output the rise time/fall time. If <b>Rise Time</b> is selected in the <b>Tool</b> drop-down list, the label is <b>Rise Time(dT)</b>; otherwise, the label is <b>Fall Time(dT)</b>. Options include:
<ul><li>0:unchecked</li></ul>
<dl><dd>Do not output the rise time/fall time. </dd></dl>
<ul><li>1:checked</li></ul>
<dl><dd>Output the rise time/fall time. </dd></dl>
</td></tr>
<tr>
<td>Velocity
</td>
<td>Rise/Fall Velocity (Velocity)
</td>
<td>Input int
</td>
<td>0
</td>
<td>Specify whether to output the rise/fall velocity, which is computed by dVref/dT based on the smoothed data. Options include:
<ul><li>0:unchecked</li></ul>
<dl><dd>Do not output the rise/fall velocity.</dd></dl>
<ul><li>1:checked</li></ul>
<dl><dd>Output the rise/fall velocity.</dd></dl>
</td></tr>
<tr>
<td>MaxVelocity
</td>
<td>Maximum Rise/Fall Velocity (MaxVelocity)
</td>
<td>Input int
</td>
<td>0
</td>
<td>Specify whether to output the rise/fall maximum velocity, which is maximum derivation value between T1 and T2. The maximum velocity is calculated based on the smoothed data. Options include:
<ul><li>0:unchecked</li></ul>
<dl><dd>Do not output the rise/fall maximum velocity.</dd></dl>
<ul><li>1:checked</li></ul>
<dl><dd>Output the rise/fall maximum velocity.</dd></dl>
</td></tr>
<tr>
<td>e1
</td>
<td>Noise Level Low(e1)
</td>
<td>Input int
</td>
<td>0
</td>
<td>Specify whether to output the noise level at low level baseline region. Options include:
<ul><li>0:unchecked</li></ul>
<dl><dd>Do not output the noise level at low level baseline region. </dd></dl>
<ul><li>1:checked</li></ul>
<dl><dd>Output the noise level at low level baseline region.</dd></dl>
</td></tr>
<tr>
<td>e2
</td>
<td>Noise Level High(e2)
</td>
<td>Input int
</td>
<td>0
</td>
<td>Specify whether to output the noise level at high level baseline region. Options include:
<ul><li>0:unchecked</li></ul>
<dl><dd>Do not output the noise level at high level baseline region. </dd></dl>
<ul><li>1:checked</li></ul>
<dl><dd>Output the noise level at high level baseline region.</dd></dl>
</td></tr></table>
<h4><a name="Output_To_Subtree"></a><span class="mw-headline">Output To Subtree</span></h4>
<p>Specify where to output the results.
</p><p>Syntax: <b>trGUI.output_to.<i>Treenode:=&lt;value&gt;</i></b>
</p><p>Example: <b>trGUI.output_to.reslog:=1</b> 
</p>
<table class="treetable">
<tr>
<th> Treenode
</th>
<th> Label
</th>
<th> Type
</th>
<th> Default
</th>
<th> Description
</th></tr>
<tr>
<td> script
</td>
<td> Script Window
</td>
<td> Input int
</td>
<td> 1
</td>
<td>Output the results to the Script Window. Options include:
<ul><li>0:unchecked</li></ul>
<dl><dd>Do not output the results to the Script Window.</dd></dl>
<ul><li>1:checked</li></ul>
<dl><dd>Output the results to the Script Window.</dd></dl>
</td></tr>
<tr>
<td> reslog
</td>
<td> Results Log
</td>
<td> Input int
</td>
<td> 0
</td>
<td>Output the results to the Results Log. Options include:
<ul><li>0:unchecked</li></ul>
<dl><dd>Do not output the results to the Results Log.</dd></dl>
<ul><li>1:checked</li></ul>
<dl><dd>Output the results to the Results Log.</dd></dl>
</td></tr>
<tr>
<td> appendwks
</td>
<td> Append to Worksheet
</td>
<td> Input int
</td>
<td> 0
</td>
<td>Append the output results to a worksheet. Options include:
<ul><li>0:unchecked</li></ul>
<dl><dd>Do not append the results to a worksheet.</dd></dl>
<ul><li>1:checked</li></ul>
<dl><dd>Append the results to a worksheet.</dd></dl>
</td></tr>
<tr>
<td> wbkName
</td>
<td> Result Worksheet Name
</td>
<td> Input string
</td>
<td> QkRiseTime
</td>
<td>This is only available when the <b>Append to Worksheet</b> check box is selected. Use it to specify the name of worksheet to which the results are appended.
</td></tr></table>
<h4><a name="Display_on_Graph_Subtree"></a><span class="mw-headline">Display on Graph Subtree</span></h4>
<p>Syntax: <b>trGUI.display.<i>Treenode:=&lt;value&gt;</i></b>
</p><p>Example: <b>trGUI.display.risetime:=1</b> 
</p>
<table class="treetable">
<tr>
<th>Treenode
</th>
<th>Label
</th>
<th>Type
</th>
<th>Default
</th>
<th>Description
</th></tr>
<tr>
<td>indicator
</td>
<td>Indicator
</td>
<td>Input TreeNode
</td>
<td>&lt;unassigned&gt;
</td>
<td>Specify the settings for the indicator. See more details in the Indicator table below.
</td></tr>
<tr>
<td>statelevel
</td>
<td>State Level
</td>
<td>Input int
</td>
<td>1
</td>
<td>Specify whether to show two horizontal lines for marking the low and high state level.
</td></tr>
<tr>
<td>risetime
</td>
<td>Rise Time/Fall Time
</td>
<td>Input int
</td>
<td>0
</td>
<td>Specify whether to show two vertical lines through two indicators for marking the rise time/fall time. If <b>Rise Time</b> is selected in the <b>Tool</b> drop-down list, the label is <b>Rise Time</b>; otherwise, the label is <b>Fall Time</b>.
</td></tr>
<tr>
<td>riserange
</td>
<td>Rise Range/Fall Range
</td>
<td>Input int
</td>
<td>0
</td>
<td>Specify whether to show two horizontal lines through two indicators for marking rise range/fall range. If <b>Rise Time</b> is selected in the <b>Tool</b> drop-down list, the label is <b>Rise Range</b>; otherwise, the label is <b>Fall Range</b>.
</td></tr></table>
<p><b>Indicator table</b>
</p><p>Syntax: <b>trGUI.display.indicator.<i>Treenode:=&lt;value&gt;</i></b>
</p><p>Example: <b>trGUI.display.indicator.size:=11</b> 
</p>
<table class="treetable">
<tr>
<th>Treenode
</th>
<th>Label
</th>
<th>Type
</th>
<th>Default
</th>
<th>Description
</th></tr>
<tr>
<td>size
</td>
<td>Size
</td>
<td>Input int
</td>
<td>10
</td>
<td>Select the indicator size in points.
</td></tr>
<tr>
<td>shape
</td>
<td>Symbol
</td>
<td>Input int
</td>
<td>0
</td>
<td>Select a symbol for the indicator. For more information about symbol, please refer to <a class="external text" href="../../UserGuide/UserGuide/The_(Plot_Details)_Symbol_Tab.html">symbol tab of Plot Details</a>.
</td></tr>
<tr>
<td>edgecolor
</td>
<td>Edge Color
</td>
<td>Input int
</td>
<td>0
</td>
<td>Specify the edge color of the indicator which indicates the low/high reference level. For the choice of the color, see <a class="external text" href="../../LabTalk/LabTalk/List_of_Colors.html">the list of colors</a>.
</td></tr>
<tr>
<td>fillcolor
</td>
<td>Fill Color
</td>
<td>Input int
</td>
<td>1
</td>
<td>Specify the color to fill the indicator which indicates the low/high reference level. For the choice of the color, see <a class="external text" href="../../LabTalk/LabTalk/List_of_Colors.html">the list of colors</a>.
</td></tr></table>
<h4><a name="Advanced_Subtree"></a><span class="mw-headline">Advanced Subtree</span></h4>
<p>Advanced setting about smoothing before performing rise or fall time analysis.
</p><p>Syntax: <b>trGUI.adv.<i>Treenode:=&lt;value&gt;</i></b>
</p><p>Example: <b>trGUI.adv.pts:=60</b> 
</p>
<table class="treetable">
<tr>
<th>Treenode
</th>
<th>Label
</th>
<th>Type
</th>
<th>Default
</th>
<th>Description
</th></tr>
<tr>
<td>lnsearch
</td>
<td>Low/High Level Determine
</td>
<td>Input int
</td>
<td>0
</td>
<td>Only available when <b>Method</b> is set to <b>Linear Search</b>. Use it to specify how to find the low/high state level. Options include:
<ul><li>0:Average
<dl><dd>Consider the average of adjacent average smoothed data as low/high state level. Please read the <a href="#Linear_Search">Linear Search</a> methods in the Algorithm section below.</dd></dl></li>
<li>1:Maximal Mean
<dl><dd>Consider the minimum/maximum of adjacent average smoothed data as low/high state level. Please read the <a href="#Linear_Search">Linear Search</a> methods in the Algorithm section below.</dd></dl></li></ul>
</td></tr>
<tr>
<td>pts
</td>
<td>Smooth Points
</td>
<td>Input int
</td>
<td>50
</td>
<td>Only available when <b>Method</b> is set to <b>Linear Search</b>. Use it to specify the number of points used in the smoothing that is performed to the whole dataset before the rise time/fall time analysis is executed. The value can be any integer between 1 and 200.
</td></tr>
<tr>
<td>pts2
</td>
<td>Smooth Points on Rising/Falling Area
</td>
<td>Input int
</td>
<td>1
</td>
<td>Specify the number of points used in the smoothing that is applied on the rising/falling area. The value can be any integer between 1 and 50.
</td></tr>
<tr>
<td>tol
</td>
<td>Tolerance(Percentage)
</td>
<td>Input double
</td>
<td>0.03
</td>
<td>Specify the tolerance for level values. Any level below this will be treated as noises. Available when <b>Method</b> is set to <b>Linear Search</b> or <b>Histogram</b>.
</td></tr>
<tr>
<td>bins
</td>
<td>Number of Bins
</td>
<td>Input int
</td>
<td>256
</td>
<td>Only available when <b>Method</b> is set to <b>Histogram</b>. Use it to specify the number of bins used in the histogram method.
</td></tr>
<tr>
<td>onrescale
</td>
<td>When Graph Scale Changes
</td>
<td>Input int
</td>
<td>0
</td>
<td>Specify the operation that will perform when the graph scale changes. Options include:
<ul><li>Update Results
<dl><dd>When the graph scale changes, update the results.</dd></dl></li>
<li>Invalidate Results
<dl><dd>When the graph scale changes, invalidate the results. You will see a cross on the graph when the results are invalidated.</dd></dl></li></ul>
</td></tr>
<tr>
<td>noiseUnit
</td>
<td>Noise Level Unit
</td>
<td>Input int
</td>
<td>0
</td>
<td>Specify the unit of noise level. Options include:
<ul><li>Absolute Value
<dl><dd>The noise level is an absolute value.</dd></dl></li>
<li>Relative to Step Size
<dl><dd>The noise level is relative to the step height.</dd></dl></li></ul>
</td></tr></table>
<h2><a name="Examples"></a><span class="mw-headline">Examples</span></h2>
<p>The following steps is for calculating the rise time in a step-like signal in a graph.
</p>
<ol><li>Create a new project and import the file &lt;Origin Directory&gt;\Samples\Signal Processing\Step Signal with Random Noise.dat.
<dl><dd><a  class="image"><img alt="Addtool rise time 1.png" src="../images/Addtool_rise_time/Addtool_rise_time_1.png?v=13079" width="284"  /></a></dd></dl></li>
<li>Highlight column B and click the <b>Line</b> button on the <b>2D Graphs</b> toolbar to create a graph.</li>
<li>Click the <b>Scale In</b> button on the <b>Tools</b> bar, then zoom in the time range between 700 to 800 on the graph.
<dl><dd><a  class="image"><img alt="Addtool rise time 2.png" src="../images/Addtool_rise_time/Addtool_rise_time_2.png?v=13970" width="520"  /></a></dd></dl></li>
<li>Select <b>Gadgets: Rise Time...</b> from the Origin menu (or run the script <code>addtool_rise_time -d;</code> in the command window) to open the dialog box of this X-Function.</li>
<li>In the ROI Box tab, change the <b>Color</b> to green. Choose <b>Rise Time</b> with the <b>Tool</b> drop-down list, and then select <b>Histogram</b> with the <b>Method</b> drop-down list. Keep the default settings in the <b>Rise Range</b> tab and the <b>Quantities</b> tab as they are. In the <b>Output To</b> tab, make sure that only the <b>Results Log</b> check box is selected. In the <b>Display on Graph</b> tab and the <b>Advanced</b> tab, keep their default values.
<dl><dd><a  class="image"><img alt="Addtool rise time 3.png" src="../images/Addtool_rise_time/Addtool_rise_time_3.png?v=17511" width="417"  /></a></dd></dl></li>
<li>Click the <b>OK</b> button. A green rectangle is added to the graph. Move the rectangle horizontally to make sure that the signal step is inside the rectangle. (Note: You may get different results if the rectangle is not exactly the same as shown in the screenshot below.)
<dl><dd><a  class="image"><img alt="Addtool rise time 4.png" src="../images/Addtool_rise_time/Addtool_rise_time_4.png?v=17513" width="423"  /></a></dd></dl></li>
<li>Click the <a  class="image"><img alt="Arrow button.png" src="../images/Addtool_rise_time/Arrow_button.png?v=17515" width="25"  /></a> button near the top-right corner of the rectangle to select <b>New Output</b>. The results should be output to the Results Log. (Note again that you may get different results if the rectangle is not exactly the same as shown in the screenshot above.)
<dl><dd><a  class="image"><img alt="Addtool rise time 6.png" src="../images/Addtool_rise_time/Addtool_rise_time_6.png?v=13973" width="737"  /></a></dd></dl></li></ol>
<h2><a name="Algorithm"></a><span class="mw-headline">Algorithm</span></h2>
<p>This function provides three methods for calculating rise/fall time. They are Linear Search and Histogram.
</p>
<h3><a name="Linear_Search"></a><span class="mw-headline">Linear Search</span></h3>
<p>Take rise time calculation for example. The time that takes for a signal to rise from <b>dTol1</b>% of the step height to <b>dTol2</b>% of the step height (here, 0&lt;dTol1&lt;dTol2&lt;100) should be computed.
</p><p>Steps:
</p>
<ol><li><a href="../../XFunction/X-Function/Smooth.html#Algorithm" title="X-Function:Smooth">Smoothing with the adjacent average method</a> is appied to the raw data.</li>
<li>Locate the high state level and the low state level. Two ways to find low/high state levels are provided. The first one is the high state level and the low state level are calculated by the means of the first 1% data points and the last 1% data points, respectively (In the <b>Advanced</b> branch of GUI, Set <b>Low/High Level Determine</b> as <b>Average</b>.). The second one is that after adjacent averaging, the minimum and maximum are considered as low and high state levels respectively (In the <b>Advanced</b> branch of GUI, Set <b>Low/High Level Determine</b> as <b>Maximal Mean</b>.).</li>
<li>Linear search is performed to find two points, <b>t1</b> and <b>t2</b>, from left to right such that:
<dl><dd><img src="../images/Addtool_rise_time/math-9bec398bc8ce0063f19476ffcf4e33d2.png?v=0" title="y(t1) &gt; lowerbase + (upperbase-lowerbase)*dTol1\," alt="y(t1) &gt; lowerbase + (upperbase-lowerbase)*dTol1\," class="tex"/></dd>
<dd><img src="../images/Addtool_rise_time/math-b39fb7a9d677fed0762e8d78c55412d3.png?v=0" title="y(t2) &lt; lowerbase + (upperbase-lowerbase)*dTol2\," alt="y(t2) &lt; lowerbase + (upperbase-lowerbase)*dTol2\," class="tex"/>. </dd>
<dd>here upperbase is the high state level while the lowerbase is the low state value.</dd></dl></li></ol>
<p>Then the region between t1 and t2 is the rise area and <img src="../images/Addtool_rise_time/math-43930072b4221044decff43b7816621b.png?v=0" title="risetime = t2 - t1\," alt="risetime = t2 - t1\," class="tex"/>.
</p>
<h3><a name="Histogram"></a><span class="mw-headline">Histogram</span></h3>
<p>When this method is used, a state level histogram is created from the data. The limits of this histogram are set by the minimum and maximum values in the dataset and the number of bins is 256 by default. Then the number of data samples that fall into each bin is counted. The following picture is an example of the histogram. From this graph, the mean value of a bin ("Low" bin in the graph) with the maximum number of hits in the lower 40% bins is calculated as the low state level. Same calculation to a bin ("High" bin in the graph) in the upper 40% is used to calculate the high state level.
</p>
<dl><dd><a  class="image"><img alt="Addtool rise time 7.PNG" src="../images/Addtool_rise_time/Addtool_rise_time_7.PNG?v=12182" width="500"  /></a></dd></dl>
<p>After locating the low state level and high state level by histogram, step 3 in the Linear Search method is used  calculate the rise time or fall time.
</p>
<h3><a name="Largest_Triangle"></a><span class="mw-headline">Largest Triangle</span></h3>
<p>As illustrated in the below picture, a line that passes through start point and end point is constructed. This line is called the base line. Then points which are on the upper-left of the base line are searched. If the triangle constructed by the point and the base line has the largest area, the vertical ordinate of this point will be regarded the value of the high state level. Similar search is performed to the points on the lower-right of the base line to find the value of the low state level.
</p>
<dl><dd><a  class="image"><img alt="Addtool rise time 8.png" src="../images/Addtool_rise_time/Addtool_rise_time_8.png?v=13074" width="449"  /></a></dd></dl>
<p>After locating the low state level and high state level, step 3 in the Linear Search method is used to calculate the rise time or fall time.
</p>
<hr class='keywordshr'><p><span class='keywords'>Keywords:</span><span class='keywordsInput'>slope, ROI</span></p>






