<h1 class="firstHeading">2.6.5.3 imgOffset</h1><div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Menu_Information"><span class="tocnumber">1</span> <span class="toctext">Menu Information</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Brief_Information"><span class="tocnumber">2</span> <span class="toctext">Brief Information</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Additional_Information"><span class="tocnumber">3</span> <span class="toctext">Additional Information</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#X-Function_Execution_Options"><span class="tocnumber">4</span> <span class="toctext">X-Function Execution Options</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Variables"><span class="tocnumber">5</span> <span class="toctext">Variables</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Description"><span class="tocnumber">6</span> <span class="toctext">Description</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#Examples"><span class="tocnumber">7</span> <span class="toctext">Examples</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#Algorithm"><span class="tocnumber">8</span> <span class="toctext">Algorithm</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="#References"><span class="tocnumber">9</span> <span class="toctext">References</span></a></li>
<li class="toclevel-1 tocsection-10"><a href="#Related_X-Functions"><span class="tocnumber">10</span> <span class="toctext">Related X-Functions</span></a></li>
</ul>
</div>

<h2><a name="Menu_Information"></a><span class="mw-headline">Menu Information</span></h2>
<p>Offset
</p>
<h2><a name="Brief_Information"></a><span class="mw-headline">Brief Information</span></h2>
<p>Offset image to match a reference image
</p>
<h2><a name="Additional_Information"></a><span class="mw-headline">Additional Information</span></h2>
<p>It is not accessible from script.
</p>
<h2><a name="X-Function_Execution_Options"></a><span class="mw-headline">X-Function Execution Options</span></h2>
<p><a class="external text" href="../../LabTalk/LabTalk/X-Function_Execution_Options.html">Please refer to the page for additional option switches when accessing the x-function from script</a>
</p>
<h2><a name="Variables"></a><span class="mw-headline">Variables</span></h2>
<table class="TableGrid" style="; border: none; x-border-left: 1px table-solid; x-border-top: 1px table-solid; x-border-right: 1px table-solid; x-border-bottom: 1px table-solid; border-collapse: separate; border-spacing: 0px;background: #EFEFEF" border="1">
<tr>
<td>
<p><b>Input Image</b>
</p>
</td>
<td>
<p>Specifies the input image. The default is the active image.
</p>
</td></tr>
<tr>
<td>
<p><b>Reference Image</b>
</p>
</td>
<td>
<p>Specifies the reference image, which the input image will be aligned to.
</p>
</td></tr>
<tr>
<td>
<p><b>Offset X</b>
</p>
</td>
<td>
<p>Specifies the X offset.
</p>
</td></tr>
<tr>
<td>
<p><b>Offset Y</b>
</p>
</td>
<td>
<p>Specifies the Y offset.
</p>
</td></tr>
<tr>
<td>
<p><b>Opacity</b>
</p>
</td>
<td>
<p>Specifies the opacity of the reference image, when it is displayed in the preview pane.
</p>
</td></tr>
<tr>
<td>
<p><b>Output Image</b>
</p>
</td>
<td>
<p>Specifies the output image. By default, a new image will be created and used as output,
</p>
</td></tr></table>
<p><br />
</p>
<h2><a name="Description"></a><span class="mw-headline">Description</span></h2>
<p>The <i>imgOffset</i> function offsets the input image so as to align it to the reference image.
</p><p>In the dialog of this X-Function, the reference image can be displayed transparently on top of the input image. You can adjust the opacity of the reference image so that you can see better through it to the input image below. When you change the Offset X or the Offset Y variables, the offset of the input image is updated in the preview pane, allowing you to see the effects and decide whether the offsets are suitable.
</p>
<h2><a name="Examples"></a><span class="mw-headline">Examples</span></h2>
<p>In the following example, we align the cell image to the background image. These two images both have a special "T" mark near its top-right corner. When two images are aligned, these T marks should coincide. The steps to perform the aligning are as follows:
</p>
<ol><li> Create a new matrix and import bgnd.jpg under \Samples\Image Processing and Analysis folder into it.</li>
<li> Create another new matrix and import Cell.jpg under \Samples\Image Processing and Analysis folder into it.</li>
<li> From the menu, choose <b>Image: Geometric Transform: Offset</b> to open the dialog of the <b>imgOffset</b> X-Function<b>.</b></li>
<li> In the dialog, select matrix that has Cell.jpg for <b>Input Image</b> and the matrix that has bgnd.jpg for <b>Reference Image</b>. In Preview window, you will see both images.</li>
<li> Click the down arrow at the end of Offset X to see a slider control. Press the <b>Left</b> and <b>Right</b> keys on keyboard to move images in X direction till the "T" marks coincide horizontally in Preview. Do the same thing for the Offset Y. </li>
<li> Click <b>OK</b> to close the dialog.<br /><a  class="image"><img alt="ImgOffset help English files image002.jpg" src="../images/ImgOffset/ImgOffset_help_English_files_image002.jpg?v=1099" width="428"  /></a></li></ol>
<dl><dd><dl><dd>A new image is created. It has the offset image.</dd></dl></dd></dl>
<p>Input image
</p>
<dl><dd><a  class="image"><img alt="ImgOffset help English files image004.jpg" src="../images/ImgOffset/ImgOffset_help_English_files_image004.jpg?v=1100" width="235"  /></a></dd></dl>
<p>Reference image
</p>
<dl><dd><a  class="image"><img alt="ImgOffset help English files image006.jpg" src="../images/ImgOffset/ImgOffset_help_English_files_image006.jpg?v=1101" width="232"  /></a></dd></dl>
<p>Offset image
</p>
<dl><dd><a  class="image"><img alt="ImgOffset help English files image008.jpg" src="../images/ImgOffset/ImgOffset_help_English_files_image008.jpg?v=1102" width="233"  /></a></dd></dl>
<p><br />
</p>
<h2><a name="Algorithm"></a><span class="mw-headline">Algorithm</span></h2>
<p>First, the size of the output image is computed according to <b>Offset X, Offset Y</b> and the size of the input image:
</p>
<dl><dd><ul><li> <a  class="image"><img alt="ImgOffset help English files image010.gif" src="../images/ImgOffset/ImgOffset_help_English_files_image010.gif?v=1103" width="180"  /></a>, where <a  class="image"><img alt="ImgOffset help English files image012.gif" src="../images/ImgOffset/ImgOffset_help_English_files_image012.gif?v=1104" width="53"  /></a>is the width of the output image and <a  class="image"><img alt="ImgOffset help English files image014.gif" src="../images/ImgOffset/ImgOffset_help_English_files_image014.gif?v=1105" width="48"  /></a>is the width of the input image.</li></ul></dd></dl>
<dl><dd><ul><li>  <a  class="image"><img alt="ImgOffset help English files image016.gif" src="../images/ImgOffset/ImgOffset_help_English_files_image016.gif?v=1106" width="196"  /></a>, where <a  class="image"><img alt="ImgOffset help English files image018.gif" src="../images/ImgOffset/ImgOffset_help_English_files_image018.gif?v=1107" width="61"  /></a>is the width of the output image and <a  class="image"><img alt="ImgOffset help English files image020.gif" src="../images/ImgOffset/ImgOffset_help_English_files_image020.gif?v=1108" width="57"  /></a>is the width of the input image.</li></ul></dd></dl>
<p>Then the input image is copied to the output image with the specified offsets. The copying is implemented with L_COPY_BITMAP_RECT() function from LEADTOOLS Main API. Please refer to the LEADTOOLS Main API Help file, Version 14 and read the L_COPY_BITMAP_RECT topic.
</p>
<h2><a name="References"></a><span class="mw-headline">References</span></h2>
<p>LEADTOOLS Main API Help file, Version 14
</p>
<h2><a name="Related_X-Functions"></a><span class="mw-headline">Related X-Functions</span></h2>
<p><a href="../../XFunction/X-Function/ImgCrop.html" title="X-Function:ImgCrop">imgCrop</a>
</p>





