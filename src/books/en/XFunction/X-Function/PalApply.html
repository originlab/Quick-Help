<h1 class="firstHeading">2.5.41 palApply</h1><div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Menu_Information"><span class="tocnumber">1</span> <span class="toctext">Menu Information</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Brief_Information"><span class="tocnumber">2</span> <span class="toctext">Brief Information</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Command_Line_Usage"><span class="tocnumber">3</span> <span class="toctext">Command Line Usage</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#X-Function_Execution_Options"><span class="tocnumber">4</span> <span class="toctext">X-Function Execution Options</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Variables"><span class="tocnumber">5</span> <span class="toctext">Variables</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Description"><span class="tocnumber">6</span> <span class="toctext">Description</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#Examples"><span class="tocnumber">7</span> <span class="toctext">Examples</span></a></li>
</ul>
</div>

<h2><a name="Menu_Information"></a><span class="mw-headline">Menu Information</span></h2>
<p>Graph: Apply Palette to Color Map
</p>
<h2><a name="Brief_Information"></a><span class="mw-headline">Brief Information</span></h2>
<p>Apply specified palette to graph or image
</p>
<h2><a name="Command_Line_Usage"></a><span class="mw-headline">Command Line Usage</span></h2>
<pre>
1. palApply fname:=system.path.program$+&quot;Palettes\RedWhiteBlue.pal&quot;;
2. palApply igl:=[Graph2]Layer1 fname:=system.path.program$+&quot;Palettes\blue.pal&quot; flip:=1; 
</pre>
<h2><a name="X-Function_Execution_Options"></a><span class="mw-headline">X-Function Execution Options</span></h2>
<p><a class="external text" href="../../LabTalk/LabTalk/X-Function_Execution_Options.html">Please refer to the page for additional option switches when accessing the x-function from script</a>
</p>
<h2><a name="Variables"></a><span class="mw-headline">Variables</span></h2>
<table class="xfvar">
<tr>
<th width="8%">Display<br />Name
</th>
<th width="8%">Variable<br />Name
</th>
<th width="8%">I/O<br />and<br />Type
</th>
<th width="8%">Default<br />Value
</th>
<th>Description
</th></tr>
<tr>
<td>Input Graph
</td>
<td>igl
</td>
<td>
<p>Input
</p><p>GraphLayer
</p>
</td>
<td> <center>&lt;active&gt;</center>
</td>
<td> Specifies the graph layer to which the palette is applied.
</td></tr>
<tr>
<td>Palette File
</td>
<td>fname
</td>
<td>
<p>Input
</p><p>string
</p>
</td>
<td> <center>"grayscale"</center>
</td>
<td> Specifies the path and file name of the palette file to be applied.
</td></tr>
<tr>
<td>Stretch to Full Range
</td>
<td>stretch
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>1</center>
</td>
<td> If this checkbox is checked, the colors in the palette will be repeated or skipped to n, where n is the number of color map levels in the input graph layer. If this checkbox is clear and n is less than 256, only the first n colors in the palette will be used. If the checkbox is clear and n is more than 256, the entire set of colors in the palette will be repeated as many times as needed.
</td></tr>
<tr>
<td>Flip Palette
</td>
<td>flip
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>0</center>
</td>
<td> Specifies whether or not to flip the order of colors in the palette when the palette is applied to the graph layer.
</td></tr>
<tr>
<td>Apply Scope
</td>
<td>scope
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>1</center>
</td>
<td> Specifies the graph that on the layer to apply palette.
<p>Option list:
</p>
<ul><li><i>active:Active Plot</i></li></ul>
<dl><dd>Apply the palette only in active plot on the layer.</dd></dl>
<ul><li><i>all:All Plots</i></li></ul>
<dl><dd>Apply the palette in all plots on the layer.</dd></dl>
<p><br />
</p>
</td></tr></table>
<h2><a name="Description"></a><span class="mw-headline">Description</span></h2>
<p>This function applies an existing palette (<b>*.PAL</b>) file to a given graph layer. Note that <b>color map</b> should be <i>available</i> in the input graph layer. Otherwise, this X-Function can not be. Generally speaking, color maps are present in graphs such as <b>3D Surface Plots, Contour Plots, Image Plots,</b> and in <b>2D plots</b> where a <b>particular attribute</b> such as symbol size has been color mapped to the data in a worksheet column.
</p><p>A typical palette file has <b>256</b> colors. A number of built-in palettes are provided. You can find them under the <b>\Palettes</b> subfolder of the Origin program folder. To create or edit user-defined palettes, another X-Function <b>palEdit</b> can be used.
</p>
<h2><a name="Examples"></a><span class="mw-headline">Examples</span></h2>
<ul><li> Code Sample</li></ul>
<pre class="lt" style="font-family:monospace;"><span style="color: #008000; font-style: regular;">/*
This example shows how to apply color palette on a graph layer.
The sample data is exe_path\Samples\Matrix Conversion and Gridding\XYZ Random Gaussian.dat
1. Load sample data.
2. Convert random XYZ data into matrix by TPS method.
3. Plot a contour.
4. Use another color map.
*/</span>
<span style="color: #008000;">// Get sample data</span>
fn<span style="color: #000080;">$</span> <span style="color: #000080;">=</span> system.<span style="color: #000080;">path</span>.<span style="color: #000080;">program</span><span style="color: #000080;">$</span> <span style="color: #000080;">+</span> <span style="color: #ff00ff;">&quot;Samples\Matrix Conversion and Gridding\XYZ Random Gaussian.dat&quot;</span>;
pn<span style="color: #000080;">$</span> <span style="color: #000080;">=</span> system.<span style="color: #000080;">path</span>.<span style="color: #000080;">program</span><span style="color: #000080;">$</span> <span style="color: #000080;">+</span> <span style="color: #ff00ff;">&quot;Palettes\RedWhiteBlue.pal&quot;</span>;
newbook;
impASC fn<span style="color: #000080;">$</span>;
<span style="color: #008000;">// Random worksheet to matrix gridding</span>
xyz_tps <span style="color: #0000dd;">3</span> s<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">0.05</span>;
<span style="color: #008000;">// Plot a contour</span>
worksheet <span style="color: #000080;">-</span>p <span style="color: #0000dd;">226</span> contour;
<span style="color: #008000;">// Turn off speedmode</span>
speedmode sm<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">0</span>;

<span style="color: #008000;">// Apply color map</span>
palApply fname<span style="color: #000000;">:</span><span style="color: #000080;">=</span>pn<span style="color: #000080;">$</span></pre>
<hr class='keywordshr'><p><span class='keywords'>Keywords:</span><span class='keywordsInput'>color scale, color mapping</span></p>






