<h1 class="firstHeading">2.11.9 dfilter(Pro)</h1><div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Menu_Information"><span class="tocnumber">1</span> <span class="toctext">Menu Information</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Brief_Information"><span class="tocnumber">2</span> <span class="toctext">Brief Information</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Additional_Information"><span class="tocnumber">3</span> <span class="toctext">Additional Information</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Command_Line_Usage"><span class="tocnumber">4</span> <span class="toctext">Command Line Usage</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#X-Function_Execution_Options"><span class="tocnumber">5</span> <span class="toctext">X-Function Execution Options</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Variables"><span class="tocnumber">6</span> <span class="toctext">Variables</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#Examples"><span class="tocnumber">7</span> <span class="toctext">Examples</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#More_Information"><span class="tocnumber">8</span> <span class="toctext">More Information</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="#Related_X-Functions"><span class="tocnumber">9</span> <span class="toctext">Related X-Functions</span></a></li>
</ul>
</div>

<h2><a name="Menu_Information"></a><span class="mw-headline">Menu Information</span></h2>
<p>Analysis&#160;: Signal Processing&#160;: IIR Filter
</p>
<h2><a name="Brief_Information"></a><span class="mw-headline">Brief Information</span></h2>
<p>Create and apply an IIR filter
</p>
<h2><a name="Additional_Information"></a><span class="mw-headline">Additional Information</span></h2>
<p>Minimum Origin Version Required: Origin 9.0 SR0
</p>
<pre>This feature is for OriginPro only.
</pre>
<h2><a name="Command_Line_Usage"></a><span class="mw-headline">Command Line Usage</span></h2>
<p><code>
dfilter method:=cheby1 order:=5 sample:=1000 wn:=50 filtfilt:=1 coef:=[&lt;input&gt;]&lt;new&gt;;
</p><p></code>
</p>
<h2><a name="X-Function_Execution_Options"></a><span class="mw-headline">X-Function Execution Options</span></h2>
<p><a class="external text" href="../../LabTalk/LabTalk/X-Function_Execution_Options.html">Please refer to the page for additional option switches when accessing the x-function from script</a>
</p>
<h2><a name="Variables"></a><span class="mw-headline">Variables</span></h2>
<table class="xfvar">
<tr>
<th width="8%">Display<br />Name
</th>
<th width="8%">Variable<br />Name
</th>
<th width="8%">I/O<br />and<br />Type
</th>
<th width="8%">Default<br />Value
</th>
<th>Description
</th></tr>
<tr>
<td>Input Signal
</td>
<td>iy
</td>
<td>
<p>Input
</p><p>XYRange
</p>
</td>
<td> <center>&lt;active&gt;</center>
</td>
<td> Specify the input signal.
</td></tr>
<tr>
<td>Response Type
</td>
<td>type
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>0</center>
</td>
<td> Specify the response type of filter.
<p>Option list:
</p>
<ul><li><i>low:Low Pass</i>
<dl><dd>Allow low frequency components to pass.</dd></dl></li>
<li><i>high:High Pass</i>
<dl><dd>Allow high frequency components to pass.</dd></dl></li>
<li><i>bandpass:Band Pass</i>
<dl><dd>Allow frequency components within a specified range to pass.</dd></dl></li>
<li><i>bandstop:Band Stop</i>
<dl><dd>Allow frequency components outside a specified range to pass.</dd></dl></li></ul>
</td></tr>
<tr>
<td>Method
</td>
<td>method
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>0</center>
</td>
<td> Specify the filter design method.
<p>Option list:
</p>
<ul><li><i>butter:Butterworth</i>
<dl><dd>Butterworth filter design.</dd></dl></li>
<li><i>cheby1:Chebyshev Type I</i>
<dl><dd>Chebyshev Type I filter design.</dd></dl></li>
<li><i>cheby2:Chebyshev Type II</i>
<dl><dd>Chebyshev Type II filter design.</dd></dl></li>
<li><i>elliptic:Elliptic</i>
<dl><dd>Elliptic filter design.</dd></dl></li></ul>
</td></tr>
<tr>
<td>Filter Order
</td>
<td>order
</td>
<td>
<p>Input
</p><p>double
</p>
</td>
<td> <center>10</center>
</td>
<td> Specify the filter order.
</td></tr>
<tr>
<td>Unit
</td>
<td>unit
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>0</center>
</td>
<td> Specify the unit for the frequency settings.
<p>Option list:
</p>
<ul><li><i>hz:Hz</i>
<dl><dd>Use Hz as the unit when specifying the frequency specification.</dd></dl></li>
<li><i>normalize:Normalize to (0,1)</i>
<dl><dd>The specified frequency is normalized to the region from 0 to 1. It is calculated by Frequency(Hz)/(SampleFrequency(Hz)/2), where SampleFrequency(Hz)/2 is the Nyquist frequency.</dd></dl></li></ul>
</td></tr>
<tr>
<td>Sample Frequency (Fs)
</td>
<td>sample
</td>
<td>
<p>Input
</p><p>double
</p>
</td>
<td> <center>&lt;auto&gt;</center>
</td>
<td> Specify the sampling frequency, available when the <b>Unit</b> is <i>Hz</i>.
</td></tr>
<tr>
<td>Cutoff Frequency (Fc)
</td>
<td>wn
</td>
<td>
<p>Input
</p><p>double
</p>
</td>
<td> <center>&lt;auto&gt;</center>
</td>
<td> When <b>Filter Order</b> is specified (not minimum), this variable is used to specify the cutoff frequency for the low pass and high pass.
</td></tr>
<tr>
<td>Cutoff Frequency 1 (Fc1)
</td>
<td>wn1
</td>
<td>
<p>Input
</p><p>double
</p>
</td>
<td> <center>&lt;auto&gt;</center>
</td>
<td> When <b>Filter Order</b> is specified (not minimum), this variable is used to specify the first cutoff frequency for the band pass and band stop.
</td></tr>
<tr>
<td>Cutoff Frequency 2 (Fc2)
</td>
<td>wn2
</td>
<td>
<p>Input
</p><p>double
</p>
</td>
<td> <center>&lt;auto&gt;</center>
</td>
<td> When <b>Filter Order</b> is specified (not minimum), this variable is used to specify the second cutoff frequency for the band pass and band stop.
</td></tr>
<tr>
<td>Pass Frequency
</td>
<td>wp
</td>
<td>
<p>Input
</p><p>double
</p>
</td>
<td> <center>&lt;auto&gt;</center>
</td>
<td> When <b>Filter Order</b> is minimum, this variable is used to specify the pass frequency for the low pass and high pass.
</td></tr>
<tr>
<td>Stop Frequency
</td>
<td>ws
</td>
<td>
<p>Input
</p><p>double
</p>
</td>
<td> <center>&lt;auto&gt;</center>
</td>
<td> When <b>Filter Order</b> is minimum, this variable is used to specify the stop frequency for the low pass and high pass.
</td></tr>
<tr>
<td>Pass Frequency 1
</td>
<td>wp1
</td>
<td>
<p>Input
</p><p>double
</p>
</td>
<td> <center>&lt;auto&gt;</center>
</td>
<td> When <b>Filter Order</b> is minimum, this variable is used to specify the first pass frequency for the band pass and band stop.
</td></tr>
<tr>
<td>Stop Frequency 1
</td>
<td>ws1
</td>
<td>
<p>Input
</p><p>double
</p>
</td>
<td> <center>&lt;auto&gt;</center>
</td>
<td> When <b>Filter Order</b> is minimum, this variable is used to specify the first stop frequency for the band pass and band stop.
</td></tr>
<tr>
<td>Pass Frequency 2
</td>
<td>wp2
</td>
<td>
<p>Input
</p><p>double
</p>
</td>
<td> <center>&lt;auto&gt;</center>
</td>
<td> When <b>Filter Order</b> is minimum, this variable is used to specify the second pass frequency for the band pass and band stop.
</td></tr>
<tr>
<td>Stop Frequency 2
</td>
<td>ws2
</td>
<td>
<p>Input
</p><p>double
</p>
</td>
<td> <center>&lt;auto&gt;</center>
</td>
<td> When <b>Filter Order</b> is minimum, this variable is used to specify the second stop frequency for the band pass and band stop.
</td></tr>
<tr>
<td>Passband Ripple
</td>
<td>rp
</td>
<td>
<p>Input
</p><p>double
</p>
</td>
<td> <center>1</center>
</td>
<td> Specify the pass band ripples in dB.
</td></tr>
<tr>
<td>Stopband Attenuation
</td>
<td>rs
</td>
<td>
<p>Input
</p><p>double
</p>
</td>
<td> <center>80</center>
</td>
<td> Specify the stop band attenuation in dB.
</td></tr>
<tr>
<td>Forward-Backward Filtering
</td>
<td>filtfilt
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>0</center>
</td>
<td> Specify whether to perform both forward and backward filtering on the input signal.
</td></tr>
<tr>
<td>SOS Matrix
</td>
<td>sos
</td>
<td>
<p>Output
</p><p>ReportData
</p>
</td>
<td> <center>[&lt;input&gt;]&lt;new&gt;</center>
</td>
<td> Output the designed IIR filter as the second order section (SOS) parameters form.
</td></tr>
<tr>
<td>Zeros Poles and Gain
</td>
<td>zpk
</td>
<td>
<p>Output
</p><p>ReportData
</p>
</td>
<td> <center>[&lt;input&gt;]&lt;new&gt;</center>
</td>
<td> Output the designed IIR filter as the zero-pole-gain form.
</td></tr>
<tr>
<td>State-Space Form
</td>
<td>abcd
</td>
<td>
<p>Output
</p><p>ReportData
</p>
</td>
<td> <center>[&lt;input&gt;]&lt;new&gt;</center>
</td>
<td> Output the designed IIR filter as the state-space form.
</td></tr>
<tr>
<td>Coefficients
</td>
<td>coef
</td>
<td>
<p>Output
</p><p>ReportData
</p>
</td>
<td> <center>[&lt;input&gt;]&lt;new&gt;</center>
</td>
<td> Output the designed IIR filter as the numerator coefficients and the denominator coefficients.
</td></tr>
<tr>
<td>Output Signal
</td>
<td>oy
</td>
<td>
<p>Output
</p><p>XYRange
</p>
</td>
<td> <center>(&lt;input&gt;,&lt;new&gt;)</center>
</td>
<td> The output signal after filtering by the designed IIR filter.
</td></tr></table>
<h2><a name="Examples"></a><span class="mw-headline">Examples</span></h2>
<p>This example will show how to perform high pass with Butterworth method.
</p>
<ol><li> Create a new project and import the data file <i>&lt;Origin Installation Directory&gt;\Samples\Signal Processing\EMG Recording.dat</i>.</li>
<li> Highlight column B, and make a line plot by menu <b>Plot: Line: Line</b>.
<dl><dd><a  class="image"><img alt="IIR Example 1.png" src="../images/Dfilter/IIR_Example_1.png?v=19346" width="408"  /></a></dd></dl></li>
<li> Activate the graph, select menu <b>Analysis: Signal Processing: IIR Filter</b> to open the dialog, and then set the parameters as the following image shows.
<dl><dd> Response Type: High Pass</dd>
<dd> Filter Order: 6</dd>
<dd> Cutoff Frequency (Fc): 20</dd>
<dd> Forward-Backwrad Filtering: checked</dd>
<dd> <a  class="image"><img alt="IIR Example 2.png" src="../images/Dfilter/IIR_Example_2.png?v=19347" width="1057"  /></a></dd></dl></li>
<li> Click the OK button, the result will plot together with the original signal. Zoom in the graph between about from 12.1 to 13.5. The result is shown in the following image.
<dl><dd> <a  class="image"><img alt="IIR Example 3.png" src="../images/Dfilter/IIR_Example_3.png?v=19348" width="408"  /></a></dd></dl></li></ol>
<h2><a name="More_Information"></a><span class="mw-headline">More Information</span></h2>
<p>For more information, please refer to our User Guide.
</p>
<dl><dd><ul><li><a class="external text" href="../../UserGuide/Category/IIR_Filters_(Pro_Only).html">Description</a></li>
<li><a class="external text" href="../../UserGuide/UserGuide/Algorithm_(IIR_Filters).html">Algorithm</a></li></ul></dd></dl>
<h2><a name="Related_X-Functions"></a><span class="mw-headline">Related X-Functions</span></h2>
<p><a href="../../XFunction/X-Function/Fft_filters.html" title="X-Function:Fft filters">fft_filters</a>, <a href="../../XFunction/X-Function/Dfilterfcf.html" title="X-Function:Dfilterfcf">dfilterfcf</a>
</p>
<hr class='keywordshr'><p><span class='keywords'>Keywords:</span><span class='keywordsInput'>infinite impulse response, signal, remove noise</span></p>






