<h1 class="firstHeading">2.6.6.8 imgUnsharpmask</h1><div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Menu_Information"><span class="tocnumber">1</span> <span class="toctext">Menu Information</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Brief_Information"><span class="tocnumber">2</span> <span class="toctext">Brief Information</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Command_Line_Usage"><span class="tocnumber">3</span> <span class="toctext">Command Line Usage</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#X-Function_Execution_Options"><span class="tocnumber">4</span> <span class="toctext">X-Function Execution Options</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Variables"><span class="tocnumber">5</span> <span class="toctext">Variables</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Description"><span class="tocnumber">6</span> <span class="toctext">Description</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#Examples"><span class="tocnumber">7</span> <span class="toctext">Examples</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#Algorithm"><span class="tocnumber">8</span> <span class="toctext">Algorithm</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="#References"><span class="tocnumber">9</span> <span class="toctext">References</span></a></li>
<li class="toclevel-1 tocsection-10"><a href="#Related_X-Functions"><span class="tocnumber">10</span> <span class="toctext">Related X-Functions</span></a></li>
</ul>
</div>

<h2><a name="Menu_Information"></a><span class="mw-headline">Menu Information</span></h2>
<p>Unsharp Mask 
</p>
<h2><a name="Brief_Information"></a><span class="mw-headline">Brief Information</span></h2>
<p>Apply unsharp mask to image
</p>
<h2><a name="Command_Line_Usage"></a><span class="mw-headline">Command Line Usage</span></h2>
<pre>
1. imgUnsharpmask a:=40;
2. imgUnsharpmask a:=20 r:=3 t:=3 option:=yuv img:=mat(1) oimg:=mat(2);
</pre>
<h2><a name="X-Function_Execution_Options"></a><span class="mw-headline">X-Function Execution Options</span></h2>
<p><a class="external text" href="../../LabTalk/LabTalk/X-Function_Execution_Options.html">Please refer to the page for additional option switches when accessing the x-function from script</a>
</p>
<h2><a name="Variables"></a><span class="mw-headline">Variables</span></h2>
<table class="xfvar">
<tr>
<th width="8%">Display<br />Name
</th>
<th width="8%">Variable<br />Name
</th>
<th width="8%">I/O<br />and<br />Type
</th>
<th width="8%">Default<br />Value
</th>
<th>Description
</th></tr>
<tr>
<td>Adjust
</td>
<td>a
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>0</center>
</td>
<td>
<p>Specifies the adjustment factor, which is a percentage. The range is from 0 to 500.
</p>
</td></tr>
<tr>
<td>Neighborhood
</td>
<td>r
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>1</center>
</td>
<td>
<p>Specifies the size of the neighborhood used for detecting edges. The range is from 0 to 1000.
</p>
</td></tr>
<tr>
<td>Threshold
</td>
<td>t
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>0</center>
</td>
<td>
<p>Specifies the threshold for determining the edges. If the difference between a pixel and its neighborhood is greater than this threshold, this pixel will be considered an edge pixel and will be sharpened. Valid range of this variable is from 0 to 255.
</p>
</td></tr>
<tr>
<td>Color
</td>
<td>option
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>rgb</center>
</td>
<td>
<p>Specifies the color space in which to apply the unsharp mask.
</p><p>Option list
</p>
<ul><li><i>rgb:RGB_Space</i></li></ul>
<dl><dd>Uses the RGB space.</dd></dl>
<ul><li><i>yuv:YUV_Space</i></li></ul>
<dl><dd>Uses the YUV space. Generally, computation is faster than using RGB space.</dd></dl>
</td></tr>
<tr>
<td>Input Matrix
</td>
<td>img
</td>
<td>
<p>Input
</p><p>Image
</p>
</td>
<td> <center>&lt;active&gt;</center>
</td>
<td>
<p>Specifies the source image to be manipulated. The default input is the active image.
</p>
</td></tr>
<tr>
<td>Output Image
</td>
<td>oimg
</td>
<td>
<p>Output
</p><p>Image
</p>
</td>
<td> <center>&lt;input&gt;</center>
</td>
<td>
<p>Specifies the output image. By default, the output image is the same as the input image.
</p><p>See the syntax <a class="external text" href="../../XFunction/X-Function/Output_Notations.html">here</a>.
</p>
</td></tr></table>
<h2><a name="Description"></a><span class="mw-headline">Description</span></h2>
<p>This X-Function can be used to remove the blurring from the input image. It identifies pixels that are different from neighboring pixels and increases their contrast. This function can be viewed as a sharpening function. The edges and details in the output image are emphasized and have an enhanced appearance.
</p>
<h2><a name="Examples"></a><span class="mw-headline">Examples</span></h2>
<ul><li> Code Sample</li></ul>
<pre class="lt" style="font-family:monospace;"><span style="color: #008000;">//Create a new folder in the Project Explorer</span>
pe_mkdir Conversion path<span style="color: #000000;">:</span><span style="color: #000080;">=</span>aa<span style="color: #000080;">$</span>;
pe_cd aa<span style="color: #000080;">$</span>;
<span style="color: #008000;">//Create a matrix and import a sample image</span>
window <span style="color: #000080;">-</span>t m;
path<span style="color: #000080;">$</span> <span style="color: #000080;">=</span> System.<span style="color: #000080;">path</span>.<span style="color: #000080;">program</span><span style="color: #000080;">$</span>;
fname<span style="color: #000080;">$</span> <span style="color: #000080;">=</span> path<span style="color: #000080;">$</span> <span style="color: #000080;">+</span> <span style="color: #ff00ff;">&quot;samples\Image Processing and Analysis\leaves.jpg&quot;</span>;
impimage;
window <span style="color: #000080;">-</span>r <span style="color: #000080;">%</span>h Original;
window <span style="color: #000080;">-</span>d;	<span style="color: #008000;">//Duplicate the image</span>
window <span style="color: #000080;">-</span>r <span style="color: #000080;">%</span>h BlueLeave;

imgC2gray;	<span style="color: #008000;">//Convert to gray</span>
window <span style="color: #000080;">-</span>d;	<span style="color: #008000;">//Duplicate the image</span>
imgUnsharpmask a<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">80</span> r<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">30</span>; <span style="color: #008000;">//Strenghen details</span>

window <span style="color: #000080;">-</span>s T;	<span style="color: #008000;">//Tile the windows horizontally</span></pre>
<h2><a name="Algorithm"></a><span class="mw-headline">Algorithm</span></h2>
<p>The computation uses L_UnsharpMaskBitmap() function from LEADTOOLS Main API. Please refer to the LEADTOOLS Main API Help file, Version 14 and read the L_UnsharpMaskBitmap topic.
</p>
<h2><a name="References"></a><span class="mw-headline">References</span></h2>
<p>LEADTOOLS Main API Help file, Version 14
</p>
<h2><a name="Related_X-Functions"></a><span class="mw-headline">Related X-Functions</span></h2>
<p><a href="../../XFunction/X-Function/ImgSharpen.html" title="X-Function:ImgSharpen">imgSharpen</a>, <a href="../../XFunction/X-Function/ImgUserfilter.html" title="X-Function:ImgUserfilter">imgUserfilter</a>
</p>





