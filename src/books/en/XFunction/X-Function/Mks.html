<h1 class="firstHeading">2.2.17 mks</h1><div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Brief_Information"><span class="tocnumber">1</span> <span class="toctext">Brief Information</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Additional_Information"><span class="tocnumber">2</span> <span class="toctext">Additional Information</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Command_Line_Usage"><span class="tocnumber">3</span> <span class="toctext">Command Line Usage</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#X-Function_Execution_Options"><span class="tocnumber">4</span> <span class="toctext">X-Function Execution Options</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Variables"><span class="tocnumber">5</span> <span class="toctext">Variables</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Description"><span class="tocnumber">6</span> <span class="toctext">Description</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#Examples"><span class="tocnumber">7</span> <span class="toctext">Examples</span></a></li>
</ul>
</div>

<h2><a name="Brief_Information"></a><span class="mw-headline">Brief Information</span></h2>
<p>Get or add data markers for a data plot
</p>
<h2><a name="Additional_Information"></a><span class="mw-headline">Additional Information</span></h2>
<p>X-Function not designed for Auto GetN Dialog.
</p>
<h2><a name="Command_Line_Usage"></a><span class="mw-headline">Command Line Usage</span></h2>
<p><code>
1. mks sort:=0;
</p><p>2. dataset begin = {2, 3}; dataset end = {4, 6}; mks ob:=begin oe:=end mode:=1;
</code>
</p>
<h2><a name="X-Function_Execution_Options"></a><span class="mw-headline">X-Function Execution Options</span></h2>
<p><a class="external text" href="../../LabTalk/LabTalk/X-Function_Execution_Options.html">Please refer to the page for additional option switches when accessing the x-function from script</a>
</p>
<h2><a name="Variables"></a><span class="mw-headline">Variables</span></h2>
<table class="xfvar">
<tr>
<th width="8%">Display<br />Name
</th>
<th width="8%">Variable<br />Name
</th>
<th width="8%">I/O<br />and<br />Type
</th>
<th width="8%">Default<br />Value
</th>
<th>Description
</th></tr>
<tr>
<td>Input
</td>
<td>iy
</td>
<td>
<p>Input
</p><p>XYRange
</p>
</td>
<td> <center>&lt;active&gt;</center>
</td>
<td> Specify the input data range to get the markers.
</td></tr>
<tr>
<td>Beginning indices
</td>
<td>ob
</td>
<td>
<p>Input/Output
</p><p>vector
</p>
</td>
<td> <center>mksB</center>
</td>
<td> Specify the beginning indices of the data markers. The index is zero-based offset.
</td></tr>
<tr>
<td>Ending indices
</td>
<td>oe
</td>
<td>
<p>Input/Output
</p><p>vector
</p>
</td>
<td> <center>mksE</center>
</td>
<td> Specify the ending indices of the data markers. The index is zero-based offset.
</td></tr>
<tr>
<td>Sort by beginning indices
</td>
<td>sort
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>1</center>
</td>
<td> When the <b>Mode</b> is set to get markers, this variable is used to specify whether to sort the output by beginning indices ascendingly.
<p>Option list:
</p>
<ul><li><i>1</i>
<dl><dd>Sort the output indices.</dd></dl></li>
<li><i>0</i>
<dl><dd>Do not sort the output indices.</dd></dl></li></ul>
</td></tr>
<tr>
<td>Mode
</td>
<td>mode
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>0</center>
</td>
<td> This variable is used to set the operation mode, get markers or add markers.
<p>Option list:
</p>
<ul><li><i>get:Get Markers</i>
<dl><dd>Get markers, the output vectors are specified by variables <i>ob</i> and <i>oe</i>.</dd></dl></li>
<li><i>add:Add Markers</i>
<dl><dd>Add markers, the beginning and ending indices are given by <i>ob</i> and <i>oe</i> respectively.</dd></dl></li></ul>
</td></tr></table>
<h2><a name="Description"></a><span class="mw-headline">Description</span></h2>
<p>This X-Function is used to get or add data markers in data plot. The beginning and ending indices of the markers are stored in two vector variables separately. The values in the vectors with the same vector index means a set of marker. When getting data markers, it allows to sort the output by the beginning indices ascendingly.
</p>
<h2><a name="Examples"></a><span class="mw-headline">Examples</span></h2>
<pre class="lt" style="font-family:monospace;"><span style="color: #008000;">// The mks function retrieves the row indices of markers a user has added to a graph.</span>
<span style="color: #008000;">// These markers include those set with the Data Selector Tool and the Regional Data Selector Tool.</span>
<span style="color: #008000;">// Start with a new book of data and plot</span>
newbook;
col<span style="color: #000000;">&#40;</span><span style="color: #0000dd;">1</span><span style="color: #000000;">&#41;</span> <span style="color: #000080;">=</span> data<span style="color: #000000;">&#40;</span><span style="color: #0000dd;">1</span>,<span style="color: #0000dd;">30</span><span style="color: #000000;">&#41;</span>;
col<span style="color: #000000;">&#40;</span><span style="color: #0000dd;">2</span><span style="color: #000000;">&#41;</span> <span style="color: #000080;">=</span> uniform<span style="color: #000000;">&#40;</span><span style="color: #0000dd;">30</span><span style="color: #000000;">&#41;</span>;
plotxy iy<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #000000;">&#40;</span><span style="color: #0000dd;">1</span>,<span style="color: #0000dd;">2</span><span style="color: #000000;">&#41;</span> plot<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">201</span> color<span style="color: #000000;">:</span><span style="color: #000080;">=</span>color<span style="color: #000000;">&#40;</span>olive<span style="color: #000000;">&#41;</span> size<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">18</span>;
<span style="color: #008000;">// Run the Data Selector Tool</span>
<span style="color: #008000;">// You will need to position the markers and press Enter</span>
dotool <span style="color: #0000dd;">4</span>;

<span style="color: #008000;">// This macro will run when you press Enter</span>
def pointproc
<span style="color: #000000;">&#123;</span>
    doTool <span style="color: #0000dd;">0</span>;
    <span style="color: #008000;">// BEGIN STANDALONE HERE</span>
    dataset ID1, ID2;
    mks iy<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #000000;">&#91;</span><span style="color: #000080;">%</span>H<span style="color: #000000;">&#93;</span><span style="color: #0000dd;">1</span><span style="color: #000080;">!</span><span style="color: #0000dd;">1</span> ob<span style="color: #000000;">:</span><span style="color: #000080;">=</span>ID1 oe<span style="color: #000000;">:</span><span style="color: #000080;">=</span>ID2;
    get ID1 <span style="color: #000080;">-</span>e end;
    <span style="color: #000080;">%</span>Z <span style="color: #000080;">=</span> Data Markers <span style="color: #000000;">:</span>;
    loop<span style="color: #000000;">&#40;</span>ii,<span style="color: #0000dd;">1</span>,end<span style="color: #000000;">&#41;</span>
    <span style="color: #000000;">&#123;</span>
        <span style="color: #000080;">%</span>Z <span style="color: #000080;">=</span> <span style="color: #000080;">%</span>Z at <span style="color: #000080;">$</span><span style="color: #000000;">&#40;</span>ID1<span style="color: #000000;">&#91;</span>ii<span style="color: #000000;">&#93;</span><span style="color: #000080;">+</span><span style="color: #0000dd;">1</span><span style="color: #000000;">&#41;</span> to <span style="color: #000080;">$</span><span style="color: #000000;">&#40;</span>ID2<span style="color: #000000;">&#91;</span>ii<span style="color: #000000;">&#93;</span><span style="color: #000080;">+</span><span style="color: #0000dd;">1</span><span style="color: #000000;">&#41;</span>;
    <span style="color: #000000;">&#125;</span>
    type <span style="color: #000080;">-</span>b <span style="color: #000080;">%</span>Z;
    <span style="color: #008000;">// END STANDALONE HERE</span>
<span style="color: #000000;">&#125;</span>

<span style="color: #008000;">// Output instructions</span>
type <span style="color: #000080;">-</span>b Move the Data Markers to any point, then press Enter. <span style="color: #000080;">Click</span> OK to continue with selection;
<span style="color: #008000;">// NOTE&#160;: The row indices returned by the mks function are 0-based as in Origin C. </span>
<span style="color: #008000;">// Our code reports 1-based LabTalk values by adding 1.</span>
<span style="color: #008000;">// To try with Regional Data Selector Tool, select several ranges and copy and run the script indicated between STANDALONE above.</span></pre>
<hr class='keywordshr'><p><span class='keywords'>Keywords:</span><span class='keywordsInput'>sub range, data selection, subset</span></p>






