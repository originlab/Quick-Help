<h1 class="firstHeading">2.2.27 reducexy</h1><p><br />
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Menu_Information"><span class="tocnumber">1</span> <span class="toctext">Menu Information</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Brief_Information"><span class="tocnumber">2</span> <span class="toctext">Brief Information</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Additional_Information"><span class="tocnumber">3</span> <span class="toctext">Additional Information</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Command_Line_Usage"><span class="tocnumber">4</span> <span class="toctext">Command Line Usage</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#X-Function_Execution_Options"><span class="tocnumber">5</span> <span class="toctext">X-Function Execution Options</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Variables"><span class="tocnumber">6</span> <span class="toctext">Variables</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#Description"><span class="tocnumber">7</span> <span class="toctext">Description</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#Example"><span class="tocnumber">8</span> <span class="toctext">Example</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="#Related_X-Functions"><span class="tocnumber">9</span> <span class="toctext">Related X-Functions</span></a></li>
</ul>
</div>

<h2><a name="Menu_Information"></a><span class="mw-headline">Menu Information</span></h2>
<ul><li>When Workbook is active</li></ul>
<dl><dd><b>Worksheet: Reduce by Group</b></dd></dl>
<ul><li>When Graph is active</li></ul>
<dl><dd><b>Analysis: Data Manipulation: Reduce by Group</b></dd></dl>
<h2><a name="Brief_Information"></a><span class="mw-headline">Brief Information</span></h2>
<p>Reduce XY data using subgroup stats on X
</p>
<h2><a name="Additional_Information"></a><span class="mw-headline">Additional Information</span></h2>
<p class="version" >Minimum Origin Version Required:  8.1 SR0 </p>
<p>More options are introduced since 2015 SR0
</p>
<h2><a name="Command_Line_Usage"></a><span class="mw-headline">Command Line Usage</span></h2>
<p><code>
1. reducexy iy:=(col(A),col(B)) subgroup:=inc xincr:=0.5 xstats:=median ystats:=min;
</p><p>2. reducexy iy:=(col(A),col(B)) subgroup:=points points:=8 xstats:=ave ystats:=ave;
</code>
</p>
<h2><a name="X-Function_Execution_Options"></a><span class="mw-headline">X-Function Execution Options</span></h2>
<p><a class="external text" href="../../LabTalk/LabTalk/X-Function_Execution_Options.html">Please refer to the page for additional option switches when accessing the x-function from script</a>
</p>
<h2><a name="Variables"></a><span class="mw-headline">Variables</span></h2>
<table class="xfvar">
<tr>
<th width="8%">Display<br />Name
</th>
<th width="8%">Variable<br />Name
</th>
<th width="8%">I/O<br />and<br />Type
</th>
<th width="8%">Default<br />Value
</th>
<th>Description
</th></tr>
<tr>
<td>Input
</td>
<td>iy
</td>
<td>
<p>Input
</p><p>XYRange
</p>
</td>
<td> <center>&lt;active&gt;</center>
</td>
<td> Specifies the input data range.
</td></tr>
<tr>
<td>SubGroup Method
</td>
<td>subgroup
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>0</center>
</td>
<td> Specifies the method to divide the source data into subgroups. Then data points in each group will be merged into a single data point.
<p>Option list:
</p>
<ul><li><i>0=points:By Every N Points</i>
<dl><dd>Every N points in the source data is grouped into a subgroup. You can specify the value of N with the <b>points</b> variable.</dd></dl></li>
<li><i>1=groups:By Number of Groups</i>
<dl><dd>You specify a number <i>m</i> with the <b>groups</b> variable. Then the source data is divided into <i>m</i> groups.</dd></dl></li>
<li><i>2=inc:By X Increment</i>
<dl><dd>You specify an increment with the <b>xincr</b> variable. Then the X range of the source data is divided into sub-ranges according to the increment. Data points in each sub-range is grouped into a subgroup.</dd></dl></li>
<li><i>3=ref:By Reference Column(s)</i>
<dl><dd>You specify an increment with the <b>ref</b> variable. Then the source data is divided by the reference column</dd></dl></li></ul>
</td></tr>
<tr>
<td>Divide XY by
</td>
<td>divide
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>src</center>
</td>
<td> Available when <b>SubGroup Method(subgroup)</b> set to <i>By Number of Groups(roups)</i> and <i>By X Increment(inc)</i>. Determine how to divide input XY datasets into subgroups.
<p>Option list:
</p>
<ul><li><i>0=src:Source X</i> 
<dl><dd>Use the source X values to define subgroups. <b>X Start/X End</b> is only used to construct the output X range   </dd></dl></li>
<li><i>1=bin:Binning X</i>
<dl><dd>Use <b>X Start</b> as 1st subgroup starting to define subgroups.</dd></dl></li></ul>
<dl><dd>Please see below sample to see the difference of these two options:</dd>
<dd><a  class="image"><img alt="Reducexy divide example.png" src="../images/Reducexy/Reducexy_divide_example.png?v=84413" width="680"  /></a></dd></dl>
</td></tr>
<tr>
<td>N
</td>
<td>points
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>&lt;auto&gt;</center>
</td>
<td> This is only available when <b>By Every N Points</b> is selected in <b>SubGroup Method</b>. It specifies a number n. Then every n data points in the input range are merged into one data point.
</td></tr>
<tr>
<td>X Increment
</td>
<td>xincr
</td>
<td>
<p>Input
</p><p>double
</p>
</td>
<td> <center>&lt;auto&gt;</center>
</td>
<td> This is only available when <b>By X Increment</b> is selected in <b>SubGroup Method</b>. It specifies a value dx. Then the input data points are divided into several groups using dx so that for any two data points which belong to the same group, the difference in their X values cannot exceed dx. After grouping, each group of data points will be merged into one. When <i>xincr</i> is not specified,  its default  value is automatically calculated by the this equation: <i>xincr</i> = <i>end</i>-<i>start</i> / <i>nsize</i> * 5, where <i>nsize</i> is the number of input data points.
</td></tr>
<tr>
<td>Groups
</td>
<td>groups
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>&lt;auto&gt;</center>
</td>
<td> This is only available when <b>By Number of Groups</b> is selected in <b>SubGroup Method</b>. It specifies the number of groups.
</td></tr>
<tr>
<td>X Start
</td>
<td>start
</td>
<td>
<p>Input
</p><p>double
</p>
</td>
<td> <center>&lt;auto&gt;</center>
</td>
<td> Specifies the X value to start grouping.
</td></tr>
<tr>
<td>X End
</td>
<td>end
</td>
<td>
<p>Input
</p><p>double
</p>
</td>
<td> <center>&lt;auto&gt;</center>
</td>
<td> Specifies the X value to end grouping.
</td></tr>
<tr>
<td>Reference Column(s)
</td>
<td>ref
</td>
<td>
<p>Input
</p><p>Range
</p>
</td>
<td> <center>&lt;optional&gt;</center>
</td>
<td> Specifies the reference column(s), when SubGroup Method is set to <i>ref</i> By Reference Column(s).
</td></tr>
<tr>
<td>Merged X by
</td>
<td>xstats
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>0</center>
</td>
<td> Specifies the way to pick the X value of the output data point, into which a group of data points are merged.
<p>Option list:
</p>
<ul><li><i>ave:Average</i>
<dl><dd>The average of the X values of the data points in each group.</dd></dl></li>
<li><i>median:Median</i>
<dl><dd>The median of the X values of the data points in each group.</dd></dl></li>
<li><i>first:First in Subgroup</i>
<dl><dd>The X values of the first data point in each group.</dd></dl></li>
<li><i>last:Last in Subgroup</i>
<dl><dd>The X values of the last data point in each group.</dd></dl></li>
<li><i>xatminy:X of Min Y</i>
<dl><dd>The X value of the minimum Y value of each group.</dd></dl></li>
<li><i>xatmaxy:X of Max Y</i>
<dl><dd>The X value of the maximum Y value of each group.</dd></dl></li></ul>
<p>The next three items are available when <b>SubGroup Method</b> is <b>By X Increment</b> or <b>By Number of  Groups</b>.
</p>
<ul><li><i>begin:Subgroup Beginning</i>
<dl><dd>The beginning value in each subgroup.</dd></dl></li>
<li><i>center:Subgroup Center</i>
<dl><dd>The center value in each subgroup.</dd></dl></li>
<li><i>end:Subgroup End</i>
<dl><dd>The end value in each group.</dd></dl></li></ul>
</td></tr>
<tr>
<td>Merged Y by
</td>
<td>ystats
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>0</center>
</td>
<td> Specifies the way to pick the Y value of the output data point, into which a group of data points are merged.
<p>Option list:
</p>
<ul><li><i>ave:Average</i>
<dl><dd>The average of the Y values of the data points in each group.</dd></dl></li>
<li><i>min:Min</i></li></ul>
<dl><dd>The minimum of the Y values of the data points in each group.</dd></dl>
<ul><li><i>max:Max</i></li></ul>
<dl><dd>The maximum of the Y values of the data points in each group.</dd></dl>
<ul><li><i>median:Median</i>
<dl><dd>The median of the Y values of the data points in each group.</dd></dl></li>
<li><i>first:First in Subgroup</i>
<dl><dd>The Y values of the first data point in each group.</dd></dl></li>
<li><i>last:Last in Subgroup</i>
<dl><dd>The Y values of the last data point in each group.</dd></dl></li>
<li><i>sum:Sum</i>
<dl><dd>The sum of the Y values of the data points in each group.</dd></dl></li>
<li><i>sd:SD</i>
<dl><dd>The standard deviation of the Y values of the data points in each group.</dd></dl></li>
<li><i>se:SE</i>
<dl><dd>The standard error of the Y values of the data points in each group.</dd></dl></li>
<li><i>rms:RMS</i>
<dl><dd>The Root-Mean-Square of the Y values of the data points in each group.</dd></dl></li></ul>
</td></tr>
<tr>
<td>Output
</td>
<td>oy
</td>
<td>
<p>Output
</p><p>XYRange
</p>
</td>
<td> <center>&lt;new&gt;</center>
</td>
<td> Specifies the output range.
<p>See the syntax <a class="external text" href="../../XFunction/X-Function/Output_Notations.html">here</a>.
</p>
</td></tr>
<tr>
<td>Output Group Info
</td>
<td>rd
</td>
<td>
<p>Output
</p><p>ReportData
</p>
</td>
<td> <center>[&lt;same&gt;]&lt;same&gt;</center>
</td>
<td> When SubGroup Method is set to <i>ref</i> By Reference Column(s), you can use this option to output the group information from the reference columns
</td></tr></table>
<h2><a name="Description"></a><span class="mw-headline">Description</span></h2>
<p>This X-function allows you to reduce XY data based on X values. The X values are required to be monotonic.
</p><p>It provides multiple methods to group the data. After being grouped, each group of data points are merged into a single data point. You can specify the way to pick the X and Y values of the output data point.
</p>
<h2><a name="Example"></a><span class="mw-headline">Example</span></h2>
<p>There is a dataset whose X values are not evenly spaced, and you want to reduce the data according to the X values. The dataset contains 200 data points. If you perform the following steps, you will get 50 of them:
</p>
<ol><li>Start with a new book and click <b>Import Single ASCII</b> button <a  class="image"><img alt="Button Import Single ASCII.png" src="../images/Reducexy/Button_Import_Single_ASCII.png?v=8011" width="23"  /></a> and import file <b>\<i>Samples</i>\<i>Signal Processing</i>\<i>Convolution.dat</i></b>. </li>
<li>Highlight the data columns and then select <b>Plot: Symbol: Scatter</b> from the Origin menu to create a graph.
<dl><dd><a  class="image"><img alt="Reducexy111.png" src="../images/Reducexy/Reducexy111.png?v=77854" width="625"  /></a></dd></dl></li>
<li>Select <b>Analysis: Data Manipulation: Reduce by Group</b> from the main menu to open the dialog box of the reduceXY X-Function. </li>
<li>In the dialog box, select <b>By Number of Groups</b> with the <b>SubGroup Method</b> drop-down list. Then uncheck <b>Auto</b> checkbox to the right of <b>Groups</b> and enter <b>50</b> in the edit box.</li>
<li>Select <b>First in Subgroup</b> with the <b>Merged X by</b> drop-down list.</li>
<li>Select <b>Min</b> with the <b>Merged Y by</b> drop-down list.
<dl><dd><a  class="image"><img alt="Reducexy222.png" src="../images/Reducexy/Reducexy222.png?v=77859" width="480"  /></a></dd></dl></li>
<li>Click the <b>OK</b> button. The results are saved in the input worksheet next to the raw data. Highlight <b>X2</b> and <b>Y2</b> columns and then select <b>Plot: Symbol: Scatter</b> from the Origin menu to create a graph.
<dl><dd><a  class="image"><img alt="Reducexy333.png" src="../images/Reducexy/Reducexy333.png?v=77861" width="771"  /></a></dd></dl></li></ol>
<p>You can also use the following script command to reduce the data points: 
</p>
<pre class="lt" style="font-family:monospace;">reducexy <span style="color: #000080;">-</span>r <span style="color: #0000dd;">2</span> iy<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #000000;">&#91;</span>Book2<span style="color: #000000;">&#93;</span>Convolution<span style="color: #000080;">!</span><span style="color: #000000;">&#40;</span>col<span style="color: #000000;">&#40;</span>A<span style="color: #000000;">&#41;</span>,col<span style="color: #000000;">&#40;</span>B<span style="color: #000000;">&#41;</span><span style="color: #000000;">&#41;</span> subgroup<span style="color: #000000;">:</span><span style="color: #000080;">=</span>groups groups<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">50</span> xstats<span style="color: #000000;">:</span><span style="color: #000080;">=</span>first  ystats<span style="color: #000000;">:</span><span style="color: #000080;">=</span>min;</pre>
<h2><a name="Related_X-Functions"></a><span class="mw-headline">Related X-Functions</span></h2>
<p><a href="../../XFunction/X-Function/Stats.html" title="X-Function:Stats">stats</a>, <a href="../../XFunction/X-Function/Reducedup.html" title="X-Function:Reducedup">reducedup</a>, <a href="../../XFunction/X-Function/Xy_resample.html" title="X-Function:Xy resample">xy_resample</a>
</p>
<hr class='keywordshr'><p><span class='keywords'>Keywords:</span><span class='keywordsInput'>data reduction, average, mean, sum, minimum, maximum, statistics, binning</span></p>






