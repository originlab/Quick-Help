<h1 class="firstHeading">2.12.2 fitpeaks</h1><div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Brief_Information"><span class="tocnumber">1</span> <span class="toctext">Brief Information</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Additional_Information"><span class="tocnumber">2</span> <span class="toctext">Additional Information</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Command_Line_Usage"><span class="tocnumber">3</span> <span class="toctext">Command Line Usage</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#X-Function_Execution_Options"><span class="tocnumber">4</span> <span class="toctext">X-Function Execution Options</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Variables"><span class="tocnumber">5</span> <span class="toctext">Variables</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Description"><span class="tocnumber">6</span> <span class="toctext">Description</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#Examples"><span class="tocnumber">7</span> <span class="toctext">Examples</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#Algorithm"><span class="tocnumber">8</span> <span class="toctext">Algorithm</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="#Related_X-Functions"><span class="tocnumber">9</span> <span class="toctext">Related X-Functions</span></a></li>
</ul>
</div>

<h2><a name="Brief_Information"></a><span class="mw-headline">Brief Information</span></h2>
<p>Fit peaks by specifying peak centers on graph
</p>
<h2><a name="Additional_Information"></a><span class="mw-headline">Additional Information</span></h2>
<p><b>Minimum Origin Version Required</b>: 8.0 SR3
</p>
<h2><a name="Command_Line_Usage"></a><span class="mw-headline">Command Line Usage</span></h2>
<p><code>
1. fitpeaks 3 
</p><p>2. fitpeaks t:=lorentz np:=3;
</p><p>3. fitpeaks np:=4 iy:=col(3) 
</p><p>4. fitpeaks npeaks:=3 iy:=col(B) rt:=&lt;new name:=MyResult&gt;
</p><p></code>
</p>
<h2><a name="X-Function_Execution_Options"></a><span class="mw-headline">X-Function Execution Options</span></h2>
<p><a class="external text" href="../../LabTalk/LabTalk/X-Function_Execution_Options.html">Please refer to the page for additional option switches when accessing the x-function from script</a>
</p>
<h2><a name="Variables"></a><span class="mw-headline">Variables</span></h2>
<table class="xfvar">
<tr>
<th width="8%">Display<br />Name
</th>
<th width="8%">Variable<br />Name
</th>
<th width="8%">I/O<br />and<br />Type
</th>
<th width="8%">Default<br />Value
</th>
<th>Description
</th></tr>
<tr>
<td>Peak Type
</td>
<td>type
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>gauss</center>
</td>
<td> Specify the peak type.
<p>Option list:
</p>
<ul><li><i>gauss:Gaussian</i></li></ul>
<dl><dd>The peaks will be fitted with Gaussian function.</dd></dl>
<ul><li><i>lorentz:Lorentzian</i></li></ul>
<dl><dd>The peaks will be fitted with Lorentzian function.</dd></dl>
</td></tr>
<tr>
<td>Number of Peaks
</td>
<td>npeaks
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>2</center>
</td>
<td> Specify the number of the peaks.
</td></tr>
<tr>
<td>Input
</td>
<td>iy
</td>
<td>
<p>Input
</p><p>XYRange
</p>
</td>
<td> <center>&lt;active&gt;</center>
</td>
<td> Specify the input data.
</td></tr>
<tr>
<td>Report of Results
</td>
<td>rt
</td>
<td>
<p>Output
</p><p>ReportTree
</p>
</td>
<td> <center>[&lt;input&gt;]&lt;new&gt;</center>
</td>
<td> Specify the output report worksheet.
</td></tr>
<tr>
<td>Fitted Curves
</td>
<td>rd
</td>
<td>
<p>Output
</p><p>ReportData
</p>
</td>
<td> <center>[&lt;input&gt;]&lt;new&gt;</center>
</td>
<td> Specify the fitted data worksheet.
</td></tr>
<tr>
<td>Show Hint
</td>
<td>hint
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>1</center>
</td>
<td> Specify whether to show the hint dialog.
</td></tr></table>
<h2><a name="Description"></a><span class="mw-headline">Description</span></h2>
<p>The function performs fitting to data with multiple peaks. It allows you to specify the number of peaks, click to pick peak centers on graph window and then fit the peaks by Lorentzian or Gaussian functions.
</p><p>Please note that this dialog only supports two functions:  Gaussian and Lorentzian. For more flexible peak fitting, the Peak Analyzer should be used instead.
</p>
<h2><a name="Examples"></a><span class="mw-headline">Examples</span></h2>
<p>1.  Import the data \<i>Samples</i>\<i>Curve Fitting</i>\<i>Multiple Peaks.dat</i>.
</p><p>2.  Highlight column B and select <b>Plot &gt; Basic 2D: Line</b> from Origin menu to create a line plot. You can see that there are three peaks.
</p><p>3.  Select <b>Analysis: Peaks and Baseline: Fit Multiple Peaks</b> to bring up the dialog. Choose 3 with the <b>Number of Peaks</b> drop-down list and then click <b>OK</b>.
</p><p>4.  An attention dialog appears. Click <b>OK</b>. Then you can double click on the graph to determine the peak centers.
</p><p>5.  Origin asks you to enter a rough peak width value in the pop-up dialog. Accept the default value and click <b>OK</b> to perform the fitting.
</p>
<h2><a name="Algorithm"></a><span class="mw-headline">Algorithm</span></h2>
<p>The function performs multi-peaks fitting using Gaussian or Lorentzian function. The fitting is based on the non-linear curve fitting module in Origin. The multiple peaks were fitted as the accumulation of Gaussian or Lorentzian function:
</p>
<dl><dd><a  class="image"><img alt="Fitpeaks help English files image002.gif" src="../images/Fitpeaks/Fitpeaks_help_English_files_image002.gif?v=943" width="165"  /></a> (Gaussian)</dd></dl>
<dl><dd><a  class="image"><img alt="Fitpeaks help English files image004.gif" src="../images/Fitpeaks/Fitpeaks_help_English_files_image004.gif?v=944" width="179"  /></a> (Lorentzian)</dd></dl>
<h2><a name="Related_X-Functions"></a><span class="mw-headline">Related X-Functions</span></h2>
<p><a href="../../XFunction/X-Function/Blauto.html" title="X-Function:Blauto">blauto</a>, <a href="../../XFunction/X-Function/Pa.html" title="X-Function:Pa">pa</a>, <a href="../../XFunction/X-Function/PkFind.html" title="X-Function:PkFind">pkFind</a>, <a href="../../XFunction/X-Function/PaMultiY.html" title="X-Function:PaMultiY">PaMultiY</a>, <a href="../../XFunction/X-Function/NLfitpeaks.html" title="X-Function:NLfitpeaks">NLfitpeaks</a>
</p>
<hr class='keywordshr'><p><span class='keywords'>Keywords:</span><span class='keywordsInput'>spectrum, curve fitting</span></p>






