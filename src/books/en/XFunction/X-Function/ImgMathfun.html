<h1 class="firstHeading">2.6.3.3 imgMathfun(Pro)</h1><div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Menu_Information"><span class="tocnumber">1</span> <span class="toctext">Menu Information</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Brief_Information"><span class="tocnumber">2</span> <span class="toctext">Brief Information</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Additional_Information"><span class="tocnumber">3</span> <span class="toctext">Additional Information</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Command_Line_Usage"><span class="tocnumber">4</span> <span class="toctext">Command Line Usage</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#X-Function_Execution_Options"><span class="tocnumber">5</span> <span class="toctext">X-Function Execution Options</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Variables"><span class="tocnumber">6</span> <span class="toctext">Variables</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#Description"><span class="tocnumber">7</span> <span class="toctext">Description</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#Examples"><span class="tocnumber">8</span> <span class="toctext">Examples</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="#Algorithm"><span class="tocnumber">9</span> <span class="toctext">Algorithm</span></a></li>
<li class="toclevel-1 tocsection-10"><a href="#References"><span class="tocnumber">10</span> <span class="toctext">References</span></a></li>
<li class="toclevel-1 tocsection-11"><a href="#Related_X-Functions"><span class="tocnumber">11</span> <span class="toctext">Related X-Functions</span></a></li>
</ul>
</div>

<h2><a name="Menu_Information"></a><span class="mw-headline">Menu Information</span></h2>
<p>Image: Arithmetic Transform: Math Function
</p>
<h2><a name="Brief_Information"></a><span class="mw-headline">Brief Information</span></h2>
<p>Perform math on image pixel values
</p>
<h2><a name="Additional_Information"></a><span class="mw-headline">Additional Information</span></h2>
<p>This feature is for OriginPro only.
</p>
<h2><a name="Command_Line_Usage"></a><span class="mw-headline">Command Line Usage</span></h2>
<p><code>
</p><p>1. imgMathfun mf:=sqrt fact:=1.5;
</p><p>2. imgMathfun mf:=sin fact:=2 oimg:=mat(2);
</p><p>3. imgMathfun oimg:=&lt;new&gt;;
</p><p></code>
</p>
<h2><a name="X-Function_Execution_Options"></a><span class="mw-headline">X-Function Execution Options</span></h2>
<p><a class="external text" href="../../LabTalk/LabTalk/X-Function_Execution_Options.html">Please refer to the page for additional option switches when accessing the x-function from script</a>
</p>
<h2><a name="Variables"></a><span class="mw-headline">Variables</span></h2>
<table class="xfvar">
<tr>
<th width="8%">Display<br />Name
</th>
<th width="8%">Variable<br />Name
</th>
<th width="8%">I/O<br />and<br />Type
</th>
<th width="8%">Default<br />Value
</th>
<th>Description
</th></tr>
<tr>
<td>Input Matrix
</td>
<td>img
</td>
<td>
<p>Input
</p><p>Image
</p>
</td>
<td> <center>&lt;active&gt;</center>
</td>
<td>
<p>Specifies the input image. The default input is the active image.
</p>
</td></tr>
<tr>
<td>Function
</td>
<td>mf
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>sqr</center>
</td>
<td>
<p>Specifies the math function to apply.
<br />
Option list:
</p>
<ul><li><i>sqr:Square</i>
<dl><dd>Square the pixel values.</dd></dl></li>
<li><i>log:Log</i>
<dl><dd>Take the log of the pixel values</dd></dl></li>
<li><i>sqrt:Squarel Root</i>
<dl><dd>Take the square root of the pixel values.</dd></dl></li>
<li><i>sin:Sin</i>
<dl><dd>Take the sine of the pixel values.</dd></dl></li>
<li><i>cos:Cos</i>
<dl><dd>Take the cosine of the pixel values.</dd></dl></li></ul>
</td></tr>
<tr>
<td>Factor
</td>
<td>fact
</td>
<td>
<p>Input
</p><p>double
</p>
</td>
<td> <center>0.01</center>
</td>
<td>
<p>Specifies the factor. For Square, Log and Square Root operators, the output image will be multiplied by the factor after the math function applied, i.e., oimg = fact*Func(img); For sine and cosine operators, the factor is multiplied before math function applied, i.e.,  oimg = Func(fact*img).
</p>
</td></tr>
<tr>
<td>Output Image
</td>
<td>oimg
</td>
<td>
<p>Output
</p><p>Image
</p>
</td>
<td> <center>&lt;input&gt;</center>
</td>
<td>
<p>Specifies the output image. By default, the output image is the same as the input image.
</p><p>See the syntax <a class="external text" href="../../XFunction/X-Function/Output_Notations.html">here</a>.
</p>
</td></tr></table>
<h2><a name="Description"></a><span class="mw-headline">Description</span></h2>
<table class="noborder" width="90%">

<tr style="vertical-align:top">
<td>
<p>This function lets you apply a mathematical function to the pixel values of an image, allowing you to remap them so as to enhance or adjust the image. The model for the Math Function tool in OriginPro is as the following equation shows:
</p><p><img src="../images/ImgMathfun/math-41f215aba004932c9ee1f621394b247b.png?v=0" title="OutputImage = function(InputImage*factor)" alt="OutputImage = function(InputImage*factor)" class="tex"/>
</p><p>where the factor and function can be specified by the customer. Available functions include:
</p>
<dl><dd><ul><li>Square</li>
<li>Log</li>
<li>Square Root</li>
<li>Sine</li>
<li>Cosin</li></ul></dd></dl>
<p>For square, log and square root, a factor is multiplied after the mathematical function is applied while for sine and cosine, the pixel value is multiplied firstly before applying mathematical function.
</p>
</td>
<td>
<center><a  class="image"><img alt="MathFunSetting1.png" src="../images/ImgMathfun/MathFunSetting1.png?v=79776" width="273"  /></a></center>
</td></tr></table>
<h2><a name="Examples"></a><span class="mw-headline">Examples</span></h2>
<p>Below is an example where the Math Function tool has been used to apply the Cosine function with a factor of 30.
</p>
<ol><li> When the input image is active, select <b>Image: Arithmetic Transform: Math Function</b>. This opens the dialog of the X-Function.</li>
<li> In the X-Function dialog, change the settings as the screenshot below and click <b>OK</b> to close the dialog.<br /><a  class="image"><img alt="ImgMathfun help English files image002.jpg" src="../images/ImgMathfun/ImgMathfun_help_English_files_image002.jpg?v=1084" width="360"  /></a><br /> A new image is created as a result.</li></ol>
<dl><dd><table class="TableGrid" style="border: none; x-border-left: 1px table-solid; x-border-top: 1px table-solid; x-border-right: 1px table-solid; x-border-bottom: 1px table-solid; border-collapse: separate; border-spacing: 0px; border-spacing: 0px" border="1">
<tr>
<td>
<center><a  class="image"><img alt="ImgMathfun help English files image004.jpg" src="../images/ImgMathfun/ImgMathfun_help_English_files_image004.jpg?v=1085" width="261"  /></a></center>
</td>
<td>
<center><a  class="image"><img alt="ImgMathfun help English files image006.jpg" src="../images/ImgMathfun/ImgMathfun_help_English_files_image006.jpg?v=1086" width="262"  /></a></center>
</td></tr>
<tr>
<td>
<center>Input image</center>
</td>
<td>
<center>Output image</center>
</td></tr></table></dd></dl>
<p><br />
Note: OriginPro includes the ability to automatically recalculate the analysis result of the Math Function operation any time you change the parameters or update your source data. In addition, the settings for the analysis routine can be saved to an analysis theme for use later with similar data.
</p>
<h2><a name="Algorithm"></a><span class="mw-headline">Algorithm</span></h2>
<p>The computation mainly uses L_MathFunctionBitmap() function from LEADTOOLS Main API. Please refer to the LEADTOOLS Main API Help file, Version 14 and read the L_MathFunctionBitmap topic.
</p>
<h2><a name="References"></a><span class="mw-headline">References</span></h2>
<p>LEADTOOLS Main API Help file, Version 14
</p>
<h2><a name="Related_X-Functions"></a><span class="mw-headline">Related X-Functions</span></h2>
<p><a href="../../XFunction/X-Function/ImgPixlog.html" title="X-Function:ImgPixlog">imgPixlog</a>
</p>





