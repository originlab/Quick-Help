<h1 class="firstHeading">2.6.5.5 imgRotate</h1><div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Menu_Information"><span class="tocnumber">1</span> <span class="toctext">Menu Information</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Brief_Information"><span class="tocnumber">2</span> <span class="toctext">Brief Information</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Command_Line_Usage"><span class="tocnumber">3</span> <span class="toctext">Command Line Usage</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#X-Function_Execution_Options"><span class="tocnumber">4</span> <span class="toctext">X-Function Execution Options</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Variables"><span class="tocnumber">5</span> <span class="toctext">Variables</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Description"><span class="tocnumber">6</span> <span class="toctext">Description</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#Examples"><span class="tocnumber">7</span> <span class="toctext">Examples</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#Algorithm"><span class="tocnumber">8</span> <span class="toctext">Algorithm</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="#References"><span class="tocnumber">9</span> <span class="toctext">References</span></a></li>
<li class="toclevel-1 tocsection-10"><a href="#Related_X-Functions"><span class="tocnumber">10</span> <span class="toctext">Related X-Functions</span></a></li>
</ul>
</div>

<h2><a name="Menu_Information"></a><span class="mw-headline">Menu Information</span></h2>
<p>Rotate
</p>
<h2><a name="Brief_Information"></a><span class="mw-headline">Brief Information</span></h2>
<p>Rotate image by specified angle
</p>
<h2><a name="Command_Line_Usage"></a><span class="mw-headline">Command Line Usage</span></h2>
<pre>
1. imgRotate angle:=45 interpolate:=resample resize:=1 fill:=0; 
2. imgRotate angle:=30 resize:=0 img:=[Mbook1]Msheet1!Mat(1) oimg:=&lt;new&gt;;
</pre>
<h2><a name="X-Function_Execution_Options"></a><span class="mw-headline">X-Function Execution Options</span></h2>
<p><a class="external text" href="../../LabTalk/LabTalk/X-Function_Execution_Options.html">Please refer to the page for additional option switches when accessing the x-function from script</a>
</p>
<h2><a name="Variables"></a><span class="mw-headline">Variables</span></h2>
<table class="xfvar">
<tr>
<th width="8%">Display<br />Name
</th>
<th width="8%">Variable<br />Name
</th>
<th width="8%">I/O<br />and<br />Type
</th>
<th width="8%">Default<br />Value
</th>
<th>Description
</th></tr>
<tr>
<td>Angle
</td>
<td>angle
</td>
<td>
<p>Input
</p><p>double
</p>
</td>
<td> <center>0</center>
</td>
<td>
<p>Specifies the degree, by which the image is rotated. Valid range is from -180 to 180. A positive value will cause the image to be rotated clockwise, while a negative value will cause the image to be rotated counterclockwise.
</p>
</td></tr>
<tr>
<td>Input Matrix
</td>
<td>img
</td>
<td>
<p>Input
</p><p>Image
</p>
</td>
<td> <center>&lt;active&gt;</center>
</td>
<td>
<p>Specifies the image to be manipulated. The default input is the active image.
</p>
</td></tr>
<tr>
<td>Output Image
</td>
<td>oimg
</td>
<td>
<p>Output
</p><p>Image
</p>
</td>
<td> <center>&lt;input&gt;</center>
</td>
<td>
<p>Specifies the image to be manipulated. The default input is the active image.
See the syntax <a class="external text" href="../../XFunction/X-Function/Output_Notations.html">here</a>.
</p>
</td></tr>
<tr>
<td>Interpolate
</td>
<td>interpolate
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>none</center>
</td>
<td>
<p>Specifies whether to perform interpolation during rotation. If interpolation is to be performed, user can further specify to use either bilinear or bicubic interpolation.
</p><p>Option list
</p>
<ul><li><i>none :None</i></li></ul>
<dl><dd>Rotate the image without data interpolation.</dd></dl>
<ul><li><i>resample:Resample</i></li></ul>
<dl><dd>Perform rotation with a bilinear interpolation.</dd></dl>
<ul><li><i>bicubic:Bicubic</i></li></ul>
<dl><dd>Perform rotation with a bicubic interpolation.</dd></dl>
</td></tr>
<tr>
<td>Resize
</td>
<td>resize
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>0</center>
</td>
<td>
<p>Specifies whether to resize the rotated image to fit the output image. If the image is not resized, it might be cropped and only part of it can be seen.
</p>
</td></tr>
<tr>
<td>Fill Color
</td>
<td>fill
</td>
<td>
<p>Input
</p><p>int
</p>
</td>
<td> <center>0</center>
</td>
<td>
<p>Specifies a color from the Origin color list to be used to fill the background of the output image.
</p>
</td></tr></table>
<h2><a name="Description"></a><span class="mw-headline">Description</span></h2>
<p>This function allows user to rotate an image by a chosen degree. The rotation center is the center of the image. After rotation, the rotated image is either resized or cropped to fit the size of the output image.
</p><p>Degradation might occur when the image is rotated. However, you can compensate it with interpolation. Two interpolation methods are available. They are bilinear interpolation and bicubic interpolation. In general, bilinear interpolation tends to produce a smooth image while bicubic interpolation is apt to result in sharp image.
</p>
<table class="TableGrid" style="border: none; x-border-left: 1px table-solid; x-border-top: 1px table-solid; x-border-right: 1px table-solid; x-border-bottom: 1px table-solid; border-collapse: separate; border-spacing: 0px; border-spacing: 0px" border="1">
<tr>
<td>
<center><a  class="image"><img alt="ImgRotate help English files image002.jpg" src="../images/ImgRotate/ImgRotate_help_English_files_image002.jpg?v=1133" width="123"  /></a></center>
</td>
<td>
<center><a  class="image"><img alt="ImgRotate help English files image004.jpg" src="../images/ImgRotate/ImgRotate_help_English_files_image004.jpg?v=1134" width="123"  /></a></center>
</td>
<td>
<center><a  class="image"><img alt="ImgRotate help English files image006.jpg" src="../images/ImgRotate/ImgRotate_help_English_files_image006.jpg?v=1135" width="123"  /></a></center>
</td>
<td>
<center><a  class="image"><img alt="ImgRotate help English files image008.jpg" src="../images/ImgRotate/ImgRotate_help_English_files_image008.jpg?v=1136" width="123"  /></a></center>
</td></tr>
<tr>
<td>
<center>Original image</center>
</td>
<td>
<center>Rotated image without</center> 
<center>interpolation</center>
</td>
<td>
<center>Rotated image with</center> 
<center>bilinear interpolation</center>
</td>
<td>
<center>Rotated image with</center> 
<center>bicubic interpolation</center>
</td></tr></table>
<p><br />
</p><p>Rotated images usually have empty areas near each corner. User can choose a color to fill these areas.
</p>
<h2><a name="Examples"></a><span class="mw-headline">Examples</span></h2>
<ul><li> Code Sample</li></ul>
<pre class="lt" style="font-family:monospace;"><span style="color: #008000;">// Rotate image and trim empty areas</span>
<span style="color: #008000;">//Create a new folder in the Project Explorer</span>
pe_mkdir RotateTrim path<span style="color: #000000;">:</span><span style="color: #000080;">=</span>aa<span style="color: #000080;">$</span>;
pe_cd aa<span style="color: #000080;">$</span>;
<span style="color: #008000;">//Create a matrix and import an image into it</span>
window <span style="color: #000080;">-</span>t m;
fname<span style="color: #000080;">$</span> <span style="color: #000080;">=</span> System.<span style="color: #000080;">path</span>.<span style="color: #000080;">program</span><span style="color: #000080;">$</span> <span style="color: #000080;">+</span><span style="color: #ff00ff;">&quot;samples\Image Processing and Analysis\rice.bmp&quot;</span>;
impimage;
window <span style="color: #000080;">-</span>r <span style="color: #000080;">%</span>h Original;
matrix <span style="color: #000080;">-</span>pg DIM nCol1 nRow1;	 <span style="color: #008000;">//Get the dimension of the original iamge</span>
window <span style="color: #000080;">-</span>d;	<span style="color: #008000;">//Duplicate the image</span>
window <span style="color: #000080;">-</span>r <span style="color: #000080;">%</span>h Modified;

imgRotate angle<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">42</span>;
imgTrim t<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">17</span>;

matrix <span style="color: #000080;">-</span>pg DIM nCol2 nRow2; <span style="color: #008000;">//Get the dimension of the modified iamge</span>
window <span style="color: #000080;">-</span>s T;	<span style="color: #008000;">//Tile the windows horizontally</span>
<span style="color: #008000;">//Report</span>
window <span style="color: #000080;">-</span>n n Report;
old <span style="color: #000080;">=</span> type.<span style="color: #000080;">redirection</span>;
type.<span style="color: #000080;">redirection</span> <span style="color: #000080;">=</span> <span style="color: #0000dd;">2</span>;
type.<span style="color: #000080;">notes</span><span style="color: #000080;">$</span><span style="color: #000080;">=</span>Report;
type <span style="color: #ff00ff;">&quot;Dimension of the original image: &quot;</span>;
type <span style="color: #ff00ff;">&quot;   $(nCol1) * $(nRow1)\r\n&quot;</span>;
type <span style="color: #ff00ff;">&quot;Dimension of the modified image: &quot;</span>;
type <span style="color: #ff00ff;">&quot;   $(nCol2) * $(nRow2)\r\n&quot;</span>;
type.<span style="color: #000080;">redirection</span> <span style="color: #000080;">=</span> old;</pre>
<h2><a name="Algorithm"></a><span class="mw-headline">Algorithm</span></h2>
<p>The computation uses L_RotateBitmap() function from LEADTOOLS Main API. Please refer to the LEADTOOLS Main API Help file, Version 14 and read the L_RotateBitmap topic.
</p>
<h2><a name="References"></a><span class="mw-headline">References</span></h2>
<p>LEADTOOLS Main API Help file, Version 14
</p>
<h2><a name="Related_X-Functions"></a><span class="mw-headline">Related X-Functions</span></h2>
<p><a href="../../XFunction/X-Function/ImgCrop.html" title="X-Function:ImgCrop">imgCrop</a>, <a href="../../XFunction/X-Function/ImgResize.html" title="X-Function:ImgResize">imgResize</a>, <a href="../../XFunction/X-Function/ImgTrim.html" title="X-Function:ImgTrim">imgTrim</a>, <a href="../../XFunction/X-Function/ImgFlip.html" title="X-Function:ImgFlip">imgFlip</a>
</p>





