<h1 class="firstHeading">17.3.2.2 Algorithms (Two-Sample T-Test)</h1><p class='urlname' style='display: none'>tTest-TwoSample-Algorithm</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Test_Statistics"><span class="tocnumber">1</span> <span class="toctext">Test Statistics</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Confidence_Intervals"><span class="tocnumber">2</span> <span class="toctext">Confidence Intervals</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Power_Analysis"><span class="tocnumber">3</span> <span class="toctext">Power Analysis</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Reference"><span class="tocnumber">4</span> <span class="toctext">Reference</span></a></li>
</ul>
</div>

<p>The two sample t-test calculates a Student's <i>t</i> statistic and the associated probability to test whether or not the difference of the two sample means equals to <img src="../images/Algorithm_(TwoSampletTest)/math-12f3be74f7266e038bdf61eb68a6208c.png?v=0" title="\mu_d\,\!" alt="\mu_d\,\!" class="tex"/> (i.e. to test whether or not their means are equal, you can just test whether or not their difference is 0, <img src="../images/Algorithm_(TwoSampletTest)/math-590eba6400c9e4df07e0c234f91e4460.png?v=0" title="\mu_1-\mu_2=\mu_d=0\,\!" alt="\mu_1-\mu_2=\mu_d=0\,\!" class="tex"/> ). And the hypotheses take the form:
</p><p><img src="../images/Algorithm_(TwoSampletTest)/math-f67a81ef315f0c59070ef53cb50b3932.png?v=0" title="H_0:\mu_1-\mu_2=\mu_d\,\!" alt="H_0:\mu_1-\mu_2=\mu_d\,\!" class="tex"/>  vs  <img src="../images/Algorithm_(TwoSampletTest)/math-5c09300d675833793616502094acaa0f.png?v=0" title="H_1:\mu_1-\mu_2 \ne \mu_d" alt="H_1:\mu_1-\mu_2 \ne \mu_d" class="tex"/>  <i>Two Tailed</i>
</p><p><img src="../images/Algorithm_(TwoSampletTest)/math-1fc800dcea3acfe50f9e90c310b1174a.png?v=0" title="H_0:\mu_1-\mu_2 \le \mu_d" alt="H_0:\mu_1-\mu_2 \le \mu_d" class="tex"/>  vs  <img src="../images/Algorithm_(TwoSampletTest)/math-0fbc9ae55928f128a94afcf65c2c2e39.png?v=0" title="H_1:\mu_1-\mu_2 &gt; \mu_d" alt="H_1:\mu_1-\mu_2 &gt; \mu_d" class="tex"/>  <i>Upper Tailed</i>
</p><p><img src="../images/Algorithm_(TwoSampletTest)/math-8d8812a65564ffde40d299d450d3de7f.png?v=0" title="H_0:\mu_1-\mu_2 \ge \mu_d" alt="H_0:\mu_1-\mu_2 \ge \mu_d" class="tex"/>  vs  <img src="../images/Algorithm_(TwoSampletTest)/math-9a968e5033dd7110b7973529fa35c85d.png?v=0" title="H_1:\mu_1-\mu_2 &lt; \mu_d" alt="H_1:\mu_1-\mu_2 &lt; \mu_d" class="tex"/>   <i>Lower Tailed</i>
</p>
<h3><a name="Test_Statistics"></a><span class="mw-headline">Test Statistics</span></h3>
<p>Consider two independent samples<img src="../images/Algorithm_(TwoSampletTest)/math-d60f5062564e1ece65993038b62484fa.png?v=0" title="x_1\,\!" alt="x_1\,\!" class="tex"/>and<img src="../images/Algorithm_(TwoSampletTest)/math-9defdb27049cde0b5bdfd4e762a02d6b.png?v=0" title="x_2\,\!" alt="x_2\,\!" class="tex"/>, of size <img src="../images/Algorithm_(TwoSampletTest)/math-8d88a43872d6db6535d8672a15f09ce2.png?v=0" title="n_1\,\!" alt="n_1\,\!" class="tex"/> and <img src="../images/Algorithm_(TwoSampletTest)/math-2f6fac59fce80e76d698bcf5ea77bab6.png?v=0" title="n_2\,\!" alt="n_2\,\!" class="tex"/> drawn from two normal population with means <img src="../images/Algorithm_(TwoSampletTest)/math-4ed789d5f6cd3fea302e306da621cb83.png?v=0" title="\mu_1\,\!" alt="\mu_1\,\!" class="tex"/> and <img src="../images/Algorithm_(TwoSampletTest)/math-917bb8defee48f460766703f23fc0822.png?v=0" title="\mu_2\,\!" alt="\mu_2\,\!" class="tex"/>, and variances <img src="../images/Algorithm_(TwoSampletTest)/math-0c153418ac24896b413d1c3c8ad3e95c.png?v=0" title="\sigma_1^2\,\!" alt="\sigma_1^2\,\!" class="tex"/> and <img src="../images/Algorithm_(TwoSampletTest)/math-f94e0c3605e0ebe3aa890455f27416e5.png?v=0" title="\sigma_2^2\,\!" alt="\sigma_2^2\,\!" class="tex"/> respectively, we have:
</p><p><img src="../images/Algorithm_(TwoSampletTest)/math-6dc73b5670604b65621d1ad70209c678.png?v=0" title="\bar{x}_1=\frac{1}{n_1}\sum_{j=1}^{n_1}x_{1j}" alt="\bar{x}_1=\frac{1}{n_1}\sum_{j=1}^{n_1}x_{1j}" class="tex"/>, <img src="../images/Algorithm_(TwoSampletTest)/math-06a309ba82fba50c69561e78b4ffdf7f.png?v=0" title="\bar{x}_2=\frac{1}{n_2}\sum_{j=1}^{n_2}x_{2j}" alt="\bar{x}_2=\frac{1}{n_2}\sum_{j=1}^{n_2}x_{2j}" class="tex"/>,
<img src="../images/Algorithm_(TwoSampletTest)/math-06931d63b90e0e6a6d7d81d64e149e48.png?v=0" title="s_1^2=\frac{1}{n_1-1}\sum_{j=1}^{n_1}{(x_{1j}-\bar{x}_1)^2}" alt="s_1^2=\frac{1}{n_1-1}\sum_{j=1}^{n_1}{(x_{1j}-\bar{x}_1)^2}" class="tex"/>, <img src="../images/Algorithm_(TwoSampletTest)/math-1ea85773f946cf6770cf4f76022e133d.png?v=0" title="s_2^2=\frac{1}{n_2-1}\sum_{j=1}^{n_2}{(x_{2j}-\bar{x}_2)^2}" alt="s_2^2=\frac{1}{n_2-1}\sum_{j=1}^{n_2}{(x_{2j}-\bar{x}_2)^2}" class="tex"/>
</p><p>where <img src="../images/Algorithm_(TwoSampletTest)/math-875d0b783f9b167155a8f54a2c3f9e6a.png?v=0" title="\bar{x}_1\,\!" alt="\bar{x}_1\,\!" class="tex"/>and<img src="../images/Algorithm_(TwoSampletTest)/math-68dc9b353bc272e9d32196f5e30bff4e.png?v=0" title="\bar{x}_2\,\!" alt="\bar{x}_2\,\!" class="tex"/> are sample means and <img src="../images/Algorithm_(TwoSampletTest)/math-f963d3c66aa9a89e64a6db3d0dd63351.png?v=0" title="s_1^2\,\!" alt="s_1^2\,\!" class="tex"/> and <img src="../images/Algorithm_(TwoSampletTest)/math-8a65733320d52c6da4efeeb5888dba00.png?v=0" title="s_2^2\,\!" alt="s_2^2\,\!" class="tex"/> are sample variances. Then we can compute the t test statistic by:
</p><p>For equal variance is assumed, that is <img src="../images/Algorithm_(TwoSampletTest)/math-3728dc0e9ed8d4ea6c77089a7c1bb2fb.png?v=0" title="\sigma_1^2=\sigma_2^2\,\!" alt="\sigma_1^2=\sigma_2^2\,\!" class="tex"/>:
</p><p>In this case the test statistic <i>t</i>:
</p><p><img src="../images/Algorithm_(TwoSampletTest)/math-8992dd1682d9d05a300c39478ada35f5.png?v=0" title="t=\frac{(\bar{x}_1-\bar{x}_2)-\mu_d}{s_p\sqrt{(1/n_1+1/n_2)}}" alt="t=\frac{(\bar{x}_1-\bar{x}_2)-\mu_d}{s_p\sqrt{(1/n_1+1/n_2)}}" class="tex"/>
</p><p>has a t-distribution with <img src="../images/Algorithm_(TwoSampletTest)/math-6350a1d09d381cb5b9c2420a49cec064.png?v=0" title="(v = n_1+n_2-2)" alt="(v = n_1+n_2-2)" class="tex"/> degrees of freedom and
</p><p><img src="../images/Algorithm_(TwoSampletTest)/math-49682ab10edeb0f5ed248d7195b85d78.png?v=0" title="s_p=\sqrt{\frac{(n_1-1)s_1^2+(n_2-1)s_2^2}{n_1+n_2-2}}" alt="s_p=\sqrt{\frac{(n_1-1)s_1^2+(n_2-1)s_2^2}{n_1+n_2-2}}" class="tex"/>
</p><p>is the pooled variance of the two samples.
</p><p>For equal variance is not assumed:
</p><p>In this case the usual two sample <i>t</i>-statistic no longer has a <i>t</i>-distribution and an approximate test statistic, <i>t'</i>is used:
</p><p><img src="../images/Algorithm_(TwoSampletTest)/math-2f3931fdb28db4a39f9b7140cc965c81.png?v=0" title="t&#39;=\frac{(\bar{x}_1-\bar{x}_2)-\mu_d}{\sqrt{\frac{s_1^2}{n_1}+\frac{s_2^2}{n_2}}}" alt="t&#39;=\frac{(\bar{x}_1-\bar{x}_2)-\mu_d}{\sqrt{\frac{s_1^2}{n_1}+\frac{s_2^2}{n_2}}}" class="tex"/>
</p><p>And a <i>t</i>-distribution with <i>v</i> degrees of freedom is used to approximate the distribution of <i>t'</i>where
</p><p><img src="../images/Algorithm_(TwoSampletTest)/math-fdd079fbba82fc1bb066171f062bab57.png?v=0" title="v=\frac{(s_1^2/n_1+s_2^2/n_2)^2}{\frac{(s_1^2/n_1)^2}{n_1-1}+\frac{(s_2^2/n_2)^2}{n_2-1}}" alt="v=\frac{(s_1^2/n_1+s_2^2/n_2)^2}{\frac{(s_1^2/n_1)^2}{n_1-1}+\frac{(s_2^2/n_2)^2}{n_2-1}}" class="tex"/>
</p><p>Then compare the <i>t</i> value with the critical value and we will reject <img src="../images/Algorithm_(TwoSampletTest)/math-806277203dedea2ed8321f6cbd465a54.png?v=0" title="H_0\,\!" alt="H_0\,\!" class="tex"/> if:
</p><p>Two tailed test:  <img src="../images/Algorithm_(TwoSampletTest)/math-dc78eff8d710d926c9d712cebdb408d0.png?v=0" title="|t| &gt; t_{\sigma/2}\,\!" alt="|t| &gt; t_{\sigma/2}\,\!" class="tex"/>;
</p><p>Upper tailed test: <img src="../images/Algorithm_(TwoSampletTest)/math-b3c71dc9421063ffaf6de1641540a5d5.png?v=0" title="t &gt; t_\sigma\,\!" alt="t &gt; t_\sigma\,\!" class="tex"/>;
</p><p>Lower tailed test: <img src="../images/Algorithm_(TwoSampletTest)/math-b3c0361ff553afb248a469861134f399.png?v=0" title="t &lt; -t_\sigma\,\!" alt="t &lt; -t_\sigma\,\!" class="tex"/>;
</p><p>The <i>p</i>-value will also be compared with a user-defined significance level,<img src="../images/Algorithm_(TwoSampletTest)/math-3ac6004d77c0cc0055e95c99b9dfd7e0.png?v=0" title="\sigma\,\!" alt="\sigma\,\!" class="tex"/>, which commonly 0.05 is used. And the null hypothesis <img src="../images/Algorithm_(TwoSampletTest)/math-806277203dedea2ed8321f6cbd465a54.png?v=0" title="H_0\,\!" alt="H_0\,\!" class="tex"/> will be rejected if <img src="../images/Algorithm_(TwoSampletTest)/math-350fad5bdd3c28b92d7b6a076336a463.png?v=0" title="p &lt; \mu\,\!" alt="p &lt; \mu\,\!" class="tex"/>.
</p>
<h3><a name="Confidence_Intervals"></a><span class="mw-headline">Confidence Intervals</span></h3>
<p>The upper and lower <img src="../images/Algorithm_(TwoSampletTest)/math-45828455265148a331fe94e5c5175f93.png?v=0" title="(1-\sigma )\times 100\%" alt="(1-\sigma )\times 100\%" class="tex"/> confident limits for mean difference <img src="../images/Algorithm_(TwoSampletTest)/math-32a17f0051e09406b2f689fa5f0bb2c5.png?v=0" title="(\mu_1 - \mu_2)\,\!" alt="(\mu_1 - \mu_2)\,\!" class="tex"/> are calculated as:
</p><p>For equal variance is assumed:
</p>
<table class="simple">
<tr>
<th>Null Hypothesis
</th>
<th>Confidence Interval
</th></tr>
<tr>
<td><img src="../images/Algorithm_(TwoSampletTest)/math-f67a81ef315f0c59070ef53cb50b3932.png?v=0" title="H_0:\mu_1-\mu_2=\mu_d\,\!" alt="H_0:\mu_1-\mu_2=\mu_d\,\!" class="tex"/>
</td>
<td><img src="../images/Algorithm_(TwoSampletTest)/math-35e508ffa325356798bfeb78b55c5162.png?v=0" title="\left[(\bar{x}_1-\bar{x}_2)- t_{\alpha/2}s_p\sqrt{\frac{1}{n_1}+\frac{1}{n_2}}, (\bar{x}_1-\bar{x}_2)+ t_{\alpha/2}s_p\sqrt{\frac{1}{n_1}+\frac{1}{n_2}}\right]" alt="\left[(\bar{x}_1-\bar{x}_2)- t_{\alpha/2}s_p\sqrt{\frac{1}{n_1}+\frac{1}{n_2}}, (\bar{x}_1-\bar{x}_2)+ t_{\alpha/2}s_p\sqrt{\frac{1}{n_1}+\frac{1}{n_2}}\right]" class="tex"/>
</td></tr>
<tr>
<td><img src="../images/Algorithm_(TwoSampletTest)/math-1fc800dcea3acfe50f9e90c310b1174a.png?v=0" title="H_0:\mu_1-\mu_2 \le \mu_d" alt="H_0:\mu_1-\mu_2 \le \mu_d" class="tex"/>
</td>
<td><img src="../images/Algorithm_(TwoSampletTest)/math-438038a816d1733a3f4947f61e539c61.png?v=0" title="\left[(\bar{x}_1-\bar{x}_2)- t_{\alpha}s_p\sqrt{\frac{1}{n_1}+\frac{1}{n_2}},  \infty\right]" alt="\left[(\bar{x}_1-\bar{x}_2)- t_{\alpha}s_p\sqrt{\frac{1}{n_1}+\frac{1}{n_2}},  \infty\right]" class="tex"/>
</td></tr>
<tr>
<td><img src="../images/Algorithm_(TwoSampletTest)/math-8d8812a65564ffde40d299d450d3de7f.png?v=0" title="H_0:\mu_1-\mu_2 \ge \mu_d" alt="H_0:\mu_1-\mu_2 \ge \mu_d" class="tex"/>
</td>
<td> <img src="../images/Algorithm_(TwoSampletTest)/math-043e91f03e23cf4cb47273b881ee6f02.png?v=0" title="\left[-\infty, (\bar{x}_1-\bar{x}_2)+ t_{\alpha}s_p\sqrt{\frac{1}{n_1}+\frac{1}{n_2}}\right]" alt="\left[-\infty, (\bar{x}_1-\bar{x}_2)+ t_{\alpha}s_p\sqrt{\frac{1}{n_1}+\frac{1}{n_2}}\right]" class="tex"/>
</td></tr></table>
<p>For equal variance is not assumed:
</p>
<table class="simple">
<tr>
<th>Null Hypothesis
</th>
<th>Confidence Interval
</th></tr>
<tr>
<td><img src="../images/Algorithm_(TwoSampletTest)/math-f67a81ef315f0c59070ef53cb50b3932.png?v=0" title="H_0:\mu_1-\mu_2=\mu_d\,\!" alt="H_0:\mu_1-\mu_2=\mu_d\,\!" class="tex"/>
</td>
<td><img src="../images/Algorithm_(TwoSampletTest)/math-1dc3a8412c3e70c868d0def30834cdfd.png?v=0" title="\left[(\bar{x}_1-\bar{x}_2)- t_{\alpha/2}\sqrt{\frac{s_1^2}{n_1}+\frac{s_2^2}{n_2}}, (\bar{x}_1-\bar{x}_2)+ t_{\alpha/2}\sqrt{\frac{s_1^2}{n_1}+\frac{s_2^2}{n_2}}\right]" alt="\left[(\bar{x}_1-\bar{x}_2)- t_{\alpha/2}\sqrt{\frac{s_1^2}{n_1}+\frac{s_2^2}{n_2}}, (\bar{x}_1-\bar{x}_2)+ t_{\alpha/2}\sqrt{\frac{s_1^2}{n_1}+\frac{s_2^2}{n_2}}\right]" class="tex"/>
</td></tr>
<tr>
<td><img src="../images/Algorithm_(TwoSampletTest)/math-1fc800dcea3acfe50f9e90c310b1174a.png?v=0" title="H_0:\mu_1-\mu_2 \le \mu_d" alt="H_0:\mu_1-\mu_2 \le \mu_d" class="tex"/>
</td>
<td> <img src="../images/Algorithm_(TwoSampletTest)/math-6317c80637d203c8b436ce4d361f825c.png?v=0" title="\left[(\bar{x}_1-\bar{x}_2)- t_{\alpha}\sqrt{\frac{s_1^2}{n_1}+\frac{s_2^2}{n_2}}, \infty\right]" alt="\left[(\bar{x}_1-\bar{x}_2)- t_{\alpha}\sqrt{\frac{s_1^2}{n_1}+\frac{s_2^2}{n_2}}, \infty\right]" class="tex"/>
</td></tr>
<tr>
<td><img src="../images/Algorithm_(TwoSampletTest)/math-8d8812a65564ffde40d299d450d3de7f.png?v=0" title="H_0:\mu_1-\mu_2 \ge \mu_d" alt="H_0:\mu_1-\mu_2 \ge \mu_d" class="tex"/>
</td>
<td> <img src="../images/Algorithm_(TwoSampletTest)/math-39eb7689ff8eaf4fc97f74a82869d201.png?v=0" title="\left[-\infty, (\bar{x}_1-\bar{x}_2)+ t_{\alpha}\sqrt{\frac{s_1^2}{n_1}+\frac{s_2^2}{n_2}}\right]" alt="\left[-\infty, (\bar{x}_1-\bar{x}_2)+ t_{\alpha}\sqrt{\frac{s_1^2}{n_1}+\frac{s_2^2}{n_2}}\right]" class="tex"/>
</td></tr></table>
<p><br />
where <img src="../images/Algorithm_(TwoSampletTest)/math-f1004b741c7a8310ad2a3b7c0d726855.png?v=0" title="t_{\sigma/2}\,\!" alt="t_{\sigma/2}\,\!" class="tex"/> is the critical value of the t-distribution with <i>v</i> degrees of freedom.
</p>
<h3><a name="Power_Analysis"></a><span class="mw-headline">Power Analysis</span></h3>
<p>The power of a two sample <i>t</i>-test is a measurement of its sensitivity. Detail algorithm about calculating power please read the help of <a href="../../UserGuide/Category/Power_and_Sample_Size_(OriginPro_Only).html" title="Category:Power and Sample Size (OriginPro Only)">Power and Sample Size</a>. 
</p>
<h3><a name="Reference"></a><span class="mw-headline">Reference</span></h3>
<p>The two-sample t-test is implemented with a Nag function, <a class="external text" href="http://www.originlab.com/pdfs/nagcl09/manual/pdf/g07/g07cac.pdf" target="_blank">nag_2_sample_t_test (g07cac)</a>. Please refer to the corresponding Nag document for more details on the algorithm.
</p>





