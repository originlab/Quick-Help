<h1 class="firstHeading">15.3.4.1 User-Defined Fitting Functions</h1><p class='urlname' style='display: none'>UserDef-FitFunc</p>
<p><br />
</p>
<div style="text-align: left; direction: ltr; margin-left: 1em;"><p><a  class="image"><img alt="Video Image.png" src="../images/User-Defined_Fitting_Functions/Video_Image.png?v=29468" width="33"  /></a> See more related video:<a class="external text" href="http://www.originlab.com/index.aspx?go=Products/Origin/DataAnalysis/CurveFitting/FittingFunctions&amp;ss=chm&amp;pid=1172" target="_blank">User-Defined Fitting Functions</a>
</p></div>
<p>In Origin, besides the built-in fitting functions, you also can define your own fitting functions with the tools:
</p>
<ul><li> <a class="external text" href="http://originlab.com/fileExchange/details.aspx?fid=239" target="_blank"><b>Simple Fit</b> app</a>
<dl><dd> <b>Simple Fit</b> app is an app pre-installed in Origin, can be called easily from the <a class="external text" href="../../UserGuide/UserGuide/Apps.html#The_Apps_Gallery"><b>App Gallery</b></a> with a graph window activated. This app provides a very convenient way to fit simple functions with the expression <b>y = f(x)</b>, you only need to type your formula(or select an existing function), specify the initial values and then generate fitting reports immediately.</dd>
<dd><a  class="image"><img alt="Define Function Using Simple Fit App.png" src="../images/User-Defined_Fitting_Functions/800px-Define_Function_Using_Simple_Fit_App.png?v=89698" width="800"   /></a></dd></dl></li>
<li> <a href="../../UserGuide/UserGuide/The_Fitting_Function_Organizer_Dialog_Box.html" title="UserGuide:The Fitting Function Organizer Dialog Box"><b>Fitting Function Organizer</b></a> </li>
<li> <a href="../../UserGuide/Category/The_Fitting_Function_Builder.html" title="Category:The Fitting Function Builder"><b>Fitting Function Builder</b></a></li></ul>
<p><br />
This page will generally introduce how to use the <a href="../../UserGuide/Category/The_Fitting_Function_Builder.html" title="Category:The Fitting Function Builder"><b>Fitting Function Builder</b></a>, a friendly and easily used wizard, to create user-defined fitting functions. The wizard contains 8 different pages: <a href="../../UserGuide/UserGuide/The_Goal_Page.html" title="UserGuide:The Goal Page">Goal page</a>, <a href="../../UserGuide/UserGuide/The_Name_and_Type_Page.html" title="UserGuide:The Name and Type Page">Name and Type page</a>, <a href="../../UserGuide/UserGuide/The_Variables_and_Parameters_Page.html" title="UserGuide:The Variables and Parameters Page">Variables and Parameters page</a>, <a href="../../UserGuide/UserGuide/The_Function_Body_Page.html" title="UserGuide:The Function Body Page">Function Body page</a>, <a href="../../UserGuide/UserGuide/The_Parameter_Initialization_Code_Page.html" title="UserGuide:The Parameter Initialization Code Page">Parameter Initialization Code page</a>, <a href="../../UserGuide/UserGuide/The_Bounds_and_General_Linear_Constrains_Page.html" title="UserGuide:The Bounds and General Linear Constrains Page">Bounds and General Linear Constrains page</a>, <a href="../../UserGuide/UserGuide/The_Derived_Parameters.html" title="UserGuide:The Derived Parameters">Derived Parameters page</a> and <a href="../../UserGuide/UserGuide/The_Script_Before_Or_After_Fitting_Page.html" title="UserGuide:The Script Before Or After Fitting Page">Script Before or After Fitting page</a>. For the first 4 pages, you must perform some settings in them or you can not go to the next page. After you have performed the settings in the 4th page, the <b>Function Body</b> page, you could directly finish the process of creating function. Or you could continue to set the functions with the last 4 pages. 
</p><p>The <b>Fitting Function Builder</b> is a wizard with very useful hints and examples in the left panel of each page, so it is very easy to learn and use. If you know what you can do in each page of the wizard, then you will clearly know how to create a fitting function with it. In the left page, we will give general steps to create user-defined fitting function and show you what we can do in each page. You can also get a step-by-step tutorial from <a href="../../UserGuide/UserGuide/A_Simple_Example_to_Show_You_How_to_Create_A_New_Fitting_Function_with_The_Fitting_Function_Builder.html" title="UserGuide:A Simple Example to Show You How to Create A New Fitting Function with The Fitting Function Builder"><b>here</b></a>. And please note that for each new created function, Origin will create an associated .FDF in the \FitFunc folder of your Origin <a href="../../UserGuide/UserGuide/The_User_Files_Folder.html" title="UserGuide:The User Files Folder">User Files Folder</a>. Once the function has been created, it can be used in the dialog of the Nonlinear Fitter.
</p>
<dl><dd><a  class="image"><img alt="Ffb home 1.png" src="../images/User-Defined_Fitting_Functions/Ffb_home_1.png?v=88595" width="799"  /></a></dd></dl>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#General_Steps_to_Create_a_New_Fitting_Function"><span class="tocnumber">1</span> <span class="toctext">General Steps to Create a New Fitting Function</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Opening_the_Fitting_Function_Builder"><span class="tocnumber">2</span> <span class="toctext">Opening the Fitting Function Builder</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#What_You_Can_Do_in_the_Goal_Page"><span class="tocnumber">3</span> <span class="toctext">What You Can Do in the <i>Goal</i> Page</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#What_You_Can_Do_in_the_Name_and_Type_Page"><span class="tocnumber">4</span> <span class="toctext">What You Can Do in the <i>Name and Type</i> Page</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="#Create_a_Function_Category"><span class="tocnumber">4.1</span> <span class="toctext">Create a Function Category</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Choose_a_Function_Type"><span class="tocnumber">4.2</span> <span class="toctext">Choose a Function Type</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-7"><a href="#What_You_Can_Do_in_the_Variables_and_Parameters_Page"><span class="tocnumber">5</span> <span class="toctext">What You Can Do in the <i>Variables and Parameters</i> Page</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#What_You_Can_Do_in_the_Function_Body_Page"><span class="tocnumber">6</span> <span class="toctext">What You Can Do in the <i>Function Body</i> Page</span></a>
<ul>
<li class="toclevel-2 tocsection-9"><a href="#Input_Function_Body"><span class="tocnumber">6.1</span> <span class="toctext">Input Function Body</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Editing_the_Function_in_Code_Builder"><span class="tocnumber">6.2</span> <span class="toctext">Editing the Function in Code Builder</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Evaluate_the_Function"><span class="tocnumber">6.3</span> <span class="toctext">Evaluate the Function</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-12"><a href="#What_You_Can_Do_in_the_Parameter_Initialization_Code_Page"><span class="tocnumber">7</span> <span class="toctext">What You Can Do in the <i>Parameter Initialization Code</i> Page</span></a></li>
<li class="toclevel-1 tocsection-13"><a href="#What_You_Can_Do_in_the_Bounds_and_General_Linear_Constrains_Page"><span class="tocnumber">8</span> <span class="toctext">What You Can Do in the <i>Bounds and General Linear Constrains</i> Page</span></a></li>
<li class="toclevel-1 tocsection-14"><a href="#What_You_Can_Do_in_the_Derived_Parameters_Page"><span class="tocnumber">9</span> <span class="toctext">What You Can Do in the <i>Derived Parameters</i> Page</span></a></li>
<li class="toclevel-1 tocsection-15"><a href="#What_You_Can_Do_in_the_Script_Before_or_After_Fitting_Page"><span class="tocnumber">10</span> <span class="toctext">What You Can Do in the <i>Script Before or After Fitting</i> Page</span></a></li>
</ul>
</div>

<h2><a name="General_Steps_to_Create_a_New_Fitting_Function"></a><span class="mw-headline">General Steps to Create a New Fitting Function</span></h2>
<p>The following is the general steps to create a fitting function. You can get a step-by-step tutorial from <a href="../../UserGuide/UserGuide/A_Simple_Example_to_Show_You_How_to_Create_A_New_Fitting_Function_with_The_Fitting_Function_Builder.html" title="UserGuide:A Simple Example to Show You How to Create A New Fitting Function with The Fitting Function Builder"><b>here</b></a>.
</p>
<ol>
<li>Open the <b>Fitting Function Builder</b> and select <b>Create a New Function</b> in the first page - the <b>Goal</b> page. And click the <b>Next</b> button to go to the <b>Name and Type</b> page.</li>
<li>In the <b>Name and Type</b> page, select/ create a category for the new function  and enter the name of your function in the <b>Function Name</b> edit box.  Optionally, you can add comments to the <b>Description</b> edit box. You also need to choose an appropriate <b>Function Type</b> according to your real situation. Click the Next button to go to the <b>Variables and Parameters</b> page.
<table class="noborder"><tr>
	<td style="vertical-align:top" width="60"><img src="../images/User-Defined_Fitting_Functions/Tip_icon.png?v=9614" width="57"  border="0" /></td><td><p>If you intend to create an <b>External DLL-based Function</b>, please see <a href="../../UserGuide/UserGuide/Using_External_DLLs.html" title="UserGuide:Using External DLLs">Using External DLLs</a> and review the documentation included in <i>FittingWithExternalDLL.opx</i>.
</p></td></tr></table>
</li>
<li>In the <b>Variables and Parameters</b> page, you have to specify the names for the <b>Independent Variables</b>, the <b>Dependent Variables</b>, and the <b>Parameters</b>. And you can optionally choose to define <b>Derived Parameters</b> and the <b>Constants</b> in this page. If you want to use your function for fitting peaks in the Peak Analyzer or for replica fitting in the NLFit tool, you should enable the <b>Peak Function</b> check box. Click the Next button to go to the <b>Function Body</b> page.</li>
<li>In the <b>Function Body</b> page, you could manually set initial values for the parameters and constants in the <b>Parameter</b> tab and <b>Constant</b> tab. If you have enabled the <b>Peak Function</b> in the previous page, you need to choose the <b>Peak Attributes</b> in the <b>Parameter</b> tab. And you need to input function body in the <b>Function Body</b> edit box. If you have select <b>Origin C</b> as <b>Function Type</b> in the <b>Name and Type</b> page, it may be more convenient to use the <b>Code Builder</b> workspace to define your function. After you have performed settings in this page, you could directly click the <b>Finish</b> button to finish the process of creating function. If not, you could click the <b>Next</b> button to perform other setting in the left pages of the wizard. </li>
<li>The last four pages, <b>Parameter Initialization Code</b> page, <b>Bounds and General Linear Constrains</b> page, <b>Derived Parameters</b> page and <b>Script Before or After Fitting</b> page are optional pages, so you could choose to perform settings in each of them or directly click Next/ Finish button to ignore them. </li>
<li>After you have performed settings in the pages, you could click Finish button save the function.</li> 
</ol>
<h2><a name="Opening_the_Fitting_Function_Builder"></a><span class="mw-headline">Opening the Fitting Function Builder</span></h2>
<p>The Fitting Function Builder can be opened by:
</p>
<ul><li>Choosing <b>Tools: Fitting Function Builder</b> or pressing <b>F8</b>.</li>
<li>Clicking the <b>Builder</b> button in the <b>Fitting Function Organizer</b> dialog box.</li>
<li>Clicking the <b>Create New Fitting</b> button <a  class="image"><img alt="Ffb nlfit createnew.png" src="../images/User-Defined_Fitting_Functions/Ffb_nlfit_createnew.png?v=23407" width="26"  /></a> in the <b>Nonlinear Curve Fit</b> dialog box.</li></ul>
<h2><a name="What_You_Can_Do_in_the_Goal_Page"></a><span class="mw-headline">What You Can Do in the <i>Goal</i> Page</span></h2>
<p>The <b>Goal</b> page is the first page of the wizard, which allows you to choose a goal from the <b>Goal</b> page: <b>Create a New Function</b> or <b>Edit a User-Defined Function</b>. You should choose <b>Create a New Function</b> in this page if you want to create a user-defined function. For more details about the settings in this page, please refer to <a href="../../UserGuide/UserGuide/The_Goal_Page.html" title="UserGuide:The Goal Page">the Goal page</a>
</p>
<h2><a name="What_You_Can_Do_in_the_Name_and_Type_Page"></a><span class="mw-headline">What You Can Do in the <i>Name and Type</i> Page</span></h2>
<p>The <b>Name and Type</b> page is the second page，which allows you to select/ create a function category, give a name for the function and choose a function type. For more details about the settings in this page, please refer to <a href="../../UserGuide/UserGuide/The_Name_and_Type_Page.html" title="UserGuide:The Name and Type Page">The Name and Type Page</a>. You need to pay attention to the following two settings. 
</p>
<h3><a name="Create_a_Function_Category"></a><span class="mw-headline">Create a Function Category</span></h3>
<p>To create a category, you need to 
</p>
<ol><li>Click the <b>New</b> button that next to the <b>Select or Create a Category</b> edit box.</li>
<li>Enter a category name in the <b>Category Name</b> edit box.</li>
<li>Click the OK button to save it.</li></ol>
<table class="note">
<tr>
<td><b>Note:</b> Since Origin 2018, this category information will also be saved into the FDF file. You can share the FDF file to your friends, and then, when they drag-and-drop this FDF file to install this function to their own Origin program, this function will be copied to the same category as yours.
<p>For earlier versions, as the function category information have not been saved with the FDF file, when you install the function by the drag-and-drop operation, a dialog <b>Select Category to Add Function</b> will pop up to let you specify the category to add this new function.
</p>
</td></tr></table>
<h3><a name="Choose_a_Function_Type"></a><span class="mw-headline">Choose a Function Type</span></h3>
<p>You need to choose an appropriate function type from the <b>Function Type</b> group. The following table lists the differences between them. 
</p>
<table class="simple">

<tr>
<th> Function Form
</th>
<th width="250px">Example
</th>
<th> Comments
</th></tr>
<tr>
<td><b>LabTalk Expression</b>
</td>
<td>
<dl><dd><i>a + b * exp( -x^c / d )</i></dd></dl>
</td>
<td>Select this option for simple fitting functions that have only one dependent variable. The function body is limited to one expression, and you need to provide only the right hand side of the equation. This option provides faster performance than <b>Origin C</b>.
</td></tr>
<tr>
<td><b>Python Function (Scalar)</b>
</td>
<td>
<dl><dd><i>y = py.pyline(x, a, b);</i></dd></dl>
</td>
<td> Select this option only when fitting smaller datasets as it is slower than <b>Python Function (Vector)</b>. Note that you must prefix "py." to the function name when creating the function body.
</td></tr>
<tr>
<td><b>Python Function (Vector)</b>
</td>
<td>
<dl><dd><i>y=pyGaussVectorEq(x,y0,xc,A,w);</i></dd></dl>
</td>
<td> Select this option to to fit larger datasets. Functions receive an array (in the form of a list) of independent values for each independent variable during a call and return an array (in the form of a list) for each dependent variable. This option uses no LabTalk processing and thus, should be relatively fast.
</td></tr>
<tr>
<td><b>LabTalk Equations</b>
</td>
<td>
<dl><dd><i>temp = 10;</i></dd>
<dd><i>y1 = A + exp( (x1 - xc) / temp^2 );</i></dd>
<dd><i>y2 = A + temp / (x2 - xc)^2;</i></dd></dl>
</td>
<td>Select this option if you need multiple lines or you have more than one dependent variable. This option does not support control structures such as loops or if-else statements. You can however use the ternary operator. This option provides faster performance than <b>Origin C</b>.
</td></tr>
<tr>
<td><b>Origin C</b>
</td>
<td>
<dl><dd><i>if ( x &lt; -PI )</i>
<dl><dd>	<i>y = y0 + exp( -x-a*PI );</i></dd></dl></dd>
<dd><i>else if ( x &gt; PI )</i>
<dl><dd>	<i>y = y0 + exp( x-a*PI );</i></dd></dl></dd>
<dd><i>else</i>
<dl><dd>	<i>y = cos(x);</i></dd></dl></dd></dl>
</td>
<td>This option is slower than <b>Equations</b>. Select this option if your fitting function requires loops or control structures that cannot be replaced by the ternary operator. Note that you need to follow strict C syntax: parameters are case sensitive, and division by an integer is different than division by a double.
</td></tr>
<tr>
<td><b>LabTalk Script</b>
</td>
<td>
<dl><dd><i>range rr =&#160;%C;</i></dd>
<dd><i>int b =&#160;%(rr[P1]$);</i></dd>
<dd><i>y = b + a*x;</i></dd></dl>
</td>
<td>This option is much slower than Equations or Origin C. Select this option if you need control structures or you are not familiar with C language.
</td></tr>
<tr>
<td><b>External DLL-based Function</b>
</td>
<td>
</td>
<td>Select this option to define a fitting function using an external DLL. Using an external DLL can improve fitting time significantly. For more details about this type, please refer to <a href="../../UserGuide/UserGuide/Using_External_DLLs.html" title="UserGuide:Using External DLLs"><b>Using External DLLs</b></a>.
</td></tr></table>
<table class="note">
<tr>
<td><b>Note:</b> When creating Origin C fitting functions, a good practice is including the following statement before your code:
<pre class="oc" style="font-family:monospace;"><span style="color: #0000ff;">#pragma</span> numlittype<span style="color: #000000;">&#40;</span>push, <span style="color: #0000ff;">TRUE</span><span style="color: #000000;">&#41;</span></pre>
<p>Then Origin will treat integer numbers - 3 as float number - 3.0. This is very useful when you are converting other fnction forms into Origin C. In LabTalk, 3/2 = 1.5, while in Standard C, it is 1. The <i>#pragma</i> statement helps avoid inconsistent results when function forms is changed.
</p>
</td></tr></table>
<h2><a name="What_You_Can_Do_in_the_Variables_and_Parameters_Page"></a><span class="mw-headline">What You Can Do in the <i>Variables and Parameters</i> Page</span></h2>
<p>The <b>Variables and Parameters</b> page is the third page，which allows you to define independent variables, dependent variables, parameters (including the derived parameters) and constants. For more details about the settings in this page, please refer to <a href="../../UserGuide/UserGuide/The_Variables_and_Parameters_Page.html" title="UserGuide:The Variables and Parameters Page">the Variables and Parameters page</a>. 
</p>
<table class="note">

<tr>
<td><b>Note:</b> if you want to use your function for fitting peaks in the <b>Peak Analyzer</b> or for replica fitting in the <b>Nonlinear Fitter</b>. You need enable the <b>Peak Function</b> check box in this page.
<p>Parameters for peak function have special Peak Attributes that need to be set on the next page. The first parameter in the parameter list must be named as "y0" and should be assigned the peak attribute "offset". Besides "y0", you need to define at least three more parameters, and set peak attribute as "center", "width" and "amplitude/area". The following is an example of peak fitting function:
</p>
<dl><dd><i>y = y0 + (2*A/PI)(w/(4*(x-xc)^2 + w^2)) </i></dd></dl>
</td></tr></table>
<h2><a name="What_You_Can_Do_in_the_Function_Body_Page"></a><span class="mw-headline">What You Can Do in the <i>Function Body</i> Page</span></h2>
<p>The <b>Function Body</b> page is the fourth page，which allows you to input the function body, perform some basic setting for the parameters, such as inputting initial values, fix parameters etc. Please note if you want to define a peak fitting function, you should choose special Peak Attributes for the parameters in this page. And you can also evaluate the fitting function in this page. For more details about the settings in this page, please refer to <a href="../../UserGuide/UserGuide/The_Function_Body_Page.html" title="UserGuide:The Function Body Page">The Function Body Page</a>.
</p>
<h3><a name="Input_Function_Body"></a><span class="mw-headline">Input Function Body</span></h3>
<p>There are 5 function types we have introduced in the <b>Name and Type</b> page, each of which has its own formats of the function body. To make sure the fitting function could be written correctly, you need to follow the instructions in the<b> Name and Type</b> page or you could get hints from the left panel of the Function Body page. 
</p>
<table class="note">

<tr>
<td><b>Note:</b> Users can use <b>nlf_<i>FuncName</i></b> to quote a built-in fitting function when creating a new one. For example, define a function like:<br />
<dl><dd>y1 = nlf_Expdec1(x, y01, A11, t1);<br /></dd></dl>
<p>Where <b>nlf_Expdec1</b> denotes the built-in function <b>ExpDec1</b>.
</p>
</td></tr></table>
<h3><a name="Editing_the_Function_in_Code_Builder"></a><span class="mw-headline">Editing the Function in Code Builder</span></h3>
<p>You could edit your codes in the Code Builder if  <b>Origin C</b> has been selected in the <b>Name and Type</b> page. You can click the button <a  class="image"><img alt="User-Defined Fitting Functions-2.png" src="../images/User-Defined_Fitting_Functions/User-Defined_Fitting_Functions-2.png?v=10441" width="19"  /></a> that on the upper-right corner of the <b>Function Body</b> edit box, a special instance of the Code Builder workspace will open and this window will be named _nlf<i>functionName</i>.fit (In the following screenshot, the window named as _nlfAsymmetricGaussian.fit). Then you can edit the function body in this window. 
</p>
<dl><dd><a  class="image"><img alt="User-Defined Fitting Functions-3.png" src="../images/User-Defined_Fitting_Functions/User-Defined_Fitting_Functions-3.png?v=21889" width="494"  /></a></dd></dl>
<p>The first few lines of code are <b>#include</b> statements that identify various header files required for compiling the fitting function. In our example, the actual function definition begins with the statement:
</p>
<pre class="oc" style="font-family:monospace;"><span style="color: #0000ff;">void</span> _nlsfAsymmetricGaussian</pre>
<p>The parameters, independent variables and dependent variables are declared at the beginning of this function definition.  After these declarations, there is an editable section -- the area bounded in white -- that is reserved for entering your function definition.
</p><p>The above figure shows the definition entry for the asymmetric Gaussian function. Note that the function definition must comply with C programming language syntax. For instance, the parameters and all variable types are case sensitive. Intermediate variables -- such as B in this example -- must be declared first using a statement such as:
</p>
<pre class="oc" style="font-family:monospace;"><span style="color: #0000ff;">double</span> B;</pre>
<p>This declaration must occur before the variable is used in the function definition.
</p><p>Note that the function is of type <b>void</b>, indicating that no values are returned by the function. Instead, the dependent variable value is set inside the function code. In our example, the dependent variable y is assigned a different value, dependent upon whether x is less than or greater than the centroid parameter, xc.
</p><p>Once the function is defined, you should verify that your syntax is correct.  To test, click the <b>Compile </b>button at the top of the Code Builder workspace.  Any errors generated in the compiling process are reported in the Code Builder output window at the bottom of the workspace. This window also reports when a file has successfully compiled.  
</p><p>Once the function has been defined and compiled, you can return to the Function Organizer dialog by clicking the <b>Return to NLSF</b> button at the top of the window. This closes the specialized Code Builder window.
</p><p><br />
</p>
<h3><a name="Evaluate_the_Function"></a><span class="mw-headline">Evaluate the Function</span></h3>
<p>At the bottom of the <b>Function Body</b> page, you can find a group of controls called <b>Quick Check</b> which can help to check the validity of the function. You should first enter desired values for parameters in the <b>Initial Value</b> column in the <b>Parameter</b> tab in this page, and then enter value(s) for the independent variable(s) edit box(es) in the <b>Quick Check</b> group. Then press the button <a  class="image"><img alt="Ffb evaluate.png" src="../images/User-Defined_Fitting_Functions/Ffb_evaluate.png?v=23176" width="23"  /></a> to view output value of dependent variable(s). If there are errors in your function body or if you specified inappropriate input values for parameters or variables, a missing value along with an appropriate error message will be displayed in the output box.
</p>
<h2><a name="What_You_Can_Do_in_the_Parameter_Initialization_Code_Page"></a><span class="mw-headline">What You Can Do in the <i>Parameter Initialization Code</i> Page</span></h2>
<p>The <b>Parameter Initialization Code</b> page is the fifth page，which allows you to input codes to be run to compute initial values for fitting function parameters. Please note this page is optional, so you can directly click the <b>Next</b> button to go to the next page to perform settings.  For more details about the settings in this page, please refer to <a href="../../UserGuide/UserGuide/The_Parameter_Initialization_Code_Page.html" title="UserGuide:The Parameter Initialization Code Page">the Parameter Initialization Code page</a>.
</p><p>The iterative method used in nonlinear fitting requires that initial values be supplied for all parameters. Good initial values result in fast and reliable model/data convergence. There are two ways in which you can control parameter initialization when defining a new function:
</p>
<ul><li>Assign fixed initial values in the <b>Parameter</b> tab in the <b>Function Body</b> page.</li>
<li>Enter initialization code which estimates initial values in the <b>Initialization Code</b> in  the <i>Parameter Initialization Code</i> page. </li></ul>
<p>Please read the <a href="../../UserGuide/UserGuide/Parameter_Initialization.html" title="UserGuide:Parameter Initialization">Parameter Initialization</a> section for guidance on initializing parameter values.  Note that defining initial values or code is not required to define the fitting function.  However, if parameter initialization is not handled by the fitting function file, they will need to be initialized manually when fitting with the function in the <b>NLFit</b> dialog box.
</p>
<h2><a name="What_You_Can_Do_in_the_Bounds_and_General_Linear_Constrains_Page"></a><span class="mw-headline">What You Can Do in the <i>Bounds and General Linear Constrains</i> Page</span></h2>
<p>The <b>Bounds and General Linear Constrains</b> page is the sixth page，which allows you to input bounds and linear constrains for fitting function parameters. Please note this page is optional, so you can directly click the <b>Next</b> button to go to the next page to perform settings.  For more details about the settings in this page, please refer to <a href="../../UserGuide/UserGuide/The_Bounds_and_General_Linear_Constrains_Page.html" title="UserGuide:The Bounds and General Linear Constrains Page">the Bounds and General Linear Constrains page</a>.
</p>
<h2><a name="What_You_Can_Do_in_the_Derived_Parameters_Page"></a><span class="mw-headline">What You Can Do in the <i>Derived Parameters</i> Page</span></h2>
<p>The <b>Derived Parameters</b> page is the seventh page，which allows you to define derived parameters. Please note this page is optional, so you can directly click the <b>Next</b> button to go to the next page to perform settings.  For more details about the settings in this page, please refer to <a href="../../UserGuide/UserGuide/The_Derived_Parameters.html" title="UserGuide:The Derived Parameters">the Derived Parameters page</a>.
</p>
<h2><a name="What_You_Can_Do_in_the_Script_Before_or_After_Fitting_Page"></a><span class="mw-headline">What You Can Do in the <i>Script Before or After Fitting</i> Page</span></h2>
<p>The <b>Derived Parameters</b> page is the eighth page，also the last page, which allows you to enter LabTalk script to be executed before and/or after the fitting process. Please note this page is optional, so you can directly click the <b>Finish</b> button to end the process to create a fitting function. For more details about the settings in this page, please refer to <a href="../../UserGuide/UserGuide/The_Script_Before_Or_After_Fitting_Page.html" title="UserGuide:The Script Before Or After Fitting Page">the Script Before Or After Fitting page</a>.
</p>

