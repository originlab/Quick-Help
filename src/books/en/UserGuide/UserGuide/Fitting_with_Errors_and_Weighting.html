<h1 class="firstHeading">15.3.6.5 Fitting with Errors and Weighting</h1><p class='urlname' style='display: none'>FIt-with-Err-Weight</p>
<p>In some cases you may want certain data points to factor more heavily than others into the fitting calculations. So when selecting datasets for the fitting, you can also do weighting settings in <a href="../../UserGuide/UserGuide/Settings_Tab_Upper_Panel.html#Data_Selection" title="UserGuide:Settings Tab Upper Panel">the <b>Data Selection</b> page</a> of the <b>Settings</b> tab to do weighted fitting.
</p>
<dl><dd><a  class="image"><img alt="Fitting with Errors and Weighting 01.png" src="../images/Fitting_with_Errors_and_Weighting/500px-Fitting_with_Errors_and_Weighting_01.png?v=70613" width="500"   /></a></dd></dl>
<p>After fitting, you will get the results with weighting as below:
</p>
<dl><dd><a  class="image"><img alt="Fitting with Errors and Weighting 02.png" src="../images/Fitting_with_Errors_and_Weighting/500px-Fitting_with_Errors_and_Weighting_02.png?v=70614" width="500"   /></a></dd></dl>
<p><br />
</p>
<table class="noborder"><tr>
	<td style="vertical-align:top" width="60"><img src="../images/Fitting_with_Errors_and_Weighting/Tip_icon.png?v=9614" width="57"  border="0" /></td><td><p>When <a href="../../UserGuide/UserGuide/Settings_Tab_Upper_Panel.html#Function_Selection" title="UserGuide:Settings Tab Upper Panel"><b>Iteration Algorithm</b></a> is <b>Levenberg Marquardt</b>, it is only supported to add weight for Y data, while if it is <b>Orthogonal Distance Regression</b> (Pro Only), both X and Y weight are supported.
</p></td></tr></table>
<p>When there are multiple input datasets, you can specify different weighting methods for each Y and/or X data. The weights will be used in the procedure of reducing Chi-Square, you may refer to the <a href="../../UserGuide/Category/Theory_of_Nonlinear_Curve_Fitting.html#Iteration_Algorithm" title="Category:Theory of Nonlinear Curve Fitting">Iteration Algorithm</a> for the formula used in different cases.
</p><p>Origin supports a number of weighting methods, some weight methods can be used for both L-M and ODR algorithm while some can only be used for L-M. See the table below for the formula to calculate weight in each case. Note that <i>y</i> here stands for function parameter name and it is not referring to the dependent variable.
</p>
<table class="simple">
<caption><a  class="image"><img alt="Mini bulb.png" src="../images/Fitting_with_Errors_and_Weighting/Mini_bulb.png?v=90101" width="24"  /></a> <b><img src="../images/Fitting_with_Errors_and_Weighting/math-8d62e469fb30ed435a668eb5c035b1f6.png?v=0" title="y_i" alt="y_i" class="tex"/> below are y values of independent variable to be fit, <img src="../images/Fitting_with_Errors_and_Weighting/math-7f9658a8611d26374a7798b5cad44c84.png?v=0" title="\hat y_i" alt="\hat y_i" class="tex"/> are the y values of fitted curve.</b>
</caption>
<tr>
<th>Option for both <a href="../../UserGuide/Category/Theory_of_Nonlinear_Curve_Fitting.html#Levenberg-Marquardt_.28L-M.29_Algorithm" title="Category:Theory of Nonlinear Curve Fitting">L-M</a> and <a href="../../UserGuide/Category/Theory_of_Nonlinear_Curve_Fitting.html#Orthogonal_Distance_Regression_.28ODR.29_Algorithm" title="Category:Theory of Nonlinear Curve Fitting">ODR</a> Algorithm
</th>
<th>Weight Formula
</th></tr>
<tr>
<td>
<p>No Weighting
</p>
</td>
<td>
<p><img src="../images/Fitting_with_Errors_and_Weighting/math-73af736d7cac2c4968992f609669c479.png?v=0" title="w_{i}=1\,\!" alt="w_{i}=1\,\!" class="tex"/>
</p>
</td></tr>
<tr>
<td>
<p>Instrumental
</p>
</td>
<td>
<p><img src="../images/Fitting_with_Errors_and_Weighting/math-5b7d75fa84cbc9a0796caa1f99158372.png?v=0" title="w_{i}=\frac 1{\sigma _{i}^2}\,\!" alt="w_{i}=\frac 1{\sigma _{i}^2}\,\!" class="tex"/> ,where <img src="../images/Fitting_with_Errors_and_Weighting/math-033e2942bc4ed53a65cc8499474b5b9c.png?v=0" title="\sigma _i\ " alt="\sigma _i\ " class="tex"/> are are the error bar sizes stored in error bar columns.
</p>
</td></tr>
<tr>
<td>
<p>Statistical
</p>
</td>
<td>
<p><img src="../images/Fitting_with_Errors_and_Weighting/math-66fde7cf3b65b3a10e007fae0ef25a84.png?v=0" title="w_{i}=\frac 1{y_{i}}\,\!" alt="w_{i}=\frac 1{y_{i}}\,\!" class="tex"/>
</p>
</td></tr>
<tr>
<td>
<p>Arbitrary Dataset
</p>
</td>
<td>
<p><img src="../images/Fitting_with_Errors_and_Weighting/math-079938f0156b18d41e9894c01c6b839d.png?v=0" title="w_{i}=\frac 1{c_{i}^2}\,\!" alt="w_{i}=\frac 1{c_{i}^2}\,\!" class="tex"/>
where <img src="../images/Fitting_with_Errors_and_Weighting/math-e0fde5e2678dcb14eb764b19c009a00e.png?v=0" title="c _{i}\,\!" alt="c _{i}\,\!" class="tex"/> are the values of arbitrary data sets.
</p>
</td></tr>
<tr>
<td>
<p>Direct Weighting
</p>
</td>
<td>
<p><img src="../images/Fitting_with_Errors_and_Weighting/math-9012c8aea8fb09e2751f1a2a89585256.png?v=0" title="w_{i}=c_{i}\,\!" alt="w_{i}=c_{i}\,\!" class="tex"/>
</p>
</td></tr>
<tr>
<td>
<p>Variance ~ y^2
</p>
</td>
<td>
<p><img src="../images/Fitting_with_Errors_and_Weighting/math-321ce6155ebbd6e191b0b307a8b377ad.png?v=0" title="w_i=\frac 1{y_i^2}\,\!" alt="w_i=\frac 1{y_i^2}\,\!" class="tex"/> 
</p>
</td></tr>
<tr>
<td>
<p>Variance = a*y^b
</p>
</td>
<td>
<p><img src="../images/Fitting_with_Errors_and_Weighting/math-57e80e74657d8b449174ee5a8cf314fc.png?v=0" title="w_i=\frac 1{ay_i^b}\,\!" alt="w_i=\frac 1{ay_i^b}\,\!" class="tex"/>
</p>
</td></tr>
<tr>
<td>
<p>Variance = c^b+a*y^b
</p>
</td>
<td>
<p><img src="../images/Fitting_with_Errors_and_Weighting/math-edc5ce678b8c66fc7a809d4f7ecc8545.png?v=0" title="w_i=\frac 1{c^b+ay^b}\,\!" alt="w_i=\frac 1{c^b+ay^b}\,\!" class="tex"/>
</p>
</td></tr>
<tr>
<th>Options only for <a href="../../UserGuide/Category/Theory_of_Nonlinear_Curve_Fitting.html#Levenberg-Marquardt_.28L-M.29_Algorithm" title="Category:Theory of Nonlinear Curve Fitting">L-M</a> algorithm
</th>
<th>Weight Formula
</th></tr>
<tr>
<td>Variance = a*y^b*c^(tlast−t)
</td>
<td>
<p><img src="../images/Fitting_with_Errors_and_Weighting/math-72be1170bb8e47672b77003dad1c3413.png?v=0" title="w_i=\frac 1{ay_i^bc^{t_{last}-t_i}}" alt="w_i=\frac 1{ay_i^bc^{t_{last}-t_i}}" class="tex"/>
where <img src="../images/Fitting_with_Errors_and_Weighting/math-7f1844697b04020b015d155a29af0f16.png?v=0" title="t_{last}" alt="t_{last}" class="tex"/>,<img src="../images/Fitting_with_Errors_and_Weighting/math-d56c9dcd61c244d4dd826760402f0251.png?v=0" title="t _{i}" alt="t _{i}" class="tex"/> are the values of arbitrary data sets.
</p>
</td></tr>
<tr>
<td>
<p>Variance ~ yfit
</p>
</td>
<td>
<p><img src="../images/Fitting_with_Errors_and_Weighting/math-ce16aedd914f0c8dd4af99c9dc1132bc.png?v=0" title="w_i=\frac 1{\hat y_i}" alt="w_i=\frac 1{\hat y_i}" class="tex"/>
</p>
</td></tr>
<tr>
<td>
<p>Variance ~ yfit^2
</p>
</td>
<td>
<p><img src="../images/Fitting_with_Errors_and_Weighting/math-b923f842ff4b3bce242de8ef62a1d39a.png?v=0" title="w_i=\frac 1{\hat y_i^2}" alt="w_i=\frac 1{\hat y_i^2}" class="tex"/>
</p>
</td></tr>
<tr>
<td>
<p>Variance = a*yfit^b
</p>
</td>
<td>
<p><img src="../images/Fitting_with_Errors_and_Weighting/math-74b4d65e8fe08e1a13f15b8443996ef8.png?v=0" title="w_i=\frac 1{a\hat y_i^b}" alt="w_i=\frac 1{a\hat y_i^b}" class="tex"/>
</p>
</td></tr>
<tr>
<td>
<p>Variance = c^b+a*yfit^b
</p>
</td>
<td>
<p><img src="../images/Fitting_with_Errors_and_Weighting/math-eba83278a2685780e897dc35b5c2d01e.png?v=0" title="w_i=\frac 1{c^b+a\hat y_i^b}" alt="w_i=\frac 1{c^b+a\hat y_i^b}" class="tex"/>
</p>
</td></tr>
<tr>
<td>
<p>Variance = a*yfit^b*c^(tlast−t)
</p>
</td>
<td>
<p><img src="../images/Fitting_with_Errors_and_Weighting/math-ccf4a20e07453ce857b43d97b7a68917.png?v=0" title="w_i=\frac 1{a\hat y_i^bc^{t_{last}-t_i}}" alt="w_i=\frac 1{a\hat y_i^bc^{t_{last}-t_i}}" class="tex"/>
where <img src="../images/Fitting_with_Errors_and_Weighting/math-7f1844697b04020b015d155a29af0f16.png?v=0" title="t_{last}" alt="t_{last}" class="tex"/>,<img src="../images/Fitting_with_Errors_and_Weighting/math-d56c9dcd61c244d4dd826760402f0251.png?v=0" title="t _{i}" alt="t _{i}" class="tex"/> are the values of arbitrary data sets.
</p>
</td></tr>
</table>


