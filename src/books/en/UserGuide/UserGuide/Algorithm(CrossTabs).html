<h1 class="firstHeading">17.1.4.3 Algorithms (CrossTabs)</h1><p class='urlname' style='display: none'>CrossTabs-Algorithm</p>
<p><br />
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#CrossTabs_Method"><span class="tocnumber">1</span> <span class="toctext">CrossTabs Method</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Frequency_Counts"><span class="tocnumber">1.1</span> <span class="toctext">Frequency Counts</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#Marginal_and_Cell"><span class="tocnumber">1.2</span> <span class="toctext">Marginal and Cell</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Chi-Square_Statistics"><span class="tocnumber">1.3</span> <span class="toctext">Chi-Square Statistics</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Fisher.27s_Exact_Test"><span class="tocnumber">1.4</span> <span class="toctext">Fisher's Exact Test</span></a>
<ul>
<li class="toclevel-3 tocsection-6"><a href="#one-Sided_test"><span class="tocnumber">1.4.1</span> <span class="toctext">one-Sided test</span></a></li>
<li class="toclevel-3 tocsection-7"><a href="#Two-Sided_tail"><span class="tocnumber">1.4.2</span> <span class="toctext">Two-Sided tail</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-8"><a href="#Measures_of_Association"><span class="tocnumber">1.5</span> <span class="toctext">Measures of Association</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Measures_of_Agreement"><span class="tocnumber">1.6</span> <span class="toctext">Measures of Agreement</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Odds_Ratio_and_Relative_Risk"><span class="tocnumber">1.7</span> <span class="toctext">Odds Ratio and Relative Risk</span></a>
<ul>
<li class="toclevel-3 tocsection-11"><a href="#Odds_Ratio"><span class="tocnumber">1.7.1</span> <span class="toctext">Odds Ratio</span></a></li>
<li class="toclevel-3 tocsection-12"><a href="#Relative_Risk"><span class="tocnumber">1.7.2</span> <span class="toctext">Relative Risk</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-13"><a href="#Cochran-Mantel-Haenszel"><span class="tocnumber">1.8</span> <span class="toctext">Cochran-Mantel-Haenszel</span></a>
<ul>
<li class="toclevel-3 tocsection-14"><a href="#Mantel-Haenszel_statistic"><span class="tocnumber">1.8.1</span> <span class="toctext">Mantel-Haenszel statistic</span></a></li>
<li class="toclevel-3 tocsection-15"><a href="#Breslow-Day_statistic"><span class="tocnumber">1.8.2</span> <span class="toctext">Breslow-Day statistic</span></a></li>
<li class="toclevel-3 tocsection-16"><a href="#Tarone.E2.80.99s_Statistic"><span class="tocnumber">1.8.3</span> <span class="toctext">Tarone’s Statistic</span></a></li>
<li class="toclevel-3 tocsection-17"><a href="#Common_Odds_Ratio"><span class="tocnumber">1.8.4</span> <span class="toctext">Common Odds Ratio</span></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>

<p><br />
<b>CrossTabs</b> is also called <b>Contingency Tables</b>. This tool is used to examine the existence or the strength of any association between variables.
</p>
<h2><a name="CrossTabs_Method"></a><span class="mw-headline">CrossTabs Method</span></h2>
<ul><li> Frequency Counts</li>
<li> Marginal and Cell</li>
<li> Chi-Square Tests Table</li>
<li> Fisher's Exact Test Table (2 x 2 only)</li>
<li> Measures of Association</li>
<li> Measures of Agreement</li>
<li> Odds Ratio and Relative Risk (2 x 2 only)</li>
<li> Cochran-Mantel-Haenszel </li></ul>
<h3><a name="Frequency_Counts"></a><span class="mw-headline">Frequency Counts</span></h3>
<p>Define
</p>
<dl><dd> <img src="../images/Algorithm(CrossTabs)/math-a97118fb9e8d7e006a466bfc0771f888.png?v=0" title="X_i" alt="X_i" class="tex"/> are distinct values of row variable in ascending order, i.e. <img src="../images/Algorithm(CrossTabs)/math-afa34668ee4178285b425ccef9790f80.png?v=0" title="X_1 &lt; X_2 &lt; \cdots X_R " alt="X_1 &lt; X_2 &lt; \cdots X_R " class="tex"/></dd>
<dd> <img src="../images/Algorithm(CrossTabs)/math-762c0f38c71ffa6e93f0a1daab55ab04.png?v=0" title="Y_i" alt="Y_i" class="tex"/> are distinct values of column variable in ascending order, i.e. <img src="../images/Algorithm(CrossTabs)/math-443ff437c68afb202ac14bf0d0046751.png?v=0" title="Y_1 &lt; Y_2 &lt; \cdots Y_C " alt="Y_1 &lt; Y_2 &lt; \cdots Y_C " class="tex"/></dd>
<dd> <img src="../images/Algorithm(CrossTabs)/math-e5896e2e0b803ed74e0a3ee9ec61d795.png?v=0" title="f_{ij}" alt="f_{ij}" class="tex"/> is the frequency with respect to cell  <img src="../images/Algorithm(CrossTabs)/math-5270ae675fac24f97e172dcd9b18fa92.png?v=0" title="(i,j)" alt="(i,j)" class="tex"/></dd>
<dd> <img src="../images/Algorithm(CrossTabs)/math-1915a32e0c91c1f84a3056a294c65d30.png?v=0" title="r_i = \sum_{j=1}^{C}f_{ij}" alt="r_i = \sum_{j=1}^{C}f_{ij}" class="tex"/> is subtotal of the <img src="../images/Algorithm(CrossTabs)/math-865c0c0b4ab0e063e5caa3387c1a8741.png?v=0" title="i" alt="i" class="tex"/>th row</dd>
<dd> <img src="../images/Algorithm(CrossTabs)/math-be38e302d77e59345377566d7423034c.png?v=0" title="c_j = \sum_{i=1}^{R}f_{ij}" alt="c_j = \sum_{i=1}^{R}f_{ij}" class="tex"/> is subtotal of the <img src="../images/Algorithm(CrossTabs)/math-363b122c528f54df4a0446b6bab05515.png?v=0" title="j" alt="j" class="tex"/>th column</dd>
<dd> <img src="../images/Algorithm(CrossTabs)/math-886246e4a3101263e1138e72bfc977e6.png?v=0" title="N = \sum_{j=1}^{C}c_j = \sum_{i=1}^{R}r_i" alt="N = \sum_{j=1}^{C}c_j = \sum_{i=1}^{R}r_i" class="tex"/> is the total number.</dd></dl>
<h3><a name="Marginal_and_Cell"></a><span class="mw-headline">Marginal and Cell</span></h3>
<table class="simple">
<tr>
<th>Statistics
</th>
<th>Formula and Explanation
</th></tr>
<tr>
<th>Count
</th>
<td><img src="../images/Algorithm(CrossTabs)/math-e5896e2e0b803ed74e0a3ee9ec61d795.png?v=0" title="f_{ij}" alt="f_{ij}" class="tex"/>
</td></tr>
<tr>
<th>Expected Count
</th>
<td><img src="../images/Algorithm(CrossTabs)/math-f30a2b0e3370f0814c959957a224dd89.png?v=0" title="E_{ij} = \frac{r_i c_j}{N}" alt="E_{ij} = \frac{r_i c_j}{N}" class="tex"/>
</td></tr>
<tr>
<th>Row Percent
</th>
<td><img src="../images/Algorithm(CrossTabs)/math-19639d8682c50097fbde98f448d6a16a.png?v=0" title="100*\frac{f_{ij}}{r_i}" alt="100*\frac{f_{ij}}{r_i}" class="tex"/>
</td></tr>
<tr>
<th>Column Percent
</th>
<td><img src="../images/Algorithm(CrossTabs)/math-589eb80e404ec249dc486616aaf78822.png?v=0" title="100*\frac{f_{ij}}{c_j}" alt="100*\frac{f_{ij}}{c_j}" class="tex"/>
</td></tr>
<tr>
<th>Total Percent
</th>
<td><img src="../images/Algorithm(CrossTabs)/math-3357da1c1efa26e265b977d3b0670c1c.png?v=0" title="100*\frac{f_{ij}}{N}" alt="100*\frac{f_{ij}}{N}" class="tex"/>
</td></tr>
<tr>
<th>Residual
</th>
<td><img src="../images/Algorithm(CrossTabs)/math-56959063ec3204d0aeeae97829b457f3.png?v=0" title="R_{ij} = f_{ij} - E_{ij}" alt="R_{ij} = f_{ij} - E_{ij}" class="tex"/>
</td></tr>
<tr>
<th>Std. Residual
</th>
<td><img src="../images/Algorithm(CrossTabs)/math-c48259c9651c2f6503d9960937e6533e.png?v=0" title="StdR_{ij} = \frac{R_{ij}}{\sqrt{E_{ij}}}" alt="StdR_{ij} = \frac{R_{ij}}{\sqrt{E_{ij}}}" class="tex"/>
</td></tr>
<tr>
<th>Adj. Residual
</th>
<td><img src="../images/Algorithm(CrossTabs)/math-c0843832a859ffc34d11d9099f6428b0.png?v=0" title="AdjR_{ij} = \frac{R_{ij}}{\sqrt{E_{ij}\left(1-\frac{r_i}{N}\right)\left(1-\frac{c_j}{N}\right)}}" alt="AdjR_{ij} = \frac{R_{ij}}{\sqrt{E_{ij}\left(1-\frac{r_i}{N}\right)\left(1-\frac{c_j}{N}\right)}}" class="tex"/>
</td></tr></table>
<h3><a name="Chi-Square_Statistics"></a><span class="mw-headline">Chi-Square Statistics</span></h3>
<table class="simple">
<tr>
<th>Statistics
</th>
<th>Formula and Explanation
</th>
<th>Degree of Freedom
</th></tr>
<tr>
<th>Pearson Chi-Square
</th>
<td><img src="../images/Algorithm(CrossTabs)/math-16abb82ca7492ebc6d92c48f3cb57156.png?v=0" title="\chi_p^2 = \sum_{ij} \frac{(f_{ij}-E_{ij})^2}{E_{ij}}" alt="\chi_p^2 = \sum_{ij} \frac{(f_{ij}-E_{ij})^2}{E_{ij}}" class="tex"/>
</td>
<td><img src="../images/Algorithm(CrossTabs)/math-457e064382dbfc17fa5acc98b7037504.png?v=0" title="(R-1)(C-1)" alt="(R-1)(C-1)" class="tex"/>
</td></tr>
<tr>
<th>Likelihood Ratio
</th>
<td><img src="../images/Algorithm(CrossTabs)/math-5711c9b4ed36c6b98d89fb52d062fc0a.png?v=0" title="\chi_{LR}^2 = -2\sum_{ij} f_{ij} \ln (E_{ij}/f_{ij})" alt="\chi_{LR}^2 = -2\sum_{ij} f_{ij} \ln (E_{ij}/f_{ij})" class="tex"/>
</td>
<td><img src="../images/Algorithm(CrossTabs)/math-457e064382dbfc17fa5acc98b7037504.png?v=0" title="(R-1)(C-1)" alt="(R-1)(C-1)" class="tex"/>
</td></tr>
<tr>
<th>Linear Association
</th>
<td><img src="../images/Algorithm(CrossTabs)/math-3f74d84e50dc6faa63daef4080aacb1d.png?v=0" title="\chi_{LA}^2 = (N-1)r^2" alt="\chi_{LA}^2 = (N-1)r^2" class="tex"/>, where <img src="../images/Algorithm(CrossTabs)/math-4b43b0aee35624cd95b910189b3dc231.png?v=0" title="r" alt="r" class="tex"/> is the Pearson correlation coefficient.
</td>
<td><img src="../images/Algorithm(CrossTabs)/math-c4ca4238a0b923820dcc509a6f75849b.png?v=0" title="1" alt="1" class="tex"/>
</td></tr>
<tr>
<th>Continuity Correction
</th>
<td><img src="../images/Algorithm(CrossTabs)/math-229934e6de0b77d0cfb90e85aa101495.png?v=0" title="\chi_C^2 = \frac{N(|f_{11}f_{22}-f_{12}f_{21}|-0.5N)^2}{r_1r_2c_1c_2} I(|f_{11}f_{22}-f_{12}f_{21}|&gt;0.5N)" alt="\chi_C^2 = \frac{N(|f_{11}f_{22}-f_{12}f_{21}|-0.5N)^2}{r_1r_2c_1c_2} I(|f_{11}f_{22}-f_{12}f_{21}|&gt;0.5N)" class="tex"/>, which is calculated only for 2 x 2 table
</td>
<td><img src="../images/Algorithm(CrossTabs)/math-c4ca4238a0b923820dcc509a6f75849b.png?v=0" title="1" alt="1" class="tex"/>
</td></tr></table>
<h3><a name="Fisher.27s_Exact_Test"></a><span class="mw-headline">Fisher's Exact Test</span></h3>
<p>This test is useful when some expected cell count is low (less than 5). It's calculated only for 2 x 2 table. Suppose we have the table in the following:
</p>
<table class="simple">
<tr>
<th>
</th>
<th><img src="../images/Algorithm(CrossTabs)/math-0d5fa3f335333b23d4aaf795d1336587.png?v=0" title="X_1" alt="X_1" class="tex"/>
</th>
<th><img src="../images/Algorithm(CrossTabs)/math-e209e24a3d42a840c21481572570342f.png?v=0" title="X_2" alt="X_2" class="tex"/>
</th>
<th>Subtotal/Total
</th></tr>
<tr>
<th><img src="../images/Algorithm(CrossTabs)/math-c772000136f6d3ba6dec3c7c5a35458b.png?v=0" title="Y_1" alt="Y_1" class="tex"/>
</th>
<td><img src="../images/Algorithm(CrossTabs)/math-6c773b2b7798e5713845e475d0c4b4c7.png?v=0" title="n_1" alt="n_1" class="tex"/>
</td>
<td><img src="../images/Algorithm(CrossTabs)/math-5967eff521c650a997f82f083abf639a.png?v=0" title="n_3" alt="n_3" class="tex"/>
</td>
<td><img src="../images/Algorithm(CrossTabs)/math-6657a6c206f3e5e31275783a3668e5de.png?v=0" title="n_1+n_3" alt="n_1+n_3" class="tex"/>
</td></tr>
<tr>
<th><img src="../images/Algorithm(CrossTabs)/math-b5825a6794db70d759fd6fa7eb747fd7.png?v=0" title="Y_2" alt="Y_2" class="tex"/>
</th>
<td><img src="../images/Algorithm(CrossTabs)/math-e501ae2ad90dc374410a774da21c5739.png?v=0" title="n_2" alt="n_2" class="tex"/>
</td>
<td><img src="../images/Algorithm(CrossTabs)/math-43c5783d36b015e36edeecd60da73206.png?v=0" title="n_4" alt="n_4" class="tex"/>
</td>
<td><img src="../images/Algorithm(CrossTabs)/math-4d19d3c0c698ba1ab821a9d391ae4fac.png?v=0" title="n_2+n_4" alt="n_2+n_4" class="tex"/>
</td></tr>
<tr>
<th>Subtotal/Total
</th>
<td><img src="../images/Algorithm(CrossTabs)/math-f16c4024084f71bae29d858ad345502b.png?v=0" title="n_1+n_2" alt="n_1+n_2" class="tex"/>
</td>
<td><img src="../images/Algorithm(CrossTabs)/math-7f53026eedc310e75b8bfbaafcc98e9d.png?v=0" title="n_3+n_4" alt="n_3+n_4" class="tex"/>
</td>
<td><img src="../images/Algorithm(CrossTabs)/math-8d9c307cb7f3c4a32822a51922d1ceaa.png?v=0" title="N" alt="N" class="tex"/>
</td></tr></table>
<p>Under the null hypothesis (Independence), the count of the first cell <img src="../images/Algorithm(CrossTabs)/math-865adb153c19640c27383f3fc1ee7e8a.png?v=0" title="N_1" alt="N_1" class="tex"/> is a hypergeometric distribution with probability given by
</p><p><img src="../images/Algorithm(CrossTabs)/math-b81fe4db9d9ce8c9e4d200ced42c19c9.png?v=0" title="Pr(N_1=n_1) = \frac{(n_1+n_2)!(n_3+n_4)!(n_1+n_3)!(n_2+n_4)!}{N!n_1!n_2!n_3!n_4!}" alt="Pr(N_1=n_1) = \frac{(n_1+n_2)!(n_3+n_4)!(n_1+n_3)!(n_2+n_4)!}{N!n_1!n_2!n_3!n_4!}" class="tex"/>, <img src="../images/Algorithm(CrossTabs)/math-10def7f70d948d677a406c91c82bf307.png?v=0" title="\max(0,n_1-n_4)\leq N_1 \leq \min(n_1+n_2,n_1+n_3)" alt="\max(0,n_1-n_4)\leq N_1 \leq \min(n_1+n_2,n_1+n_3)" class="tex"/>.
</p>
<h4><a name="one-Sided_test"></a><span class="mw-headline">one-Sided test</span></h4>
<p>The one-sided test significance level is calculated by
</p>
<dl><dd>p(left-sided test) =<img src="../images/Algorithm(CrossTabs)/math-86e6e38543be7730a5d275879331853b.png?v=0" title=" Pr(N_1\leq n_1)" alt=" Pr(N_1\leq n_1)" class="tex"/></dd>
<dd>p(right-sided test) =<img src="../images/Algorithm(CrossTabs)/math-a0da9ea8cfd87134a3bc676fc188f06e.png?v=0" title=" Pr(N_1\geq n_1)" alt=" Pr(N_1\geq n_1)" class="tex"/></dd></dl>
<h4><a name="Two-Sided_tail"></a><span class="mw-headline">Two-Sided tail</span></h4>
<p>The two-tail significance is 
</p><p><img src="../images/Algorithm(CrossTabs)/math-26774c9dfcd5e97bc46f921e5d961bc3.png?v=0" title="p_2 = p_1 + p_3" alt="p_2 = p_1 + p_3" class="tex"/>
</p><p>where 
</p>
<dl><dd><img src="../images/Algorithm(CrossTabs)/math-81db1a1a7d204cda8eca78cd1626e9d0.png?v=0" title="p_{1}= Pr(N_1\leq n_1)" alt="p_{1}= Pr(N_1\leq n_1)" class="tex"/>, if <img src="../images/Algorithm(CrossTabs)/math-ad6e799464206e320a500025fbb12f7f.png?v=0" title="n_{1}\leq (n_{1}+n_{2})(n_{1}+n_{3})/N" alt="n_{1}\leq (n_{1}+n_{2})(n_{1}+n_{3})/N" class="tex"/></dd></dl>
<dl><dd><img src="../images/Algorithm(CrossTabs)/math-e793456f33b630b6743c3e2532b86d9e.png?v=0" title="p_{1}= Pr(N_1\geq n_1)" alt="p_{1}= Pr(N_1\geq n_1)" class="tex"/>, if <img src="../images/Algorithm(CrossTabs)/math-dff4b325fc0edc3fc4cf9134afe80cd6.png?v=0" title="n_{1}&gt;(n_{1}+n_{2})(n_{1}+n_{3})/N" alt="n_{1}&gt;(n_{1}+n_{2})(n_{1}+n_{3})/N" class="tex"/></dd></dl>
<p><br />
</p>
<dl><dd><img src="../images/Algorithm(CrossTabs)/math-fb4549dbe0388469b28f1e469e8dbccc.png?v=0" title="p_3 = \sum_{x:\text{ between }\min(n_1+n_2,n_1+n_3) \text{ and } (n_1+1); Pr(N_1=x) \leq Pr(N_1=n_1)} Pr(N_1=x)" alt="p_3 = \sum_{x:\text{ between }\min(n_1+n_2,n_1+n_3) \text{ and } (n_1+1); Pr(N_1=x) \leq Pr(N_1=n_1)} Pr(N_1=x)" class="tex"/></dd></dl>
<h3><a name="Measures_of_Association"></a><span class="mw-headline">Measures of Association</span></h3>
<p>Define
</p>
<dl><dd> <img src="../images/Algorithm(CrossTabs)/math-e1447424a87a72997354115e74f780d2.png?v=0" title="D_r = N^2 - \sum_{i=1}^{R}r_i^2" alt="D_r = N^2 - \sum_{i=1}^{R}r_i^2" class="tex"/></dd>
<dd> <img src="../images/Algorithm(CrossTabs)/math-9a63691fc5e41c8da93b03ae0e8fc436.png?v=0" title="D_c = N^2 - \sum_{j=1}^{C}c_j^2" alt="D_c = N^2 - \sum_{j=1}^{C}c_j^2" class="tex"/> </dd>
<dd> <img src="../images/Algorithm(CrossTabs)/math-0bf9a641a2a2f9570c4874c60e4ff055.png?v=0" title="C_{ij} = \sum_{h&lt;i}\sum_{k&lt;j}f_{hk}+\sum_{h&gt;i}\sum_{k&gt;j}f_{hk}" alt="C_{ij} = \sum_{h&lt;i}\sum_{k&lt;j}f_{hk}+\sum_{h&gt;i}\sum_{k&gt;j}f_{hk}" class="tex"/> </dd>
<dd> <img src="../images/Algorithm(CrossTabs)/math-abe49e571496aef0ee9284532118e575.png?v=0" title="D_{ij} = \sum_{h&lt;i}\sum_{k&gt;j}f_{hk}+\sum_{h&gt;i}\sum_{k&lt;j}f_{hk}" alt="D_{ij} = \sum_{h&lt;i}\sum_{k&gt;j}f_{hk}+\sum_{h&gt;i}\sum_{k&lt;j}f_{hk}" class="tex"/> </dd>
<dd> <img src="../images/Algorithm(CrossTabs)/math-ae03d6a4fc3d6bde417a7352ed6c0d76.png?v=0" title="P = \sum_{ij}f_{ij}C_{ij}" alt="P = \sum_{ij}f_{ij}C_{ij}" class="tex"/></dd>
<dd> <img src="../images/Algorithm(CrossTabs)/math-1306db1d8aedf83c64c23134dc6f6cce.png?v=0" title="Q = \sum_{ij}f_{ij}D_{ij}" alt="Q = \sum_{ij}f_{ij}D_{ij}" class="tex"/> </dd>
<dd> <img src="../images/Algorithm(CrossTabs)/math-1915a32e0c91c1f84a3056a294c65d30.png?v=0" title="r_i = \sum_{j=1}^{C}f_{ij}" alt="r_i = \sum_{j=1}^{C}f_{ij}" class="tex"/> is subtotal of the <img src="../images/Algorithm(CrossTabs)/math-865c0c0b4ab0e063e5caa3387c1a8741.png?v=0" title="i" alt="i" class="tex"/>th row</dd>
<dd> <img src="../images/Algorithm(CrossTabs)/math-be38e302d77e59345377566d7423034c.png?v=0" title="c_j = \sum_{i=1}^{R}f_{ij}" alt="c_j = \sum_{i=1}^{R}f_{ij}" class="tex"/> is subtotal of the <img src="../images/Algorithm(CrossTabs)/math-363b122c528f54df4a0446b6bab05515.png?v=0" title="j" alt="j" class="tex"/>th column</dd>
<dd> <img src="../images/Algorithm(CrossTabs)/math-886246e4a3101263e1138e72bfc977e6.png?v=0" title="N = \sum_{j=1}^{C}c_j = \sum_{i=1}^{R}r_i" alt="N = \sum_{j=1}^{C}c_j = \sum_{i=1}^{R}r_i" class="tex"/> is the total number.</dd></dl>
<table class="simple">
<tr>
<th colspan="2"> Statistics
</th>
<th>Formula and Explanation
</th>
<th>Standard Error
</th></tr>
<tr>
<th colspan="2">Phi Coefficient
</th>
<td><img src="../images/Algorithm(CrossTabs)/math-ade4cff8aeb025b9cae15f35a2dcd46d.png?v=0" title="\phi = \sqrt{\chi_p^2/N}" alt="\phi = \sqrt{\chi_p^2/N}" class="tex"/>, which is calculated for not 2 x 2 table. For a 2 x 2 table, it is equal to <img src="../images/Algorithm(CrossTabs)/math-4b43b0aee35624cd95b910189b3dc231.png?v=0" title="r" alt="r" class="tex"/>
<p>The value ranges from <img src="../images/Algorithm(CrossTabs)/math-ab68f1b76095c4fe09bbc55661bfa168.png?v=0" title="[0,M]" alt="[0,M]" class="tex"/>, where <img src="../images/Algorithm(CrossTabs)/math-557fee2c06855d00673e05c0d165d00e.png?v=0" title="M = min(\sqrt{R-1},\sqrt{C-1})" alt="M = min(\sqrt{R-1},\sqrt{C-1})" class="tex"/>,
</p>
</td>
<td>
</td></tr>
<tr>
<th colspan="2">Cramer's V
</th>
<td><img src="../images/Algorithm(CrossTabs)/math-32808fbdf779579250ced07a3b57f092.png?v=0" title="V = \sqrt{\frac{\chi_p^2}{N\min\{R,C\}}}" alt="V = \sqrt{\frac{\chi_p^2}{N\min\{R,C\}}}" class="tex"/>
</td>
<td>
</td></tr>
<tr>
<th colspan="2">Contingency Coefficient
</th>
<td><img src="../images/Algorithm(CrossTabs)/math-0512a20370c1a32d02c46e82c38d5767.png?v=0" title="CC = \sqrt{\frac{\chi_p^2}{\chi_p^2+N}}" alt="CC = \sqrt{\frac{\chi_p^2}{\chi_p^2+N}}" class="tex"/>
</td>
<td>
</td></tr>
<tr>
<th colspan="2">Gamma
</th>
<td> <img src="../images/Algorithm(CrossTabs)/math-ca54853c333dece226fd892c1471fca6.png?v=0" title="\gamma = \frac{P-Q}{P+Q}" alt="\gamma = \frac{P-Q}{P+Q}" class="tex"/>
</td>
<td> <img src="../images/Algorithm(CrossTabs)/math-ceeab2bf0dfc9669dc3af396bdf3b9f0.png?v=0" title="\frac{2}{P+Q}\sqrt{\sum_{ij}f_{ij}(C_{ij}-D_{ij})^2-\frac{1}{N}(P-Q)^2}" alt="\frac{2}{P+Q}\sqrt{\sum_{ij}f_{ij}(C_{ij}-D_{ij})^2-\frac{1}{N}(P-Q)^2}" class="tex"/>
</td></tr>
<tr>
<th rowspan="2">Kendall
</th>
<td> Tau-b
</td>
<td> <img src="../images/Algorithm(CrossTabs)/math-d483a07e25f428eae9e524345b1f6097.png?v=0" title="\tau_b = \frac{P-Q}{\sqrt{D_rD_c}}" alt="\tau_b = \frac{P-Q}{\sqrt{D_rD_c}}" class="tex"/>
</td>
<td> <img src="../images/Algorithm(CrossTabs)/math-e06a2ae207bc0f4367248d2f7795410b.png?v=0" title="2\sqrt{\frac{1}{D_rD_c}\left[\sum_{ij}f_{ij}(C_{ij}-D_{ij})^2-\frac{1}{N}(P-Q)^2\right]}" alt="2\sqrt{\frac{1}{D_rD_c}\left[\sum_{ij}f_{ij}(C_{ij}-D_{ij})^2-\frac{1}{N}(P-Q)^2\right]}" class="tex"/>
</td></tr>
<tr>
<td> Tau-c
</td>
<td> <img src="../images/Algorithm(CrossTabs)/math-bf85650ad481dd12febaf1005608bac6.png?v=0" title="\tau_c = \frac{(P-Q)q}{N^2(q-1)}" alt="\tau_c = \frac{(P-Q)q}{N^2(q-1)}" class="tex"/>, where <img src="../images/Algorithm(CrossTabs)/math-0d910548fc627e702b2e9d398eeed3bc.png?v=0" title="q = \min\{R,C\}" alt="q = \min\{R,C\}" class="tex"/>
</td>
<td> <img src="../images/Algorithm(CrossTabs)/math-423d45130bb7e6a7741ed999591467b1.png?v=0" title="\frac{2q}{N^2(q-1)}\sqrt{\sum_{ij}f_{ij}(C_{ij}-D_{ij})^2-\frac{1}{N}(P-Q)^2}" alt="\frac{2q}{N^2(q-1)}\sqrt{\sum_{ij}f_{ij}(C_{ij}-D_{ij})^2-\frac{1}{N}(P-Q)^2}" class="tex"/>
</td></tr>
<tr>
<th rowspan="3">Somer's D
</th>
<td> C<img src="../images/Algorithm(CrossTabs)/math-b99834bc19bbad24580b3adfa04fb947.png?v=0" title="|" alt="|" class="tex"/>R
</td>
<td> <img src="../images/Algorithm(CrossTabs)/math-a55cc67126812452ebb989878123e1d1.png?v=0" title="d_{C|R} = \frac{P-Q}{D_r}" alt="d_{C|R} = \frac{P-Q}{D_r}" class="tex"/>
</td>
<td> <img src="../images/Algorithm(CrossTabs)/math-e1b49506418c36946f11b0273a1ff255.png?v=0" title="\frac{2}{D_r}\sqrt{\sum_{ij}f_{ij}(C_{ij}-D_{ij})^2-\frac{1}{N}(P-Q)^2}" alt="\frac{2}{D_r}\sqrt{\sum_{ij}f_{ij}(C_{ij}-D_{ij})^2-\frac{1}{N}(P-Q)^2}" class="tex"/>
</td></tr>
<tr>
<td> R<img src="../images/Algorithm(CrossTabs)/math-b99834bc19bbad24580b3adfa04fb947.png?v=0" title="|" alt="|" class="tex"/>C
</td>
<td> <img src="../images/Algorithm(CrossTabs)/math-95c75be2de7e1e529a221f1b6ff2c0ae.png?v=0" title="d_{R|C} = \frac{P-Q}{D_c}" alt="d_{R|C} = \frac{P-Q}{D_c}" class="tex"/>
</td>
<td> <img src="../images/Algorithm(CrossTabs)/math-08de37f7d4b6824a6f734bab201f8682.png?v=0" title="\frac{2}{D_c}\sqrt{\sum_{ij}f_{ij}(C_{ij}-D_{ij})^2-\frac{1}{N}(P-Q)^2}" alt="\frac{2}{D_c}\sqrt{\sum_{ij}f_{ij}(C_{ij}-D_{ij})^2-\frac{1}{N}(P-Q)^2}" class="tex"/>
</td></tr>
<tr>
<td>Symmetric
</td>
<td> <img src="../images/Algorithm(CrossTabs)/math-7b2342cd106f701a2394591454e27dc3.png?v=0" title="d = 2\frac{P-Q}{D_c+D_r}" alt="d = 2\frac{P-Q}{D_c+D_r}" class="tex"/>
</td>
<td> <img src="../images/Algorithm(CrossTabs)/math-13b710204e1ae878fb90eee4ce577ed8.png?v=0" title="\frac{4}{D_c+D_r}\sqrt{\sum_{ij}f_{ij}(C_{ij}-D_{ij})^2-\frac{1}{N}(P-Q)^2}" alt="\frac{4}{D_c+D_r}\sqrt{\sum_{ij}f_{ij}(C_{ij}-D_{ij})^2-\frac{1}{N}(P-Q)^2}" class="tex"/>
</td></tr>
<tr>
<th rowspan="3">Lambda
</th>
<td> C<img src="../images/Algorithm(CrossTabs)/math-b99834bc19bbad24580b3adfa04fb947.png?v=0" title="|" alt="|" class="tex"/>R
</td>
<td> <img src="../images/Algorithm(CrossTabs)/math-0fcfa7cd51e5e3ebb6720715537fc2d4.png?v=0" title="\lambda_{C|R} = \frac{1}{N-c_m}\left(\sum_{i=1}^{R}f_{im}-c_m\right)" alt="\lambda_{C|R} = \frac{1}{N-c_m}\left(\sum_{i=1}^{R}f_{im}-c_m\right)" class="tex"/>, where <img src="../images/Algorithm(CrossTabs)/math-45764555b24d287ac9b6919d6e8d06e3.png?v=0" title="f_{im}" alt="f_{im}" class="tex"/> is the largest count in ith row, and <img src="../images/Algorithm(CrossTabs)/math-809448c12da6a61638ab2987bc9fcaeb.png?v=0" title="c_m" alt="c_m" class="tex"/> is the largest column subtotal.
</td>
<td> <img src="../images/Algorithm(CrossTabs)/math-40624954a038197124010a9924745b44.png?v=0" title="\sqrt{ \frac{ N - \displaystyle\sum_{i=1}^{R} f_{im} }{ (N-c_m)^3 } \left(\sum_{i=1}^{R} f_{im} + c_m -2\sum_{i=1}^{R} (f_{im}|l_i=l) \right) }" alt="\sqrt{ \frac{ N - \displaystyle\sum_{i=1}^{R} f_{im} }{ (N-c_m)^3 } \left(\sum_{i=1}^{R} f_{im} + c_m -2\sum_{i=1}^{R} (f_{im}|l_i=l) \right) }" class="tex"/>,<br />
<p>where <img src="../images/Algorithm(CrossTabs)/math-b39335b6584e8455ab4de3c86b439e21.png?v=0" title="l_i" alt="l_i" class="tex"/> is the column index of <img src="../images/Algorithm(CrossTabs)/math-45764555b24d287ac9b6919d6e8d06e3.png?v=0" title="f_{im}" alt="f_{im}" class="tex"/>, <img src="../images/Algorithm(CrossTabs)/math-2db95e8e1a9267b7a1188556b2013b33.png?v=0" title="l" alt="l" class="tex"/> is the index of column subtotal for <img src="../images/Algorithm(CrossTabs)/math-809448c12da6a61638ab2987bc9fcaeb.png?v=0" title="c_m" alt="c_m" class="tex"/>. 
</p>
</td></tr>
<tr>
<td> R<img src="../images/Algorithm(CrossTabs)/math-b99834bc19bbad24580b3adfa04fb947.png?v=0" title="|" alt="|" class="tex"/>C
</td>
<td> <img src="../images/Algorithm(CrossTabs)/math-8907cb58cfbcf70876c3fa1d022a54da.png?v=0" title="\lambda_{R|C} = \frac{1}{N-r_m}\left(\sum_{j=1}^{C}f_{mj}-r_m\right)" alt="\lambda_{R|C} = \frac{1}{N-r_m}\left(\sum_{j=1}^{C}f_{mj}-r_m\right)" class="tex"/>,
<p>where <img src="../images/Algorithm(CrossTabs)/math-4df3903f1f8e364348208bf47bb42ec0.png?v=0" title="f_{mj}" alt="f_{mj}" class="tex"/> is the largest count in jth column, and <img src="../images/Algorithm(CrossTabs)/math-ad2fdd8ee6e6b23d512c21f9be0c1117.png?v=0" title="r_m" alt="r_m" class="tex"/> is the largest row subtotal.
</p>
</td>
<td> <img src="../images/Algorithm(CrossTabs)/math-1211ae29c851f8f0a06dffae60fea2b7.png?v=0" title="\sqrt{ \frac{ N - \displaystyle\sum_{j=1}^{C} f_{mj} }{ (N-r_m)^3 } \left(\sum_{j=1}^{C} f_{mj} + r_m -2\sum_{j=1}^{C} (f_{mj}|k_j=k) \right) }" alt="\sqrt{ \frac{ N - \displaystyle\sum_{j=1}^{C} f_{mj} }{ (N-r_m)^3 } \left(\sum_{j=1}^{C} f_{mj} + r_m -2\sum_{j=1}^{C} (f_{mj}|k_j=k) \right) }" class="tex"/>,<br />
<p>where <img src="../images/Algorithm(CrossTabs)/math-a4546bcd382733f23282f745bd3e2e98.png?v=0" title="k_j" alt="k_j" class="tex"/> is the row index of <img src="../images/Algorithm(CrossTabs)/math-4df3903f1f8e364348208bf47bb42ec0.png?v=0" title="f_{mj}" alt="f_{mj}" class="tex"/>, <img src="../images/Algorithm(CrossTabs)/math-8ce4b16b22b58894aa86c421e8759df3.png?v=0" title="k" alt="k" class="tex"/> is the index of row subtotal for <img src="../images/Algorithm(CrossTabs)/math-ad2fdd8ee6e6b23d512c21f9be0c1117.png?v=0" title="r_m" alt="r_m" class="tex"/>. 
</p>
</td></tr>
<tr>
<td>Symmetric
</td>
<td><img src="../images/Algorithm(CrossTabs)/math-e1eba21c82a1b082d636a63187cb00a7.png?v=0" title="\lambda = \frac { \displaystyle \sum_{i=1}^{R}f_{im} + \sum_{j=1}^{C}f_{mj} - c_m - r_m }{2N-r_m-c_m}" alt="\lambda = \frac { \displaystyle \sum_{i=1}^{R}f_{im} + \sum_{j=1}^{C}f_{mj} - c_m - r_m }{2N-r_m-c_m}" class="tex"/>
</td>
<td><img src="../images/Algorithm(CrossTabs)/math-19a542d5e209aac0810776eadb8cedef.png?v=0" title="\frac{1}{w^2} \sqrt{ wvy - 2w^2\left( N-\sum_{i=1}^{R} (f_{im}|i=k_{l_i}) \right) - 2v^2(N-f_{kl}) }" alt="\frac{1}{w^2} \sqrt{ wvy - 2w^2\left( N-\sum_{i=1}^{R} (f_{im}|i=k_{l_i}) \right) - 2v^2(N-f_{kl}) }" class="tex"/><br />
<p>where <img src="../images/Algorithm(CrossTabs)/math-482184ecfe89cf022f132ec45b287995.png?v=0" title="w=2N-r_m-c_m" alt="w=2N-r_m-c_m" class="tex"/>,  <img src="../images/Algorithm(CrossTabs)/math-e440a2c7d776b0b2dbea9c561d0b426c.png?v=0" title="v = 2N - \sum_{i=1}^{R}f_{im} - \sum_{j=1}^{C}f_{mj}" alt="v = 2N - \sum_{i=1}^{R}f_{im} - \sum_{j=1}^{C}f_{mj}" class="tex"/>,  <img src="../images/Algorithm(CrossTabs)/math-c6adf2e551f3d61a8c29e74ec448990b.png?v=0" title="x = \sum_{i=1}^R (f_{im}|l_i=l) + \sum_{j=1}^C (f_{mj}|k_j=k) + f_{km} + f_{ml}" alt="x = \sum_{i=1}^R (f_{im}|l_i=l) + \sum_{j=1}^C (f_{mj}|k_j=k) + f_{km} + f_{ml}" class="tex"/>,  and <img src="../images/Algorithm(CrossTabs)/math-9864388d59406b2ca9fc4b3b8b495d0c.png?v=0" title="y = 8N - w - v - 2x" alt="y = 8N - w - v - 2x" class="tex"/>.
</p>
</td></tr>
<tr>
<th rowspan="3">Uncertainty
</th>
<td> C<img src="../images/Algorithm(CrossTabs)/math-b99834bc19bbad24580b3adfa04fb947.png?v=0" title="|" alt="|" class="tex"/>R
</td>
<td> <img src="../images/Algorithm(CrossTabs)/math-41d754f4bf76713a35b0c1284fd54c34.png?v=0" title="U_{R|C} = \frac{U(X)+U(Y)-U(XY)}{U(Y)}" alt="U_{R|C} = \frac{U(X)+U(Y)-U(XY)}{U(Y)}" class="tex"/>, where <img src="../images/Algorithm(CrossTabs)/math-6c101af2c4e5d9d4e9a71bfd9cd1cee9.png?v=0" title="U(X) = -\sum_{i=1}^{R}\frac{r_i}{N}\ln\frac{r_i}{N}" alt="U(X) = -\sum_{i=1}^{R}\frac{r_i}{N}\ln\frac{r_i}{N}" class="tex"/>, and <img src="../images/Algorithm(CrossTabs)/math-9801595969688b934b63df41a05e7c30.png?v=0" title="U(Y) = -\sum_{j=1}^{C}\frac{c_j}{N}\ln\frac{c_j}{N}" alt="U(Y) = -\sum_{j=1}^{C}\frac{c_j}{N}\ln\frac{c_j}{N}" class="tex"/>, and <img src="../images/Algorithm(CrossTabs)/math-ea444840a2b4f491836ac96f310228fc.png?v=0" title="U(XY) = -\sum_{ij}\frac{f_{ij}}{N}\ln\frac{f_{ij}}{N}" alt="U(XY) = -\sum_{ij}\frac{f_{ij}}{N}\ln\frac{f_{ij}}{N}" class="tex"/>
</td>
<td> <img src="../images/Algorithm(CrossTabs)/math-9ea06b87526a38e4d91042ca8c4fe917.png?v=0" title="\frac{1}{NU(Y)}\sqrt{P-N\left(U(X)+U(Y)-U(XY)\right)^2}" alt="\frac{1}{NU(Y)}\sqrt{P-N\left(U(X)+U(Y)-U(XY)\right)^2}" class="tex"/>, where <img src="../images/Algorithm(CrossTabs)/math-bed50ae560cb148d344cf16dcd5a0108.png?v=0" title="P = \sum_{ij}f_{ij}\ln\left(\frac{r_ic_j}{f_{ij}N}\right)^2" alt="P = \sum_{ij}f_{ij}\ln\left(\frac{r_ic_j}{f_{ij}N}\right)^2" class="tex"/>
</td></tr>
<tr>
<td> R<img src="../images/Algorithm(CrossTabs)/math-b99834bc19bbad24580b3adfa04fb947.png?v=0" title="|" alt="|" class="tex"/>C
</td>
<td> <img src="../images/Algorithm(CrossTabs)/math-2f741623b6366e540eaba9c97d083e7b.png?v=0" title="U_{C|R} = \frac{U(X)+U(Y)-U(XY)}{U(X)}" alt="U_{C|R} = \frac{U(X)+U(Y)-U(XY)}{U(X)}" class="tex"/>
</td>
<td> <img src="../images/Algorithm(CrossTabs)/math-eed562bf2445e78c73aa3c344fb75249.png?v=0" title="\frac{1}{NU(X)}\sqrt{P-N\left(U(X)+U(Y)-U(XY)\right)^2}" alt="\frac{1}{NU(X)}\sqrt{P-N\left(U(X)+U(Y)-U(XY)\right)^2}" class="tex"/>
</td></tr>
<tr>
<td>Symmetric
</td>
<td> <img src="../images/Algorithm(CrossTabs)/math-1b42c23d992439355e27425484c6fe29.png?v=0" title="U = 2\frac{U(X)+U(Y)-U(XY)}{U(X)+U(Y)}" alt="U = 2\frac{U(X)+U(Y)-U(XY)}{U(X)+U(Y)}" class="tex"/>
</td>
<td> <img src="../images/Algorithm(CrossTabs)/math-16431aabee7e70358843ece1fbd3d1c7.png?v=0" title="\frac{2}{N(U(X)+U(Y))}\sqrt{P-\frac{1}{N}\left(U(X)+U(Y)-U(XY)\right)^2}" alt="\frac{2}{N(U(X)+U(Y))}\sqrt{P-\frac{1}{N}\left(U(X)+U(Y)-U(XY)\right)^2}" class="tex"/>
</td></tr></table>
<h3><a name="Measures_of_Agreement"></a><span class="mw-headline">Measures of Agreement</span></h3>
<p>This table is calculated only when two conditions are satisfied (1) square table, i.e. <img src="../images/Algorithm(CrossTabs)/math-edb010593263510315660511c8d3fffd.png?v=0" title="R=C" alt="R=C" class="tex"/>, and (2) the row variable and column variable have same values.
</p><p>The Kappa statistic is calculated by
</p>
<dl><dd><img src="../images/Algorithm(CrossTabs)/math-5254a7c3d0d060337a3cbbbdf6875b25.png?v=0" title=" \kappa = \frac{N\sum_{i=1}^{R}f_{ii} - \sum_{i=1}^{R}r_ic_i}{N^2 - \sum_{i=1}^{R}r_ic_i}" alt=" \kappa = \frac{N\sum_{i=1}^{R}f_{ii} - \sum_{i=1}^{R}r_ic_i}{N^2 - \sum_{i=1}^{R}r_ic_i}" class="tex"/></dd></dl>
<p>The standard error is estimated by:
</p>
<dl><dd><img src="../images/Algorithm(CrossTabs)/math-d5df0387ad3559e108f0277be4b93139.png?v=0" title="SE_1 = \frac{1}{1-p_e} \sqrt{ \frac{A+B-C}{N} }" alt="SE_1 = \frac{1}{1-p_e} \sqrt{ \frac{A+B-C}{N} }" class="tex"/>.</dd></dl>
<p>where <img src="../images/Algorithm(CrossTabs)/math-bf7508ed7ef577a0788e418015208540.png?v=0" title="p_e = \frac{ \sum_{i=1}^R r_i c_i }{ N^2 }" alt="p_e = \frac{ \sum_{i=1}^R r_i c_i }{ N^2 }" class="tex"/>, <img src="../images/Algorithm(CrossTabs)/math-076dba1512e9c770a80347941db7b618.png?v=0" title=" A = \sum_{i=1}^R \frac{f_{ii}}{N} \left( 1-\frac{(r_i+c_i)(1- \kappa)}{N} \right)^2" alt=" A = \sum_{i=1}^R \frac{f_{ii}}{N} \left( 1-\frac{(r_i+c_i)(1- \kappa)}{N} \right)^2" class="tex"/>, <br />
<img src="../images/Algorithm(CrossTabs)/math-7ccc2452ce9ae57bfb1b04168cf43e22.png?v=0" title="B = (1-\kappa)^2 \sum_{i=1}^R \sum_{j=1, j \ne i}^{C} \frac{f_{ij} (r_i+c_j)^2}{N^3}" alt="B = (1-\kappa)^2 \sum_{i=1}^R \sum_{j=1, j \ne i}^{C} \frac{f_{ij} (r_i+c_j)^2}{N^3}" class="tex"/> and <img src="../images/Algorithm(CrossTabs)/math-b3d3228022c4151930cd2512e69756bf.png?v=0" title="C = \Bigl( \kappa - p_e( 1-\kappa ) \Bigr)^2" alt="C = \Bigl( \kappa - p_e( 1-\kappa ) \Bigr)^2" class="tex"/>.
</p><p>The corresponding asymptotic standard error under the null hypothesis <img src="../images/Algorithm(CrossTabs)/math-25613c08c6b68a9704ffc406287fdbd2.png?v=0" title="\kappa = 0" alt="\kappa = 0" class="tex"/> is given by
</p>
<dl><dd><img src="../images/Algorithm(CrossTabs)/math-2fb11a39b32089a9fb7b374c23a68abc.png?v=0" title="SE_0 = \sqrt{\frac{1}{N\left(N^2 - \sum_{i=1}^{R}r_ic_i\right)^2} \left[N^2\sum_{i=1}^{R}r_ic_i + \left(\sum_{i=1}^{R}r_ic_i\right)^2 - N \sum_{i=1}^{R}r_ic_i(r_i+c_i)\right]}" alt="SE_0 = \sqrt{\frac{1}{N\left(N^2 - \sum_{i=1}^{R}r_ic_i\right)^2} \left[N^2\sum_{i=1}^{R}r_ic_i + \left(\sum_{i=1}^{R}r_ic_i\right)^2 - N \sum_{i=1}^{R}r_ic_i(r_i+c_i)\right]}" class="tex"/></dd></dl>
<p>Another related statistic is Bowker, which is used to test <img src="../images/Algorithm(CrossTabs)/math-ba67ef5ead9d27984e0fc008b6a4ceeb.png?v=0" title="H_0: p_{ij} = p_{ji}" alt="H_0: p_{ij} = p_{ji}" class="tex"/> for all pairs. If <img src="../images/Algorithm(CrossTabs)/math-7b6f9d86b5ef2eaa20b9fb1427a88ed1.png?v=0" title="R&gt;2" alt="R&gt;2" class="tex"/>, the statistic is calculated as
</p>
<dl><dd><img src="../images/Algorithm(CrossTabs)/math-d430e26fecf56fc1e12fb1c885b0977d.png?v=0" title="Bo = \sum_{i=1}^R \sum_{j=1}^{j&lt;i}\frac{(f_{ij}-f_{ji})^2}{f_{ij}+f_{ji}}" alt="Bo = \sum_{i=1}^R \sum_{j=1}^{j&lt;i}\frac{(f_{ij}-f_{ji})^2}{f_{ij}+f_{ji}}" class="tex"/></dd></dl>
<p>For lager samples, <img src="../images/Algorithm(CrossTabs)/math-b0d8913d4dfb85c2325c0773ff52ae98.png?v=0" title="Bo" alt="Bo" class="tex"/> is asymptotically chi-square distribution with degree of freedom <img src="../images/Algorithm(CrossTabs)/math-a2718716a0f1de1548d7c9904548263e.png?v=0" title="0.5R(R-1)" alt="0.5R(R-1)" class="tex"/>.
</p><p>Note that for 2 x 2 table, Bowker's test is equal to McNemar's test. So we only give Bowker's test.
</p>
<h3><a name="Odds_Ratio_and_Relative_Risk"></a><span class="mw-headline">Odds Ratio and Relative Risk</span></h3>
<p>These statistics are calculated only for 2 x 2 table.
</p>
<h4><a name="Odds_Ratio"></a><span class="mw-headline">Odds Ratio</span></h4>
<p>The Odds Ratio is calculated as
</p><p><img src="../images/Algorithm(CrossTabs)/math-3fa39a72468c2793e5b60fc04aa0aef1.png?v=0" title="OR = \frac{f_{11}f_{22}}{f_{12}f_{21}}" alt="OR = \frac{f_{11}f_{22}}{f_{12}f_{21}}" class="tex"/>
</p>
<h4><a name="Relative_Risk"></a><span class="mw-headline">Relative Risk</span></h4>
<p>The Relative Risks are given by
</p>
<dl><dd> <img src="../images/Algorithm(CrossTabs)/math-ddef868fb9aede240998288fda3c3aa7.png?v=0" title="P(Y_1|X_1)/P(Y_1|X_2) = \frac{f_{11}(f_{21}+f_{22})}{f_{21}(f_{11}+f_{12})}" alt="P(Y_1|X_1)/P(Y_1|X_2) = \frac{f_{11}(f_{21}+f_{22})}{f_{21}(f_{11}+f_{12})}" class="tex"/></dd>
<dd> <img src="../images/Algorithm(CrossTabs)/math-d2ceb3919433fdc636aaa24dbf97eff3.png?v=0" title="P(Y_1|X_2)/P(Y_1|X_1) = \frac{f_{21}(f_{11}+f_{12})}{f_{11}(f_{21}+f_{22})}" alt="P(Y_1|X_2)/P(Y_1|X_1) = \frac{f_{21}(f_{11}+f_{12})}{f_{11}(f_{21}+f_{22})}" class="tex"/></dd>
<dd> <img src="../images/Algorithm(CrossTabs)/math-beb356acfebcc913c83cc436c4c1a294.png?v=0" title="P(Y_2|X_1)/P(Y_2|X_2) = \frac{f_{12}(f_{21}+f_{22})}{f_{22}(f_{12}+f_{11})}" alt="P(Y_2|X_1)/P(Y_2|X_2) = \frac{f_{12}(f_{21}+f_{22})}{f_{22}(f_{12}+f_{11})}" class="tex"/></dd>
<dd> <img src="../images/Algorithm(CrossTabs)/math-dccda1547a25ca3e806a9ca71e7f18b8.png?v=0" title="P(Y_2|X_2)/P(Y_2|X_1) = \frac{f_{22}(f_{12}+f_{11})}{f_{12}(f_{21}+f_{22})}" alt="P(Y_2|X_2)/P(Y_2|X_1) = \frac{f_{22}(f_{12}+f_{11})}{f_{12}(f_{21}+f_{22})}" class="tex"/></dd></dl>
<h3><a name="Cochran-Mantel-Haenszel"></a><span class="mw-headline">Cochran-Mantel-Haenszel</span></h3>
<p>Define
</p>
<dl><dd> <img src="../images/Algorithm(CrossTabs)/math-a5f3c6a11b03839d46af9fb43c97c188.png?v=0" title="K" alt="K" class="tex"/> be the number of layers</dd>
<dd> <img src="../images/Algorithm(CrossTabs)/math-e556497bde20dfbfa75643809f1ebdf7.png?v=0" title="f_{ijk}" alt="f_{ijk}" class="tex"/> be the frequency in the ith row, jth column and kth layer</dd>
<dd> <img src="../images/Algorithm(CrossTabs)/math-7cf78813f9fae08fd878f1cc53cf8537.png?v=0" title="c_{jk} = \sum_{i=1}^{R} f_{ijk}" alt="c_{jk} = \sum_{i=1}^{R} f_{ijk}" class="tex"/> be the jth column, kth layer subtotal</dd>
<dd> <img src="../images/Algorithm(CrossTabs)/math-a724d1b708d3641b5ecf703c6e82edfe.png?v=0" title="r_{ik} = \sum_{j=1}^{C} f_{ijk}" alt="r_{ik} = \sum_{j=1}^{C} f_{ijk}" class="tex"/> be the ith row, kth layer subtotal</dd>
<dd> <img src="../images/Algorithm(CrossTabs)/math-f6efcc282f93fcf708632763b952abeb.png?v=0" title="n_{k} = \sum_{i=1}^{R}\sum_{j=1}^{C} f_{ijk}" alt="n_{k} = \sum_{i=1}^{R}\sum_{j=1}^{C} f_{ijk}" class="tex"/> be the kth layer subtotal</dd>
<dd> <img src="../images/Algorithm(CrossTabs)/math-6a3fbc33c2b95cce81a2b588a43535b3.png?v=0" title="E_{ijk} = \frac{r_{ik}c_{jk}}{n_k}" alt="E_{ijk} = \frac{r_{ik}c_{jk}}{n_k}" class="tex"/> be the expected frequency of the ith row jth column kth layer cell</dd>
<dd> <img src="../images/Algorithm(CrossTabs)/math-5f5f9e9f589b49daa28976461688df13.png?v=0" title="\hat{p}_{ik} = \frac{f_{i1k}}{r_{ik}}, d_k = \hat{p}_{1k} - \hat{p}_{2k}, \hat{p}_{k} = \frac{c_{1k}}{n_{k}}" alt="\hat{p}_{ik} = \frac{f_{i1k}}{r_{ik}}, d_k = \hat{p}_{1k} - \hat{p}_{2k}, \hat{p}_{k} = \frac{c_{1k}}{n_{k}}" class="tex"/></dd></dl>
<h4><a name="Mantel-Haenszel_statistic"></a><span class="mw-headline">Mantel-Haenszel statistic</span></h4>
<p>The Mantel-Haenszel statistic is given by
</p><p><img src="../images/Algorithm(CrossTabs)/math-a19d6f25b272775d916bf03f49c392a7.png?v=0" title="MH = \left(\sum_{k=1}^{K}\frac{r_{1k}r_{2k}}{n_k-1} \hat{p}_{k}(1-\hat{p}_{k}) \right)^{-1/2}\left(\big|\sum_{k=1}^{K} (f_{11k}-E_{11k})\big|-0.5\right)sgn\left(\sum_{k=1}^{K} (f_{11k}-E_{11k})\right)" alt="MH = \left(\sum_{k=1}^{K}\frac{r_{1k}r_{2k}}{n_k-1} \hat{p}_{k}(1-\hat{p}_{k}) \right)^{-1/2}\left(\big|\sum_{k=1}^{K} (f_{11k}-E_{11k})\big|-0.5\right)sgn\left(\sum_{k=1}^{K} (f_{11k}-E_{11k})\right)" class="tex"/>
</p><p>where sgn is the sign function <img src="../images/Algorithm(CrossTabs)/math-bac6f59daa3ed3f832a664093772d7f5.png?v=0" title="sgn(x) = I(x&gt;0)-I(x&lt;0)+0*I(x=0)" alt="sgn(x) = I(x&gt;0)-I(x&lt;0)+0*I(x=0)" class="tex"/>.
</p><p><br />
</p>
<h4><a name="Breslow-Day_statistic"></a><span class="mw-headline">Breslow-Day statistic</span></h4>
<p>The Breslow-Day statistic is
</p><p><img src="../images/Algorithm(CrossTabs)/math-9e373b8a5825fcf21df5156eec3131d9.png?v=0" title="BD = \sum_{k=1}^{K} V_k \left[f_{11k}-\hat{f}_{11k}\right]^2" alt="BD = \sum_{k=1}^{K} V_k \left[f_{11k}-\hat{f}_{11k}\right]^2" class="tex"/>
</p><p>where <img src="../images/Algorithm(CrossTabs)/math-51a2177fcf45f2b8a173881132bf7396.png?v=0" title="V_k = \frac{1}{\hat{f}_{11k}}+\frac{1}{\hat{f}_{12k}}+\frac{1}{\hat{f}_{21k}}+\frac{1}{\hat{f}_{22k}}" alt="V_k = \frac{1}{\hat{f}_{11k}}+\frac{1}{\hat{f}_{12k}}+\frac{1}{\hat{f}_{21k}}+\frac{1}{\hat{f}_{22k}}" class="tex"/>.
</p>
<h4><a name="Tarone.E2.80.99s_Statistic"></a><span class="mw-headline">Tarone’s Statistic</span></h4>
<p>The Tarone’s Statistic is
</p>
<dl><dd><img src="../images/Algorithm(CrossTabs)/math-2d5715c073380230f9458c06eed9823c.png?v=0" title="T = \sum_{k=1}^{K} V_k \left[f_{11k}-\hat{f}_{11k}\right]^2- \frac{\sum_{k=1}^{K}\left[f_{11k}-\hat{f}_{11k}\right]^2}{\sum_{k=1}^{K}\frac {1}{V_k} }" alt="T = \sum_{k=1}^{K} V_k \left[f_{11k}-\hat{f}_{11k}\right]^2- \frac{\sum_{k=1}^{K}\left[f_{11k}-\hat{f}_{11k}\right]^2}{\sum_{k=1}^{K}\frac {1}{V_k} }" class="tex"/></dd></dl>
<p>where <img src="../images/Algorithm(CrossTabs)/math-51a2177fcf45f2b8a173881132bf7396.png?v=0" title="V_k = \frac{1}{\hat{f}_{11k}}+\frac{1}{\hat{f}_{12k}}+\frac{1}{\hat{f}_{21k}}+\frac{1}{\hat{f}_{22k}}" alt="V_k = \frac{1}{\hat{f}_{11k}}+\frac{1}{\hat{f}_{12k}}+\frac{1}{\hat{f}_{21k}}+\frac{1}{\hat{f}_{22k}}" class="tex"/>.
</p>
<h4><a name="Common_Odds_Ratio"></a><span class="mw-headline">Common Odds Ratio</span></h4>
<p>For a 2×2×K table, the odds ratio at the kth layer is <img src="../images/Algorithm(CrossTabs)/math-21626330e02733bfb9c5ce9522a3b6a4.png?v=0" title="OR_{k}" alt="OR_{k}" class="tex"/>.
Assuming that the true common odds ratio exists,taht is <img src="../images/Algorithm(CrossTabs)/math-1a28ceae6382df6568013684e1188e9e.png?v=0" title="OR_{1}=OR_{2}=...OR_{K}" alt="OR_{1}=OR_{2}=...OR_{K}" class="tex"/> , Mantel-Haenszel's estimator of the common odds ratio is
</p>
<dl><dd><img src="../images/Algorithm(CrossTabs)/math-488db329f6cab4e8b965215f34861f44.png?v=0" title="\hat OR_{MH}=\frac{\sum_{k=1}^{K}\frac{f_{11k} f_{22k}}{n_{k}}}{\sum_{k=1}^{K}\frac{f_{12k} f_{21k}}{n_{k}}}" alt="\hat OR_{MH}=\frac{\sum_{k=1}^{K}\frac{f_{11k} f_{22k}}{n_{k}}}{\sum_{k=1}^{K}\frac{f_{12k} f_{21k}}{n_{k}}}" class="tex"/></dd></dl>
<p>The asymptotic variance for <img src="../images/Algorithm(CrossTabs)/math-30df4328bbc77817e4b8cd73539d4829.png?v=0" title="ln(\hat OR_{MH})" alt="ln(\hat OR_{MH})" class="tex"/> is:
</p>
<dl><dd><img src="../images/Algorithm(CrossTabs)/math-fe6d99fcba77f28d2e62c52d30d014f4.png?v=0" title="\hat Var[ln(\hat OR_{MH})]=\frac{\sum_{k=1}^{K}\frac{(f_{11k}+f_{22k})f_{11k} f_{22k}}{n_{k}^2}}{2\sum_{k=1}^{K}\frac{f_{11k} f_{22k}}{n_{k}}}+\frac{\sum_{k=1}^{K}\frac{(f_{11k}+f_{22k})f_{12k} f_{21k}+(f_{12k}+f_{21k})f_{11k} f_{22k}}{n_{k}^2}}{2\sum_{k=1}^{K}\frac{f_{11k} f_{22k}}{n_{k}}\sum_{k=1}^{K}\frac{f_{12k} f_{21k}}{n_{k}}}+\frac{\sum_{k=1}^{K}\frac{(f_{12k}+f_{21k})f_{12k} f_{21k}}{n_{k}^2}}{2\sum_{k=1}^{K}\frac{f_{12k} f_{21k}}{n_{k}}}" alt="\hat Var[ln(\hat OR_{MH})]=\frac{\sum_{k=1}^{K}\frac{(f_{11k}+f_{22k})f_{11k} f_{22k}}{n_{k}^2}}{2\sum_{k=1}^{K}\frac{f_{11k} f_{22k}}{n_{k}}}+\frac{\sum_{k=1}^{K}\frac{(f_{11k}+f_{22k})f_{12k} f_{21k}+(f_{12k}+f_{21k})f_{11k} f_{22k}}{n_{k}^2}}{2\sum_{k=1}^{K}\frac{f_{11k} f_{22k}}{n_{k}}\sum_{k=1}^{K}\frac{f_{12k} f_{21k}}{n_{k}}}+\frac{\sum_{k=1}^{K}\frac{(f_{12k}+f_{21k})f_{12k} f_{21k}}{n_{k}^2}}{2\sum_{k=1}^{K}\frac{f_{12k} f_{21k}}{n_{k}}}" class="tex"/></dd></dl>
<p>The lower confidence limit(LCL) and upper confidence limit(UCL) for <img src="../images/Algorithm(CrossTabs)/math-30df4328bbc77817e4b8cd73539d4829.png?v=0" title="ln(\hat OR_{MH})" alt="ln(\hat OR_{MH})" class="tex"/> is:
</p>
<dl><dd><img src="../images/Algorithm(CrossTabs)/math-687f3dc2952c8d8fc3ddafc624d1a1a3.png?v=0" title="ln(\hat OR_{MH})-z({alpha}/2)\sqrt{\hat Var[ln(\hat OR_{MH})]}" alt="ln(\hat OR_{MH})-z({alpha}/2)\sqrt{\hat Var[ln(\hat OR_{MH})]}" class="tex"/> and <img src="../images/Algorithm(CrossTabs)/math-e8dcfecb9336a5c778bcff6588b5c278.png?v=0" title="ln(\hat OR_{MH})+z(alpha/2)\sqrt{\hat Var[ln(\hat OR_{MH})]}" alt="ln(\hat OR_{MH})+z(alpha/2)\sqrt{\hat Var[ln(\hat OR_{MH})]}" class="tex"/></dd></dl>






