<h1 class="firstHeading">16.16 Median Filter</h1><p class='urlname' style='display: none'>Math-MedianFilter</p>
<h2><a name="Description"></a><span class="mw-headline">Description</span></h2>
<p>The <a class="external text" href="../../XFunction/X-Function/Medianflt2.html">medianflt2</a> X-Function filter examines the <i>N</i> by <i>N</i> pixels centered on each cell of a matrix, finds the median value of the <i>N</i> by <i>N</i> cells, and then replaces the central cell value with the median value. The filter is useful for removing spot noise (white spots, black spots) from an image because noisy pixels typically have values that depart significantly from the median cell values.
</p><p>To use this function:
</p>
<ol><li>Create a new matrix with data.</li>
<li>Activate the matrix.</li>
<li>Select <b>Analysis: Mathematics: Median Filter</b>.  This opens the <b>medianflt2</b> dialog.</li></ol>
<h2><a name="Dialog_Options"></a><span class="mw-headline">Dialog Options</span></h2>
<table class="dialogcontroltable">

<tr>
<th><b>Recalculate</b>
</th>
<td>
<p>Controls recalculation of analysis results
</p>
<ul><li><b>None</b> </li>
<li><b>Auto</b> </li>
<li><b>Manual</b>  </li></ul>
<p>For more information, see: <a class="external text" href="../../UserGuide/UserGuide/Recalculating_Analysis_Results.html">Recalculating Analysis Results</a>
</p>
</td></tr>
<tr>
<th>Input Matrix
</th>
<td>
<p>The input Matrix. 
</p><p>For help with range controls, see: <a class="external text" href="../../UserGuide/UserGuide/Specifying_Your_Input_Data.html">Specifying Your Input Data</a>
</p>
</td></tr>
<tr>
<th>Output Matrix
</th>
<td>
<p>The output matrix. 
</p><p>For help with the range controls, see: <a class="external text" href="../../UserGuide/UserGuide/Output_Results.html">Output Results</a>
</p>
</td></tr>
<tr>
<th>Window size
</th>
<td>
<p>Specify the filter window size. 
</p>
</td></tr>
<tr>
<th>Padding Option
</th>
<td>
<p>Specifies how to pad cells outside borders. 
</p>
<ul><li><b>ZeroPadding</b>
<dl><dd>Pads with zeros. </dd></dl></li>
<li><b>MapPadding</b>
<dl><dd>Uses reflection padding. </dd></dl></li>
<li><b>RepeatPadding</b>
<dl><dd>Repeats edge values. </dd></dl></li></ul>
</td></tr></table>
<h2><a name="Algorithm"></a><span class="mw-headline">Algorithm</span></h2>
<p>This function examines an <img src="../images/Median_Filter/math-3f1438366718b90f8ce4abbf31091d86.png?v=0" title="N\times N\!" alt="N\times N\!" class="tex"/> matrix centered on each cell of a matrix, finds the median value of the N by N cells, and then replaces the central cell value with the median value.
</p><p>For example:
</p><p>Source matrix: <img src="../images/Median_Filter/math-fae9e15ef0df6fa7a14158798ef72c52.png?v=0" title="\begin{pmatrix}2 &amp; 3&amp; 4 &amp;5\\3 &amp; 4 &amp;5 &amp;6\\4 &amp; 5 &amp;6 &amp;7\\5 &amp; 6 &amp; 7 &amp;8 \end{pmatrix}" alt="\begin{pmatrix}2 &amp; 3&amp; 4 &amp;5\\3 &amp; 4 &amp;5 &amp;6\\4 &amp; 5 &amp;6 &amp;7\\5 &amp; 6 &amp; 7 &amp;8 \end{pmatrix}" class="tex"/>
</p><p>For a 3 X 3 filter matrix, centered on cell (2,2), the matrix is:
</p><p><img src="../images/Median_Filter/math-a53a8dcdad4e79e20e94ec71b6cfebb2.png?v=0" title="\begin{pmatrix}2 &amp; 3&amp; 4 \\3 &amp; 4 &amp;5 \\4 &amp; 5 &amp;6 \end{pmatrix}\rightarrow(\overbrace{2,3,3,4},4,\overbrace{4,5,5,6})" alt="\begin{pmatrix}2 &amp; 3&amp; 4 \\3 &amp; 4 &amp;5 \\4 &amp; 5 &amp;6 \end{pmatrix}\rightarrow(\overbrace{2,3,3,4},4,\overbrace{4,5,5,6})" class="tex"/>
</p><p>The median value of the filter matrix is <img src="../images/Median_Filter/math-66a5ee94952f0b0caeff9ea59ae199d4.png?v=0" title="4\!" alt="4\!" class="tex"/>; therefore cell(2,2) in the output matrix remains  <img src="../images/Median_Filter/math-66a5ee94952f0b0caeff9ea59ae199d4.png?v=0" title="4\!" alt="4\!" class="tex"/>.
</p><p>When applying filtering to the edge of source matrix, the filter may fall outside the matrix. In such cases, we can pad the area outside the source matrix with zeros (Zero Padding), by reflection padding (Map Padding), or by repeating edge values (Repeat Padding).
</p>





