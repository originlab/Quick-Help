<h1 class="firstHeading">15.3.7.3 Nonlinear Implicit Curve Fitting (Pro Only)</h1><p class='urlname' style='display: none'>Fitting-Implicit</p>
<p>Origin's NLFit tool supports implicit fitting using the Orthogonal Distance Regression (ODR) algorithm, including fitting with X and/or Y error data.
</p><p><a  class="image"><img alt="NLFit Implicit Fit.png" src="../images/Nonlinear_Implicit_Curve_Fitting_(OriginPro_Only)/500px-NLFit_Implicit_Fit.png?v=70630" width="500"   /></a>
</p><p>To fit your data with implicit fitting functions, you may use the built-in functions of nonlinear implicit curve fitting, or create your own implicit fitting functions.
</p>
<h2><a name="Fit_with_the_Implicit_Functions"></a><span class="mw-headline">Fit with the Implicit Functions</span></h2>
<p>To fit with an implicit function,
</p>
<ol><li>Select from top menu <b>Analysis:Fitting:Nonlinear Implicit Curve Fit</b> to open the dialog.</li>
<li>Select a function under the <b>Implicit</b> category.</li></ol>
<p><br />
</p>
<table class="note">

<tr>
<td><b>Notes:</b> Implicit fit functions use <b>Orthogonal Distance Regression</b>.
</td></tr></table>
<table class="noborder">
	<tr>
	<td style="vertical-align:top" width="60"><img src="../images/Nonlinear_Implicit_Curve_Fitting_(OriginPro_Only)/Tutorial_icon.png?v=9654" width="57"  border="0" />
	</td>
	<td><p><b><span style="color:#0000FF">Mini Tutorial:Fit for Ellipse</span></b>
</p>
<ol><li> Import the Ellipse.dat file as single ASCII, which can be found under <b>\Samples\Curve Fitting</b></li>
<li> Highlight column A and B, select "<b>Analysis:Fitting:Nonlinear Implicit Curve Fitting</b>" to open the <b>NLFit</b> dialog</li>
<li> Choose "<b>Ellipse</b>" as the function type</li>
<li> Go to "Data Selection", make sure "Use Each Range's Setting" is chosen for Weight</li>
<li> In "Data Selection", expand the "Input" branch, and further expand "Range 1"</li>
<li> Under branch "x", choose "Arbitrary Dataset" for Weight, and choose column C(Weight X) as the dataset</li>
<li> Do the similar for "y", this time choose column D(Weight Y) as the dataset</li>
<li> Click "Fit" to fit the data and generate report sheet</li></ol>
</td></tr></table>
<h2><a name="Implicit_Fit_with_More_Than_Two_Variables"></a><span class="mw-headline">Implicit Fit with More Than Two Variables</span></h2>
<p>Please note the following when you carry out implicit fit with more than 2 independent variables:
</p>
<ul><li> It is required to have worksheet data as the input data, i.e. you cannot carry out the fitting from a data plot in this case. </li>
<li> Only the data type <b>Fitted Point for Input Data</b> is supported for all variables. To modify this setting in the <b>NLFit</b> dialog, go to the <b>Settings</b> taband select <b>Fitted Curves</b>. Expand the <b>Fitted Curves Plot</b> branch set <b>Data Type of <i>variable</i></b> to be <b>Fitted Point for Input Data</b>.</li>
<li> It is not supported to generate a fitted curve automatically, however you could get the data for fitted curve in the report sheet.</li></ul>
<h2><a name="Create_a_User-Defined_Implicit_Function_for_Fitting"></a><span class="mw-headline">Create a User-Defined Implicit Function for Fitting</span></h2>
<p>To create your own implicit fitting function, you need to first open the <b>Fitting Function Builder</b> either by:
</p>
<ol><li>Select <b>Analysis:Fitting:Nonlinear Implicit Curve Fit</b> to open the <b>NLFit</b> dialog.</li>
<li>Select <b>&lt;New...&gt;</b> in the drop-down menu of <b>Function</b>.</li></ol>
<p>or
</p><p>Choose <b>Tools:Fitting Function Builder</b> or press <b>F8</b>.
</p><p>When the <b>Fitting Function Builder</b> is open, 
</p>
<ol><li>Choose the <b>Create a New Function</b> radio button and click <b>Next</b>.</li>
<li>Choose the <b>Implicit</b> radio button for <b>Function Model</b>.</li></ol>
<p><br />
or
</p>
<ol><li> Select <b>Tools:Fitting Function Organizer</b> or press <b>F9</b> to open the <b>Fitting Function Organizer</b></li>
<li> Create a new function under the <b>Implicit</b> category.</li></ol>
<p>Note that you can only do implicit fitting with functions in the <b>Implicit</b> category, so you need to move any created implicit functions to the <b>Implicit</b> category in <b>Fitting Function Organizer</b>.
</p><p>Refer to the <a href="../../UserGuide/UserGuide/User-Defined_Fitting_Functions.html" title="UserGuide:User-Defined Fitting Functions">Origin help file</a> for how to define a user-defined fitting function.
</p>
<table class="noborder">
	<tr>
	<td style="vertical-align:top" width="60"><img src="../images/Nonlinear_Implicit_Curve_Fitting_(OriginPro_Only)/Tutorial_icon.png?v=9654" width="57"  border="0" />
	</td>
	<td><p>This is a short tutorial showing how to create a user-defined implicit fitting function and fit data with it.
</p>
<ol><li>Choose <b>Tools:Fitting Function Organizer</b> or press <b>F9</b> to open the <b>Fitting Function Organizer</b>.</li>
<li>Choose the <b>Implicit</b> category and click the <b>New Function</b> button.</li>
<li>Type <b>Hyperbolic</b> as <b>Function Name</b>, set the <b>Function Model</b> to <b>Implicit</b> and <b>Function Form</b> as <b>Equations</b>.</li>
<li>Type <b>x,y </b> in the <b>Variables</b> box, <b>a,b,c,d,e</b> in the <b>Parameters</b> box.</li>
<li>In the <b>Function Body</b>, type <pre class="lt" style="font-family:monospace;">f<span style="color: #000080;">=</span>a<span style="color: #000080;">*</span>x<span style="color: #000080;">^</span><span style="color: #0000dd;">2</span><span style="color: #000080;">+</span>b<span style="color: #000080;">*</span>x<span style="color: #000080;">*</span>y<span style="color: #000080;">+</span>c<span style="color: #000080;">*</span>y<span style="color: #000080;">^</span><span style="color: #0000dd;">2</span><span style="color: #000080;">+</span>d<span style="color: #000080;">*</span>x<span style="color: #000080;">+</span>e<span style="color: #000080;">*</span>y<span style="color: #000080;">-</span><span style="color: #0000dd;">1</span>;</pre> Note that the value f is estimated as 0.</li>
<li>Click <b>Save</b> to save the function and click <b>OK</b> to close the dialog.</li>
<li>Prepare some test data following a hyperbolic trend and import into Origin. You can use the <b>Simulate</b> button in the <b>Fitting Function Organizer</b> to generate data with added noise.</li>
<li>Set column A as x and column B as y.</li>
<li>Select column A and B and choose <b>Analysis:Fitting:Nonlinear Implicit Fitting</b> to open the <b>NLFit</b> dialog.</li>
<li>In the <b>Function</b> drop-down menu, choose <b>Hyperbolic(User)</b> and click <b>Fit</b>.</li></ol>
</td></tr></table>
<table class="note">

<tr>
<td><b>Note:</b> Fitting with any User Defined function requires parameter initialization. A value of <b>1</b> for each parameter should be sufficient for a Hyperbolic function.
</td></tr></table>


