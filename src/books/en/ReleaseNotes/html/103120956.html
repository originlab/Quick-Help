<link rel="stylesheet" href="//d2mvzyuse3lwjc.cloudfront.net/global/confWiki.css?t=201612160906" />
<div id="page">
    <div id="main" class="aui-page-panel">
        <div id="main-header">
            <h1 id="title-heading" class="pagetitle">
                <span id="title-text">
                    Origin 2017 NAG Changes
                </span>
            </h1>
        </div>
        <div id="content" class="view">
            <div id="main-content" class="wiki-content group">
                <p>Origin has included all functions from NAG MARK C LIBRARY since Origin 8 was released. These functions can be easily accessed from your Origin C function. In Origin 2017, the NAG library has been updated to the latest version Mark 25.</p><p>Linked Jira:  <a href="https://originlab.jira.com/browse/ORG-13393" class="external-link" rel="nofollow">ORG-13393</a></p><p><br /></p><p><br /></p><div class="confluence-information-macro confluence-information-macro-tip conf-macro output-block"><span class="aui-icon aui-icon-small aui-iconfont-approve confluence-information-macro-icon"> </span><div class="confluence-information-macro-body"><p>The details of each function can be referred to <strong>Origin C Guide: NAG C Library.</strong></p></div></div><div class="table-wrap"><table class="relative-table wrapped confluenceTable" style="width: 100.0%;"><colgroup><col style="width: 20.417194%;" /><col style="width: 79.58281%;" /></colgroup><tbody><tr><th class="confluenceTh">Summary</th><th class="confluenceTh">Details</th></tr><tr><td class="confluenceTd">The header file <strong>&lt;oc_nag8.h&gt;</strong> has been replaced by <strong>&lt;OC_nag.h&gt;</strong>, and the header file <strong>&lt;oc_nag_ex.h&gt;</strong> have been withdrawn.</td><td class="confluenceTd"><div class="content-wrapper"><p>For example:</p><div class="code panel pdl conf-macro output-block" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre">#include &lt;OC_nag8.h&gt;
#include &lt;nag\OC_nag_ex.h&gt;</pre>
</div></div><p>has to be changed into:</p><div class="code panel pdl conf-macro output-block" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre">#include &lt;OC_nag.h&gt;
//#include &lt;nag\OC_nag_ex.h&gt;//not need, only oc_nag.h required.</pre>
</div></div></div></td></tr><tr><td class="confluenceTd"><p>Some NAG functions have been withdrawn and replaced by other functions.</p><p><span style="color: rgb(51,102,255);">See the full list in the file below</span></p></td><td class="confluenceTd"><div class="content-wrapper"><p>If there is an error as below after compiling, it might be caused by the NAG function that have been withdrawn since the new release NAG C Library.</p><div class="confluence-information-macro confluence-information-macro-information conf-macro output-block"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"> </span><div class="confluence-information-macro-body"><p><span style="color: rgb(255,0,0);">Error, function or variable ***** not found.</span></p></div></div><p><br /></p><p>Referring to the following table <strong>Withdrawn Functions, </strong>the replacement function can be found and used instead. For example:</p><ul><li><p><strong>e01sac</strong> has been replaced by <strong>e01sjc </strong>since Mark 23.</p><div class="code panel pdl conf-macro output-block" style="border-width: 1px;"><div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>Origin C: Example: Interpolation and Gridding: XYZ Gridding by Renka Cline Method</b></div><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre">e01sac(method, nSize, vx, vy, vz, &amp;comm, &amp;optional, &amp;fail);</pre>
</div></div><p>can be changed instead of:</p><div class="code panel pdl conf-macro output-block" style="border-width: 1px;"><div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>Origin C: Example: Interpolation and Gridding: XYZ Gridding by Renka Cline Method </b></div><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre">//The arguments triang and grads that were not included in e01sac should be declared before calling the function e01sjc
e01sjc(nSize, vx, vy, vz, triang, grads, &amp;fail); </pre>
</div></div></li></ul><ul><li><p><strong>e01sbc</strong> has been replaced by <strong>e01skc </strong>since Mark 23.</p><div class="code panel pdl conf-macro output-block" style="border-width: 1px;"><div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>Origin C: Example: Interpolation and Gridding: XYZ Gridding by Renka Cline Method</b></div><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre">e01sbc(&amp;comm, nRows*nCols, vxGrid, vyGrid, mat, &amp;fail);</pre>
</div></div><p><span>can be changed instead of:</span></p><div class="code panel pdl conf-macro output-block" style="border-width: 1px;"><div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>Origin C: Example: Interpolation and Gridding: XYZ Gridding by Renka Cline Method </b></div><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre">//The arguments triang and grads that were not included in e01sbc should be declared before calling the function e01skc
//More details of e01skc can be referred to NGA C Library
for(int ii=0; ii &lt; nRows; ii++)
{
	for(int jj=0; jj &lt; nCols; jj++)
	{
		e01skc(nSize,vx, vy, vz, triang, grads, vxGrid[jj], vyGrid[ii], &amp;mat[jj][ii], &amp;fail);
    }
}</pre>
</div></div></li></ul><ul><li><p><strong>d01ajc</strong> has been replaced by <strong>d01sjc </strong>since Mark 24.</p><div class="code panel pdl conf-macro output-block" style="border-width: 1px;"><div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>Origin C: Example: Quadrature Integral: Simple Integral Function</b></div><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre">d01ajc(func, a, b, epsabs, epsrel, max_num_subint, &amp;result, &amp;abserr, &amp;qp, &amp;fail);</pre>
</div></div><p><span>can be changed instead of:</span></p><div class="code panel pdl conf-macro output-block" style="border-width: 1px;"><div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>Origin C: Example: Quadrature Integral: Simple Integral Function</b></div><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre">d01sjc(func, a, b, epsabs, epsrel, max_num_subint,&amp;result, &amp;abserr, &amp;qp, &amp;comm, &amp;fail);</pre>
</div></div><div class="confluence-information-macro confluence-information-macro-note conf-macro output-block"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"> </span><div class="confluence-information-macro-body"><p>The examples usually indicate the minimum change necessary, but many of the replacement functions have additional flexibility. You are recommended to familiarize yourself with the replacement NAG function in NAG C Library.</p></div></div></li></ul></div></td></tr><tr><td class="confluenceTd"><p>Some NAG functions have been withdrawn without replacement. </p><p><span style="color: rgb(51,102,255);">See the full list in the file below</span></p></td><td class="confluenceTd"><div class="content-wrapper"><p>If there is no replacement required of the withdrawn function, it can be removed from the code file. For example:</p><ul><li><p><strong>e01szc</strong> has been withdrawn since Mark 23.</p><div class="code panel pdl conf-macro output-block" style="border-width: 1px;"><div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>Origin C: Example: Interpolation and Gridding: XYZ Gridding by Renka Cline Method</b></div><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre">if (fail.code != NE_NOERROR)
{
	printf(&quot;Error from e01sac: %s\n&quot;, fail.message);
	//nag_2d_scat_free
	e01szc(&amp;comm);
	return fail.code;
}</pre>
</div></div><p><span>has to</span> be changed into:</p><div class="code panel pdl conf-macro output-block" style="border-width: 1px;"><div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>Origin C: Example: Interpolation and Gridding: XYZ Gridding by Renka Cline Method</b></div><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre">if (fail.code != NE_NOERROR)
{
	printf(&quot;Error from e01sac: %s\n&quot;, fail.message);
	return fail.code;
}</pre>
</div></div></li></ul></div></td></tr><tr><td colspan="1" class="confluenceTd"><p>Some NAG functions have been added.</p><p><span style="color: rgb(51,102,255);">See the full list in the file below</span></p></td><td colspan="1" class="confluenceTd"><div class="content-wrapper"><p>There are 551 new user-callable functions included in the NAG C Library of Origin 2017, which can be referred to the table <strong>New Functions</strong> as follow.</p><div class="confluence-information-macro confluence-information-macro-note conf-macro output-block"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"> </span><div class="confluence-information-macro-body"><p>Generally speaking, the function is new to NAG library in Origin 2017, if its mark of introduction is 23, 24 or 25.</p></div></div></div></td></tr></tbody></table></div><h3 id="Origin2017NAGChanges-Pleasedownloadthefileandcheckthefulllistofchanges:">Please download the file and check the full list of changes:</h3><p><a href="../images/attachments/103120956/att238878761.xlsx">NAG Function Changes.xlsx</a></p><p><br /></p><p><br /></p>
            </div>
        </div>
    </div>
</div>
