<h1 class="firstHeading">3 Working with Files</h1><p class='urlname' style='display: none'>Working-With-Files</p>
<p><br />
You can open the following types of files in the Code Builder MDI. Each of these file types can also be added to your
workspace. In addition, preprocessed source files of type *.OP can be added to the workspace (but not opened in Code
Builder).
</p>
<ul><li> <b>Source Files</b>: Source files contain Origin C functions that, once compiled, can be called from Origin. Source files have either .c or .cpp extension.</li></ul>
<ul><li> <b>Header Files</b>: Header files contain Origin C function prototypes and macro definitions. Header files have .h extension.</li></ul>
<ul><li> <b>LabTalk Script Files</b>: LabTalk script files are text files containing sections of LabTalk script. LabTalk script files can be run from Origin. Additionally, LabTalk script files can call Origin C functions. LabTalk script files have an .ogs extension.</li></ul>
<ul><li> <b>OCZ Files</b>: OCZ file (*.ocz) is encrypted Origin C source file which contains Origin C functions that, can be called from Origin once compiled. It generally works the same as common source files (*.c, *.cpp) but supports extra encryption protection. </li></ul>
<ul><li> <b>Text Files</b>: Text files can be used to document programming notes. They can also be used for LabTalk script and initialization files. Text files have a .txt extension. There are two special types of text files:</li></ul>
<dl><dd><ul><li><b>Configuration files</b> can define LabTalk variables, macros, and functions, as well as new menu commands.Configuration files have a .cnf extension. If you create a new configuration file in Code Builder, the default extension will be .txt. After creating the file, you can change the extension to .cnf from Windows Explorer.</li>
<li><b>Initialization files</b> can preset a number of Origin options. (For an example, review the Origin.ini file located in your Origin folder.) Initialization files have a .ini extension. If you create a new initialization file in Code Builder, the default extension will be .txt. After creating the file, you can change the extension to .ini from Windows Explorer.</li></ul></dd></dl>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Creating_a_New_File_and_Adding_it_to_the_Workspace"><span class="tocnumber">1</span> <span class="toctext">Creating a New File and Adding it to the Workspace</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Customizing_the_Source_File_Template"><span class="tocnumber">2</span> <span class="toctext">Customizing the Source File Template</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Encrypting_the_Source_File"><span class="tocnumber">3</span> <span class="toctext">Encrypting the Source File</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#To_Create_an_Encrypted_Source_File"><span class="tocnumber">3.1</span> <span class="toctext">To Create an Encrypted Source File</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#To_Encrypt_an_Existing_Source_File"><span class="tocnumber">3.2</span> <span class="toctext">To Encrypt an Existing Source File</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#To_Change_the_Password_of_Existing_Encrypted_File"><span class="tocnumber">3.3</span> <span class="toctext">To Change the Password of Existing Encrypted File</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-7"><a href="#Opening_an_Existing_File_and_Adding_it_to_the_Workspace"><span class="tocnumber">4</span> <span class="toctext">Opening an Existing File and Adding it to the Workspace</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#Opening_an_Existing_File_without_Adding_it_to_the_Workspace"><span class="tocnumber">5</span> <span class="toctext">Opening an Existing File without Adding it to the Workspace</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="#Adding_Open_Files_to_the_Workspace"><span class="tocnumber">6</span> <span class="toctext">Adding Open Files to the Workspace</span></a></li>
<li class="toclevel-1 tocsection-10"><a href="#Specifying_Workspace_Files_as_Packages_Project_System_Temporary_User.5BAutoLoad.5D_or_User_Files"><span class="tocnumber">7</span> <span class="toctext">Specifying Workspace Files as Packages Project System Temporary User[AutoLoad] or User Files</span></a></li>
<li class="toclevel-1 tocsection-11"><a href="#Locating_Files_that_Contain_a_Specified_Character_String"><span class="tocnumber">8</span> <span class="toctext">Locating Files that Contain a Specified Character String</span></a></li>
<li class="toclevel-1 tocsection-12"><a href="#Navigating_in_Files_Using_the_Workspace_Tree"><span class="tocnumber">9</span> <span class="toctext">Navigating in Files Using the Workspace Tree</span></a></li>
<li class="toclevel-1 tocsection-13"><a href="#Activating_Files_in_the_MDI_from_the_Workspace_Window"><span class="tocnumber">10</span> <span class="toctext">Activating Files in the MDI from the Workspace Window</span></a></li>
<li class="toclevel-1 tocsection-14"><a href="#Removing_Files_from_the_Workspace"><span class="tocnumber">11</span> <span class="toctext">Removing Files from the Workspace</span></a></li>
<li class="toclevel-1 tocsection-15"><a href="#Excluding_Files_from_the_Workspace"><span class="tocnumber">12</span> <span class="toctext">Excluding Files from the Workspace</span></a></li>
</ul>
</div>

<h2><a name="Creating_a_New_File_and_Adding_it_to_the_Workspace"></a><span class="mw-headline">Creating a New File and Adding it to the Workspace</span></h2>
<p>To create a new source, header, LabTalk script, encrypted source or text file, click the New button <a  class="image"><img alt="Button New 90.png" src="../images/Working_With_Files/Button_New_90.png?v=43047" width="21"  /></a> on the Standard toolbar or select <b>File:New...</b> to open the <b>New File</b> dialog box. Then choose the file type on the top left panel, input a file name and click <b>OK</b> to create the file.
</p><p><a  class="image"><img alt="Code Builder New File.png" src="../images/Working_With_Files/Code_Builder_New_File.png?v=48089" width="344"  /></a>
<br />
</p><p>When creating a new source file, you have the option to add the file to your current workspace. You also have the option
to create the new source file with default contents.
</p>
<ul><li> Only source files that have been added to the workspace can be compiled.</li></ul>
<ul><li> If you select the Fill with Default Contents check box, the new source file is created with the following text:</li></ul>
<p><a  class="image"><img alt="Im28-oc Rev.png" src="../images/Working_With_Files/Im28-oc_Rev.png?v=43412" width="600"  /></a>
</p><p>The Origin.h header file contains <b>#include</b> directives for many of the most commonly used Origin C system header files
including all the NAG header files. Origin.h is a precompiled header file and consequently loads and links quickly.
Including Origin.h is probably sufficient for most applications and is recommended. To be certain you are including the
necessary header files for the Origin C functions you plan to call, open the <b>Origin C Language Reference</b> section of this
help file and search for the function(s). For each function, the help topic lists the header file in which the function is
prototyped.
</p>
<table class="note">

<tr>
<td><b>Note:</b> To open origin.h in the MDI, right-click on the line <b>#include "origin.h"</b> in the source file and then select <b>Open "origin.h" </b>from the shortcut menu. You can open any included header file using this procedure.
</td></tr></table>
<p>If you are creating a new header, LabTalk script, or text file, you do not have the option of automatically adding the file to the workspace. However, after the new file opens in the MDI, you can add the file to the workspace by selecting <b>File:Add to Workspace</b>.
</p><p>When creating a new source, header or encrypted OCZ file, the default folder is the \OriginC subfolder. The default folder for a LabTalk
script or text file is the Origin folder. When creating your file, you can specify the default folder or a custom folder. This
choice is organizational as you can always specify a path when referencing these files in your code.
</p>
<h2><a name="Customizing_the_Source_File_Template"></a><span class="mw-headline">Customizing the Source File Template</span></h2>
<p>When you create a new source file, the New File dialog box provides a Fill with Default Contents check box. If you select
this, the new source file includes starting comments and a <i>#include</i> directive for origin.h. The new source file is created
by the default.c template located in the \OriginC subfolder. You can open, edit and save this template file to customize
the default contents of new source files.
</p>
<h2><a name="Encrypting_the_Source_File"></a><span class="mw-headline">Encrypting the Source File</span></h2>
<p>To encrypt a source file, you can either directly create an encrypted OCZ file or save an existing *.c or *.cpp file as encrypted *.ocz file type. The encrypted *.ocz files can be safely shared with others, other users simply need to drag and drop OCZ file into Origin to install. 
</p>
<h5><a name="To_Create_an_Encrypted_Source_File"></a><span class="mw-headline">To Create an Encrypted Source File</span></h5>
<p>Click the New button <a  class="image"><img alt="Button New 90.png" src="../images/Working_With_Files/Button_New_90.png?v=43047" width="21"  /></a> on the Standard toolbar or select <b>File:New...</b> to open the <b>New File</b> dialog box. Select <b>OCZ File</b> and input a filename in <b>File Name:</b> edit box. 
</p><p>Input new password and confirm the password in appeared <b>Password</b> dialog box:
</p>
<dl><dd><a  class="image"><img alt="Encrypt File Password Dialog.png" src="../images/Working_With_Files/Encrypt_File_Password_Dialog.png?v=47837" width="338"  /></a></dd></dl>
<table class="noborder">
	<tr>
	<td style="vertical-align:top" width="60"><img src="../images/Working_With_Files/Alert_icon.png?v=21428" width="57"  border="0" /></td><td><p>Users should always make a backup of their code before/after encryption since the encrypted file cannot be recovered once the password is forgotten.
</p>
	</td>
	</tr>
	</table>
<p>If you open the encrypted OCZ file in a new Origin session, you will be asked to provide the password:
</p>
<dl><dd><a  class="image"><img alt="Encrypt File Password Dialog 02.png" src="../images/Working_With_Files/Encrypt_File_Password_Dialog_02.png?v=47839" width="338"  /></a></dd></dl>
<p>You can check <b>Remember Password</b> checkbox to remember the password for 30 days.
</p>
<h5><a name="To_Encrypt_an_Existing_Source_File"></a><span class="mw-headline">To Encrypt an Existing Source File</span></h5>
<p>Select menu <b>File: Save As Encrypted</b> and input a file name to create an encrypted copy of your source code. 
</p>
<table class="noborder"><tr>
	<td style="vertical-align:top" width="60"><img src="../images/Working_With_Files/Tip_icon.png?v=21427" width="57"  border="0" /></td><td><p>You can also save an opening encrypted OCZ file as not encrypted source file by menu <b>File:Save As</b>.
</p></td></tr></table>
<h5><a name="To_Change_the_Password_of_Existing_Encrypted_File"></a><span class="mw-headline">To Change the Password of Existing Encrypted File</span></h5>
<p>To change the password of existing *.ocz file, open the file in Code Builder and then go to <b>File: Save As...</b> to open <b>Save As</b> dialog. Navigate to select original file and click <b>Save</b> button to replace it. In the appeared prompt, click <b>Yes</b> to close it so the <b>Password</b> dialog will open up to allow you setup a new password.
</p>
<h2><a name="Opening_an_Existing_File_and_Adding_it_to_the_Workspace"></a><span class="mw-headline">Opening an Existing File and Adding it to the Workspace</span></h2>
<p>To open a source, header, LabTalk script, encrypted OCZ file or text file and add the file to the workspace:
<i>either</i>:
</p>
<ol><li> Click the Open button <a  class="image"><img alt="Button Open 90.png" src="../images/Working_With_Files/Button_Open_90.png?v=43049" width="23"  /></a>on the Standard toolbar or select the <b>File:Open</b> menu item.</li>
<li> Check the <b>Add to Workspace</b> checkbox at the bottom of the Open dialog box.</li>
<li> Select your file.</li>
<li> Click <b>Open</b>. If it is an encrypted OCZ file, you have to input password and click <b>OK</b> to open it.</li></ol>
<p><i>or</i>:
</p>
<ol><li> Right-click on the <b>Common</b> or <b>User Files</b> subfolder under <b>Apps</b>, <b>Project</b>, <b>System</b>, <b>User [AutoLoad]</b> or <b>User folder</b> icons in the <b>Workspac</b>e window and select <b>Add Files</b> from the shortcut menu.</li>
<li> Check the <b>Open Files</b> checkbox at the bottom of the <b>Add Files</b> to Workspace dialog box to open the file in the MDI.</li>
<li> Select your file.</li>
<li> Click <b>Open</b>. If it is an encrypted OCZ file, and it's your first time open it in the current Origin session,  you have to input password and click <b>OK</b> to open it.</li></ol>
<p><a  class="image"><img alt="Add New To Workspace.png" src="../images/Working_With_Files/Add_New_To_Workspace.png?v=48090" width="542"  /></a>
</p><p>Adding files to the workspace provides the following programming advantages:
</p>
<ul><li>Files that are added to the workspace display as icons in the folders of the Workspace window. Thus you can easily locate files and display them in the MDI.</li></ul>
<ul><li>Only source files that have been added to the workspace can be compiled.  </li></ul>
<ul><li>In addition to loading and building workspaces from Code Builder, Origin provides a method to programmatically load and build a workspace.  If you have functions that are coded in separate source files, but the source files are part of the same workspace file, you can programmatically load and build the workspace file and call the functions.</li></ul>
<h2><a name="Opening_an_Existing_File_without_Adding_it_to_the_Workspace"></a><span class="mw-headline">Opening an Existing File without Adding it to the Workspace</span></h2>
<p>To open an existing source, header, LabTalk script, encrypted OCZ file or text file without adding it to the workspace:
</p>
<ol><li> Click the Open button<a  class="image"><img alt="Button Open 90.png" src="../images/Working_With_Files/Button_Open_90.png?v=43049" width="23"  /></a> on the Standard toolbar or select <b>File:Open</b>.</li>
<li> Clear the Add to Workspace check box at the bottom of the Open dialog box.</li>
<li> Select your file and click <b>Open</b>. If it is an encrypted OCZ file, you have to input password and click <b>OK</b> to open it.</li></ol>
<p>You can also right-click on a <b>#include</b> preprocessor directive line in a source file opened in the MDI and select <b>Open "<i>FileName</i>"</b> from the shortcut menu. For example, to open Origin.h in the MDI, right-click on the line <b>#include &lt;Origin.h&gt; </b> in the source file and then select <b>Open "Origin.h"</b> from the shortcut menu.
</p>
<table class="note">

<tr>
<td><b>Note:</b> Only source files that have been added to the workspace can be compiled.
</td></tr></table>
<h2><a name="Adding_Open_Files_to_the_Workspace"></a><span class="mw-headline">Adding Open Files to the Workspace</span></h2>
<p>To add a file that is already open in the MDI to the Code Builder workspace:
</p>
<ol><li> Make the file active in the MDI. (You can CTRL+TAB through the open files, select the file from the Window menu, or click on the file in the MDI.)</li>
<li> Once the file is active, select the <b>File:Add to Workspace</b> menu item or simultaneously press the CTRL+W keyboard keys.</li></ol>
<h2><a name="Specifying_Workspace_Files_as_Packages_Project_System_Temporary_User.5BAutoLoad.5D_or_User_Files"></a><span class="mw-headline">Specifying Workspace Files as Packages Project System Temporary User[AutoLoad] or User Files</span></h2>
<p>Files added to the Code Builder workspace can be specified as <b>Apps</b>, <b>Project</b>, <b>System</b>, <b>Temporary</b>, <b>User [AutoLoad]</b> or <b>User</b> files by moving them into their correspondingly named workspace folders. Each of the six predefined folders contain files added to the workspace by different means. Files in all six folders can be moved by dragging them into any other folder, however, files can not be dragged into the <b>Temporary</b> folder. Files can also be removed from the workspace by right-clicking on them in the tree and then selecting <b>Remove</b> from the shortcut menu.
</p><p><a  class="image"><img alt="Specify Workspace File.png" src="../images/Working_With_Files/Specify_Workspace_File.png?v=48091" width="542"  /></a>
</p><p>Files added to the <b>Apps</b> folder are usually managed in its sub-package folders so that the main <b>Apps</b> folder only contains folders. <b>Apps</b> folder is used to manage the *.opx packages and each of its sub-folders represents a disk folder in User Files Folder. A special folder named '<b>Common</b> is used for holding files that are shared between all packages. Each package folder contains a sub-folder named <b>User Files</b>, which contains files that are in the User Files Folder.
</p><p>Files added to the <b>Project</b> folder are automatically included inside the open Origin project file and are built whenever the Origin project file containing them is opened by Origin. Source files in the <b>Project</b> folder are always available to be executed as long as the Origin project file containing them is opened. Files in the Project folder remain in the <b>Project</b> folder until a new Origin project file (*.OPJ) is opened. Files in the <b>Project</b> folder stay remained even when a new Code Builder workspace is created or opened.
</p><p>Files added to the <b>System</b> folder are automatically re-added to the workspace as system files when Origin or Code Builder starts and each time a new workspace is created or an existing workspace file is opened. Source files in the <b>System</b> folder are always included in the workspace and Origin C functions in system files are always available to be executed once the workspace has been built.
</p><p>Files added to the <b>Temporary</b> folder are removed from the workspace when you close Origin or Code Builder and when you open a new or existing workspace file. Files can not be dragged or moved into the <b>Temporary</b> folder using the Code Builder interface; Files can only be added to the Temporary folder by calling the LabTalk method <b>run.LoadOC</b> or the Origin C method <b>Project.FindFunction</b> which dynamically add them to the workspace.
</p><p>Files added to <b>User [AutoLoad]</b> folder is similar to the <b>User</b> folder described below, except that the files in <b>User [AutoLoad]</b> folder will be compiled and linked automatically upon starting Origin, and then the functions defined in the files under this folder are available, and there is no need to compile and link manually.
</p><p>Files added to the workspace using the Code Builder interface are always added to the <b>User</b> folder. When a newly created source file is added to the Code Builder workspace, when an existing source file is opened and added to the workspace,and when an opened file is added to the workspace, the file is automatically added to the <b>User</b> folder. Files can only be manually removed from the <b>User</b> folder by dragging them into the <b>System</b> or <b>Project</b> folders or by right-clicking on them and selecting <b>Remove</b> from the shortcut menu.
</p><p>For more information on the <b>Apps</b>, <b>Project</b>, <b>System</b>, <b>Temporary</b>, <b>User [AutoLoad]</b> or <b>User</b> workspace folders, see <a href="../../CodeBuilder/CodeBuilder/Working_With_Workspaces.html#Navigating_in_the_Workspace_Using_the_Workspace_Tree" title="CodeBuilder:Working With Workspaces">Navigating in the Workspace Using the Workspace Tree</a>. For more information on when and how files in the Code Builder workspace are built, see <a href="../../OriginC/OCGuide/Compiling,_Linking_and_Loading.html#Automated_Building" title="OCGuide:Compiling, Linking and Loading">Four Methods
of Building the Code Builder Workspace</a>.
</p>
<h2><a name="Locating_Files_that_Contain_a_Specified_Character_String"></a><span class="mw-headline">Locating Files that Contain a Specified Character String</span></h2>
<p>To find files that contain a specified character string, select <b>Edit:Find in Files</b> or click the <b>Find in Files</b> button <a  class="image"><img alt="Button Find In Files 90.png" src="../images/Working_With_Files/Button_Find_In_Files_90.png?v=43042" width="23"  /></a> on the Standard toolbar.
</p><p><a  class="image"><img alt="Find In Files.png" src="../images/Working_With_Files/Find_In_Files.png?v=48092" width="399"  /></a>
</p><p>Type the desired search string in the <b>Find What</b> combo box. Code Builder retains your search string for future use. To
access previous search strings, click the down arrow to open the <b>Find What</b> combo box.
</p>
<ul><li> To limit your search to instances of the string that are whole words, select the <b>Match Whole Word Only</b>. A whole word is a string that is surrounded by white space or punctuation, unless the string occurs at the start or end of a line. If <b>Match Whole Word Only</b> is cleared, the search finds all matches of the string.</li></ul>
<ul><li> To perform a case sensitive search, select <b>Match Case</b>.</li></ul>
<ul><li> To include subfolders in your search, select <b>Look in Subfolders</b>.</li></ul>
<ul><li> To omit comments from the search, select <b>Skip Comments</b>.</li></ul>
<p>After you click <b>Find</b>, the search results are output to the <b>Output</b> window. If occurrences of the string were found, you can
double-click on the line in the <b>Output</b> window to open the file. The line containing the search string will be marked.
</p>
<h2><a name="Navigating_in_Files_Using_the_Workspace_Tree"></a><span class="mw-headline">Navigating in Files Using the Workspace Tree</span></h2>
<p>After you compile the functions in a source file, you can display the function definitions, function declarations, classes,structures, and type definitions encountered during compilation in the workspace tree. To activate this display, right-click on a source file’s icon in the workspace window (use CTRL or SHIFT for multiple selection) and select <b>Show:<i>Type</i></b> from the shortcut menu.
</p><p><a  class="image"><img alt="Workspace File Show Type.png" src="../images/Working_With_Files/Workspace_File_Show_Type.png?v=48093" width="542"  /></a>
</p><p>You can then expand the tree node on the workspace for the function definition, function declaration, class, structure, or type definition to open the source file.
</p><p><a  class="image"><img alt="Workspace File Show Func.png" src="../images/Working_With_Files/Workspace_File_Show_Func.png?v=48094" width="542"  /></a>
</p><p>The source file is opened in the MDI and the cursor is positioned at the associated line of code.
</p><p><a  class="image"><img alt="Open DefFunc From Tree 91.png" src="../images/Working_With_Files/Open_DefFunc_From_Tree_91.png?v=43161" width="509"  /></a>
</p>
<h2><a name="Activating_Files_in_the_MDI_from_the_Workspace_Window"></a><span class="mw-headline">Activating Files in the MDI from the Workspace Window</span></h2>
<p>Files that have been added to the workspace have associated icons in the Workspace window. To open a file in the MDI, double-click on the associated icon in the workspace tree or right-click and select <b>Open</b> from the shortcut menu.
</p><p><a  class="image"><img alt="Activating File From MDI.png" src="../images/Working_With_Files/Activating_File_From_MDI.png?v=48095" width="542"  /></a>
</p>
<table class="note">

<tr>
<td><b>Note:</b> The MDI is Code Builder's interface for viewing and editing source, header, LabTalk script, and text files. Files can be viewed in the MDI whether or not they are part of the workspace. Similarly, you can close a file in the MDI and its workspace status is not affected.
</td></tr></table>
<h2><a name="Removing_Files_from_the_Workspace"></a><span class="mw-headline">Removing Files from the Workspace</span></h2>
<p>To remove a file from the workspace, select the source file icon in the workspace window (use CTRL or SHIFT for multiple selection) and press DEL or right-click and select <b>Remove</b> from the shortcut menu.
</p><p><a  class="image"><img alt="Remove File From Workspace.png" src="../images/Working_With_Files/Remove_File_From_Workspace.png?v=48096" width="542"  /></a>
</p>
<table class="note">

<tr>
<td><b>Note:</b> When you remove a file from the workspace, the file still exists (for example, the .C source file).
</td></tr></table>
<h2><a name="Excluding_Files_from_the_Workspace"></a><span class="mw-headline">Excluding Files from the Workspace</span></h2>
<p>To keep a file part of the workspace but to exclude it from the build process, select the source file icon in the workspace window (use CTRL or SHIFT for multiple selection) and then right-click and select <b>Set as Exclude</b> from the shortcut menu. 
</p><p><a  class="image"><img alt="Excluding Files From Workspace.png" src="../images/Working_With_Files/Excluding_Files_From_Workspace.png?v=48097" width="542"  /></a>
</p>

