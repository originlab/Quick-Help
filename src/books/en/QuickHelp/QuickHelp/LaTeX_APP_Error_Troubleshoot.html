<h1 class="firstHeading">5.70 FAQ-982 I see an error when trying to use LaTex App. What should I do?</h1><p class='urlname' style='display: none'>LaTeX-APP-Error-Troubleshoot</p>
<p class='faqID'>Last Update: 3/29/2023</p>
<table class="noborder">
	<tr>
	<td style="vertical-align:top" width="60"><img src="../images/LaTeX_APP_Error_Troubleshoot/Alert_icon.png?v=0" width="57"  border="0" /></td><td><p>Origin 2023b builds in a SVG-based LaTeX equation tool. This new <b>Insert LaTeX Equation</b> tool does not require users to manually install any extra libraries or softwares. To get rid of problems caused by LaTeX App, it is highly recommended that you upgrade your Origin to version 2023b or later and try the new <b>Insert LaTeX Equation</b> tool. Please refer to <a class="external text" href="../../UserGuide/UserGuide/Inserting_OLE_Objects_in_Graphs.html#Insert_Equation">this document</a> for more information.
<p><a  class="image"><img alt="OH insert OLE object graph.png" src="../images/LaTeX_APP_Error_Troubleshoot/OH_insert_OLE_object_graph.png?v=72078" width="202"  /></a>
</p>
</p>
	</td>
	</tr>
	</table>
<p>If you still want to stay with LaTeX App and see the following error message when trying to insert LaTeX characters:
</p><p><font color="red"><b>Origin failed to update MiKTeX packages. Please make sure internet access is available. If problem persists, try increasing the timeout value using @LTXTP (units sec).</b></font>:
</p><p>Try the following workarounds.
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Method_1._Increase_the_timeout_value_using_.40LTXTP"><span class="tocnumber">1</span> <span class="toctext">Method 1. Increase the timeout value using @LTXTP</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Method_2._Install_.27url.27_package_manually"><span class="tocnumber">2</span> <span class="toctext">Method 2. Install 'url' package manually</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Method_3._If_you_installed_multiple_Tex_packages.2C_install_.27url.27_package_manually"><span class="tocnumber">3</span> <span class="toctext">Method 3. If you installed multiple Tex packages, install 'url' package manually</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Method_4._Install_MiKTeX_as_.22This_User_Only.22_instead_of_.22All_Users.22"><span class="tocnumber">4</span> <span class="toctext">Method 4. Install MiKTeX as "This User Only" instead of "All Users"</span></a></li>
</ul>
</div>

<h2><a name="Method_1._Increase_the_timeout_value_using_.40LTXTP"></a><span class="mw-headline">Method 1. Increase the timeout value using @LTXTP</span></h2>
<p>Open the <b>Set System Variables</b> dailog by <b>Preferences: System Variable</b>. Enter <a class="external text" href="../../LabTalk/LabTalk/System_Variable_List.html#L"><i>LTXTP</i></a>' to <b>Variable</b> column (no preceding "@") and set its <b>Value</b> to <i>600</i> or <i>1000</i>, or even bigger. This increases the timeout to connect to server and download the MiKTeX packages when clicking the <b>Retry</b> button if Origin fails to detect it.
</p>
<h2><a name="Method_2._Install_.27url.27_package_manually"></a><span class="mw-headline">Method 2. Install 'url' package manually</span></h2>
<ol><li> Locate the MiKTeX installation folder. For a 64bit Windows OS, the default path is <i>C:\Program Files\MiKTeX 2.9\miktex\bin\x64\</i>.</li>
<li> Open Command Prompt window and direct the path to MiKTeX installation folder. Execute <pre class="lt" style="font-family:monospace;">mpm <span style="color: #000080;">--</span>install<span style="color: #000080;">=</span>url</pre> It should output a message: "Package url is correctly installed."</li>
<li> Open Origin's User Files Folder and delete <b>OLaTex.ini</b> if any.</li></ol>
<h2><a name="Method_3._If_you_installed_multiple_Tex_packages.2C_install_.27url.27_package_manually"></a><span class="mw-headline">Method 3. If you installed multiple Tex packages, install 'url' package manually</span></h2>
<p>LaTex App would fail if multiple TeX packages are installed. 
</p><p>For example, if you installed both CTex and MiKTeX, you can follow steps below to solve it:
</p>
<ol><li> Right click on <b>My Computer</b> and select <b>Properties</b> menu. In the opened dialog, click <b>Advanced system settings</b> link
<dl><dd> <a  class="image"><img alt="LaTex Err Workaround 1.png" src="../images/LaTeX_APP_Error_Troubleshoot/LaTex_Err_Workaround_1.png?v=58221" width="443"  /></a></dd></dl></li>
<li> In the <b>System Properties</b> dialog, go to <b>Advanced</b> tab and click <b>Environment Variables</b> button. 
<dl><dd> <a  class="image"><img alt="LaTex Err Workaround 2.png" src="../images/LaTeX_APP_Error_Troubleshoot/LaTex_Err_Workaround_2.png?v=58222" width="350"  /></a></dd></dl></li>
<li> Choose <b>Path</b> from the upper box and click <b>Edit</b> button. Try to find "C:\CTEX\MiKTeX\miktex\bin;" and delete it (if other software, find the corresponding installation path). Therefore the remined MiKTeX path will serve as the correct link to Origin.
<dl><dd> <a  class="image"><img alt="LaTex Err Workaround 3.png" src="../images/LaTeX_APP_Error_Troubleshoot/LaTex_Err_Workaround_3.png?v=58280" width="450"  /></a></dd></dl></li>
<li> Right click on MiKTeX Console and run it as Administrator. Select <b>Packages</b> in the left panel and click <b>Change</b> button.
<dl><dd> <a  class="image"><img alt="LaTex Err Workaround 5.png" src="../images/LaTeX_APP_Error_Troubleshoot/LaTex_Err_Workaround_5.png?v=58333" width="500"  /></a></dd></dl></li>
<li> In the Package Source dialog, choose <b>Remote package repository(Internet)</b> and click <b>Next</b>.  
<dl><dd> <a  class="image"><img alt="LaTex Err Workaround 4.png" src="../images/LaTeX_APP_Error_Troubleshoot/LaTex_Err_Workaround_4.png?v=58334" width="497"  /></a></dd></dl></li>
<li> In Remote Package Repository, select as <b>Country</b>: <i>US</i>, <b>Host</b>: <i>ctan.mirrors.hoobly.com</i> at the last part. 
<dl><dd> <a  class="image"><img alt="LaTex Err Workaround 6.png" src="../images/LaTeX_APP_Error_Troubleshoot/LaTex_Err_Workaround_6.png?v=58335" width="495"  /></a></dd></dl></li>
<li> Click <b>Finish</b>.</li></ol>
<h2><a name="Method_4._Install_MiKTeX_as_.22This_User_Only.22_instead_of_.22All_Users.22"></a><span class="mw-headline">Method 4. Install MiKTeX as "This User Only" instead of "All Users"</span></h2>
<ol>
<li> Right click on MiKTeX Console and run it as Administrator. Select <b>Packages</b> in the left panel and click <b>Change</b> button.
<li> In the dialog, choose <b>Remote package repository(Internet)</b> and click <b>Next</b>.  
<li> In <b>Remote Package Repository</b>, select <b>country</b>:US, <b>Host</b>:ctan.mirrors.hoobly.com. 
<li> Click <b>Finish</b>.
<li> Open Command Prompt window as Administrator. Direct to the path of MiKTeX installation folder, like <i>C:\Program Files\MiKTeX\miktex\bin\x64\</i>.
<li> Execute
<pre class="lt" style="font-family:monospace;">mpm <span style="color: #000080;">--</span>install<span style="color: #000080;">=</span>zhmetrics
mpm <span style="color: #000080;">--</span>install<span style="color: #000080;">=</span>url</pre>
</ol>
<hr class='keywordshr'><p><span class='keywords'>Keywords:</span><span class='keywordsInput'>LaTex, MiKTeX, timeout</span></p>


