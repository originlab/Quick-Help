<h1 class="firstheading">GetNamedPipeHandleState</h1>

  <p>&#160;</p>

  <div id="toc" class="toc">
    <div id="toctitle">
      <h2>Contents</h2>
    </div>

    <ul>
      <li class="toclevel-1 tocsection-1"><a href="#Description"><span class="tocnumber">1</span> <span class="toctext">Description</span></a></li>

      <li class="toclevel-1 tocsection-2"><a href="#Syntax"><span class="tocnumber">2</span> <span class="toctext">Syntax</span></a></li>

      <li class="toclevel-1 tocsection-3"><a href="#Parameters"><span class="tocnumber">3</span> <span class="toctext">Parameters</span></a></li>

      <li class="toclevel-1 tocsection-4"><a href="#Return"><span class="tocnumber">4</span> <span class="toctext">Return</span></a></li>

      <li class="toclevel-1 tocsection-5"><a href="#Examples"><span class="tocnumber">5</span> <span class="toctext">Examples</span></a></li>

      <li class="toclevel-1 tocsection-6"><a href="#Remark"><span class="tocnumber">6</span> <span class="toctext">Remark</span></a></li>

      <li class="toclevel-1 tocsection-7"><a href="#See_Also"><span class="tocnumber">7</span> <span class="toctext">See Also</span></a></li>

      <li class="toclevel-1 tocsection-8"><a href="#header_to_Include"><span class="tocnumber">8</span> <span class="toctext">header to Include</span></a></li>

      <li class="toclevel-1 tocsection-9"><a href="#Reference"><span class="tocnumber">9</span> <span class="toctext">Reference</span></a></li>
    </ul>
  </div>

  <h2><a name="Description"></a><span class="mw-headline">Description</span></h2>

  <p>Retrieves information about a specified named pipe. The information returned can vary during the lifetime of an instance of the named pipe.</p>

  <h2><a name="Syntax"></a><span class="mw-headline">Syntax</span></h2>
  <pre class="oc" style="font-family:monospace;">
<span style="color: #0000ff;">BOOL</span> GetNamedPipeHandleState<span style="color: #000000;">(</span> HANDLE hNamedPipe, LPDWORD lpState, LPDWORD lpCurInstances, LPDWORD lpMaxCollectionCount, LPDWORD lpCollectDataTimeout, LPSTR lpUserName, DWORD nMaxUserNameSize <span style="color: #000000;">)</span>
</pre>

  <h2><a name="Parameters"></a><span class="mw-headline">Parameters</span></h2>

  <dl>
    <dt>hNamedPipe</dt>

    <dd>[input] A handle to the named pipe for which information is wanted. The handle must have GENERIC_READ access to the named pipe.</dd>

    <dd>This parameter can also be a handle to an anonymous pipe, as returned by the CreatePipe function.</dd>
  </dl>

  <dl>
    <dt>lpState</dt>

    <dd>[output] A pointer to a variable that indicates the current state of the handle. This parameter can be NULL if this information is not needed. Either or both of the following values can be specified.</dd>

    <dd>PIPE_NOWAIT The pipe handle is in nonblocking mode. If this flag is not specified, the pipe handle is in blocking mode.</dd>

    <dd>PIPE_READMODE_MESSAGE The pipe handle is in message-read mode. If this flag is not specified, the pipe handle is in byte-read mode.</dd>

    <dt>lpCurInstances</dt>

    <dd>[output] A pointer to a variable that receives the number of current pipe instances. This parameter can be NULL if this information is not required.</dd>

    <dt>lpMaxCollectionCount</dt>

    <dd>[output] A pointer to a variable that receives the maximum number of bytes to be collected on the client's computer before transmission to the server. This parameter must be NULL if the specified pipe handle is to the server end of a named pipe or if client and server processes are on the same computer. This parameter can be NULL if this information is not required.</dd>

    <dt>lpCollectDataTimeout</dt>

    <dd>[output] A pointer to a variable that receives the maximum time, in milliseconds, that can pass before a remote named pipe transfers information over the network. This parameter must be NULL if the specified pipe handle is to the server end of a named pipe or if client and server processes are on the same computer. This parameter can be NULL if this information is not required.</dd>

    <dt>lpUserName</dt>

    <dd>[output] A pointer to a buffer that receives the user name string associated with the client application. The server can only retrieve this information if the client opened the pipe with SECURITY_IMPERSONATION access.</dd>
  </dl>

  <dl>
    <dd>This parameter must be NULL if the specified pipe handle is to the client end of a named pipe. This parameter can be NULL if this information is not required.</dd>
  </dl>

  <p> </p>

  <dl>
    <dt>nMaxUserNameSize</dt>

    <dd>[input] The size of the buffer specified by the lpUserName parameter, in TCHARs. This parameter is ignored if lpUserName is NULL.</dd>
  </dl>

  <h2><a name="Return"></a><span class="mw-headline">Return</span></h2>

  <p>If the function succeeds, the return value is nonzero.</p>

  <p>If the function fails, the return value is zero. To get extended error information, call GetLastError.</p>

  <h2><a name="Examples"></a><span class="mw-headline">Examples</span></h2>

  <h2><a name="Remark"></a><span class="mw-headline">Remark</span></h2>

  <p>The GetNamedPipeHandleState function returns successfully even if all of the pointers passed to it are NULL.</p>

  <p>To set the pipe handle state, use the SetNamedPipeHandleState function.</p>

  <h2><a name="See_Also"></a><span class="mw-headline">See Also</span></h2>

  <p><a href="../../OriginC/OriginC/SetNamedPipeHandleState_(global_function).html" title="OriginC:SetNamedPipeHandleState (global function)">SetNamedPipeHandleState</a></p>

  <h2><a name="header_to_Include"></a><span class="mw-headline">header to Include</span></h2>

  <p>origin.h</p>

  <h2><a name="Reference"></a><span class="mw-headline">Reference</span></h2>
