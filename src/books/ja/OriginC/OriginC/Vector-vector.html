<h1 class="firstheading">vector::vector</h1>

  <p><span class="OIndex" style="display:none">vector</span></p>

  <div id="toc" class="toc">
    <div id="toctitle">
      <h2>Contents</h2>
    </div>

    <ul>
      <li class="toclevel-1 tocsection-1"><a href="#Description"><span class="tocnumber">1</span> <span class="toctext">Description</span></a></li>

      <li class="toclevel-1 tocsection-2"><a href="#Syntax"><span class="tocnumber">2</span> <span class="toctext">Syntax</span></a></li>

      <li class="toclevel-1 tocsection-3"><a href="#Parameters"><span class="tocnumber">3</span> <span class="toctext">Parameters</span></a></li>

      <li class="toclevel-1 tocsection-4"><a href="#Return"><span class="tocnumber">4</span> <span class="toctext">Return</span></a></li>

      <li class="toclevel-1 tocsection-5"><a href="#Examples"><span class="tocnumber">5</span> <span class="toctext">Examples</span></a></li>

      <li class="toclevel-1 tocsection-6"><a href="#Remark"><span class="tocnumber">6</span> <span class="toctext">Remark</span></a></li>

      <li class="toclevel-1 tocsection-7"><a href="#See_Also"><span class="tocnumber">7</span> <span class="toctext">See Also</span></a></li>

      <li class="toclevel-1 tocsection-8"><a href="#header_to_Include"><span class="tocnumber">8</span> <span class="toctext">header to Include</span></a></li>
    </ul>
  </div>

  <h2><a name="Description"></a><span class="mw-headline">Description</span></h2>

  <p>Default constructor for vector class.</p>

  <p><br>
  Constructor to create a vector having size nSize.</p>

  <p><br>
  Constructor to create a vector copy of an Origin Dataset.</p>

  <p><br>
  Constructor to create a vector from a source column.</p>

  <p><br>
  Complex vector constructor.</p>

  <h2><a name="Syntax"></a><span class="mw-headline">Syntax</span></h2>
  <pre class="oc" style="font-family:monospace;">
vector<span style="color: #000000;">(</span> <span style="color: #000000;">)</span>
</pre>

  <p> </p>
  <pre class="oc" style="font-family:monospace;">
vector<span style="color: #000000;">(</span> UINT nSize <span style="color: #000000;">)</span>
</pre>

  <p> </p>
  <pre class="oc" style="font-family:monospace;">
vector<span style="color: #000000;">(</span> Dataset <span style="color: #000040;">&amp;</span> ds, <span style="color: #0000ff;">BOOL</span> bRemoveMissingValues <span style="color: #000080;">=</span> <span style="color: #0000ff;">FALSE</span> <span style="color: #000000;">)</span>
</pre>

  <p> </p>
  <pre class="oc" style="font-family:monospace;">
vector<span style="color: #000000;">(</span> Column <span style="color: #000040;">&amp;</span> cc, <span style="color: #0000ff;">int</span> nLowerIndex <span style="color: #000080;">=</span> <span style="color: #000040;">-</span><span style="color: #0000dd;">1</span>, <span style="color: #0000ff;">int</span> nUpperIndex <span style="color: #000080;">=</span> <span style="color: #000040;">-</span><span style="color: #0000dd;">1</span>, <span style="color: #0000ff;">int</span> nWriteback <span style="color: #000080;">=</span> WRITEBACK_NO <span style="color: #000000;">)</span>
</pre>

  <p> </p>
  <pre class="oc" style="font-family:monospace;">
vector<span style="color: #000000;">(</span> vector <span style="color: #000040;">&amp;</span> vR, vector <span style="color: #000040;">&amp;</span> vI <span style="color: #000000;">)</span>
</pre>

  <h2><a name="Parameters"></a><span class="mw-headline">Parameters</span></h2>

  <dl>
    <dt>nSize</dt>

    <dd>[input] Size of declared vector</dd>
  </dl>

  <p> </p>

  <dl>
    <dt>ds</dt>

    <dd>[input] The source dataset, value will copy to vector.</dd>

    <dt>bRemoveMissingValues</dt>

    <dd>[input] If true, will copy to value of Dataset and remove missing value to vector.</dd>
  </dl>

  <p> </p>

  <dl>
    <dt>cc</dt>

    <dd>[input] source column (it must be initialized properly prior to calling the constructor).</dd>

    <dt>nLowerIndex</dt>

    <dd>[input]the start index inside the column from which the copying should start;</dd>

    <dd>If -1, the constructor scans from the beginning of the dataset until it finds the first nonmissing value. The value is remembered and can be accessed using the method GetSourceRange().</dd>

    <dt>nUpperIndex</dt>

    <dd>[input] the end index inside the column where the copying should end;</dd>

    <dd>If -1, the constructor scans from the end of the dataset until it finds the first nonmissing value. The value is remembered and can be accessed using the method GetSourceRange().</dd>

    <dt>nWriteback</dt>

    <dd>[input] the combination of values from enumeration:</dd>

    <dd>enum {</dd>

    <dd>WRITEBACK_NO = 0, // no writeback</dd>

    <dd>WRITEBACK_NO_RESIZE = 0x1, // writes back the vector without resizing or moving the data inside the column (not that both the vector and the column may have been resized between the construction and the writeback time).</dd>

    <dd>WRITEBACK_INSERT_ON_EXPAND = 0x2, // not used if WRITEBACK_NO_RESIZE bit is present. If the vector has increased in size after the construction, on writeback the column will be expanded to accomodate additional values, all of which are going to be inserted after m_nSrcUpperIndex and any data (if) already present in the column,will be pushed to the right.</dd>

    <dd>WRITEBACK_DELETE_ON_SHRINK = 0x8, // not used if WRITEBACK_NO_RESIZE bit is present. If the vector has decreased in size after the construction, on writeback the column will be shrunk for the size change, and any data (if present) that were to the right of m_nSrcUpperIndex will be pushed to the left.</dd>

    <dd>};</dd>
  </dl>

  <p> </p>

  <dl>
    <dt>vR</dt>

    <dd>[input] real part of complex vector</dd>

    <dt>vI</dt>

    <dd>[input] image part of complex vector</dd>
  </dl>

  <h2><a name="Return"></a><span class="mw-headline">Return</span></h2>

  <h2><a name="Examples"></a><span class="mw-headline">Examples</span></h2>

  <p><b>EX1</b></p>
  <pre class="oc" style="font-family:monospace;">
<span style="color: #0000ff;">void</span> vector_vector_ex1<span style="color: #000000;">(</span><span style="color: #000000;">)</span>
<span style="color: #000000;">{</span>
    vector vD <span style="color: #000080;">=</span> <span style="color: #000000;">{</span><span style="color: #0000dd;">1.0</span>, <span style="color: #0000dd;">2.0</span>, <span style="color: #0000dd;">3.0</span>, <span style="color: #0000dd;">4.0</span><span style="color: #000000;">}</span>;         <span style="color: #008000;">// vector of doubles</span>
    <span style="color: #0000ff;">double</span> dTest ;
    dTest <span style="color: #000080;">=</span> vD<span style="color: #000000;">[</span><span style="color: #0000dd;">2</span><span style="color: #000000;">]</span>;
    <span style="color: #000000;">printf</span><span style="color: #000000;">(</span><span style="color: #ff00ff;">"the dTest value is %f"</span>, dTest<span style="color: #000000;">)</span>;
    
<span style="color: #000000;">}</span>
</pre>

  <p><b>EX2</b></p>
  <pre class="oc" style="font-family:monospace;">
<span style="color: #0000ff;">void</span> vector_vector_ex2<span style="color: #000000;">(</span><span style="color: #000000;">)</span>
<span style="color: #000000;">{</span>
    vector<span style="color: #000080;">&lt;</span>string<span style="color: #000080;">&gt;</span> vS <span style="color: #000080;">=</span> <span style="color: #000000;">{</span><span style="color: #ff00ff;">"Hello"</span>, <span style="color: #ff00ff;">"World"</span><span style="color: #000000;">}</span>; <span style="color: #008000;">// vector of strings</span>
    <span style="color: #0000ff;">for</span><span style="color: #000000;">(</span><span style="color: #0000ff;">int</span> n <span style="color: #000080;">=</span> <span style="color: #0000dd;">0</span> ; n<span style="color: #000080;">&lt;</span>vS.<span style="color: #000000;">GetSize</span><span style="color: #000000;">(</span><span style="color: #000000;">)</span>; n<span style="color: #000040;">++</span><span style="color: #000000;">)</span>
        out_str<span style="color: #000000;">(</span>vS<span style="color: #000000;">[</span>n<span style="color: #000000;">]</span><span style="color: #000000;">)</span>;
<span style="color: #000000;">}</span>
</pre>

  <p><b>EX3</b></p>
  <pre class="oc" style="font-family:monospace;">
<span style="color: #0000ff;">void</span> vector_vector_ex3<span style="color: #000000;">(</span><span style="color: #000000;">)</span>
<span style="color: #000000;">{</span>
    vector vD<span style="color: #000000;">(</span><span style="color: #0000dd;">10</span><span style="color: #000000;">)</span>;                       <span style="color: #008000;">//vD is double</span>
    vector<span style="color: #000080;">&lt;</span><span style="color: #0000ff;">int</span><span style="color: #000080;">&gt;</span> vN<span style="color: #000000;">(</span><span style="color: #0000dd;">10</span><span style="color: #000000;">)</span>;             <span style="color: #008000;">//vN is int</span>
    
    <span style="color: #000000;">printf</span><span style="color: #000000;">(</span><span style="color: #ff00ff;">"The double value is<span style="color: #666666; font-weight: bold;">\n</span>"</span><span style="color: #000000;">)</span>;
    <span style="color: #0000ff;">for</span><span style="color: #000000;">(</span><span style="color: #0000ff;">int</span> n <span style="color: #000080;">=</span><span style="color: #0000dd;">0</span> ; n <span style="color: #000080;">&lt;</span> vD.<span style="color: #000000;">GetSize</span><span style="color: #000000;">(</span><span style="color: #000000;">)</span>; n<span style="color: #000040;">++</span><span style="color: #000000;">)</span>
    <span style="color: #000000;">{</span>
        vD<span style="color: #000000;">[</span>n<span style="color: #000000;">]</span> <span style="color: #000080;">=</span> n<span style="color: #000040;">*</span><span style="color: #0000dd;">12</span>;
                <span style="color: #000000;">printf</span><span style="color: #000000;">(</span><span style="color: #ff00ff;">"%.1f<span style="color: #666666; font-weight: bold;">\n</span>"</span>, vD<span style="color: #000000;">[</span>n<span style="color: #000000;">]</span><span style="color: #000000;">)</span>;
    <span style="color: #000000;">}</span>
    
    <span style="color: #000000;">printf</span><span style="color: #000000;">(</span><span style="color: #ff00ff;">"The int value is<span style="color: #666666; font-weight: bold;">\n</span>"</span><span style="color: #000000;">)</span>;
    <span style="color: #0000ff;">for</span><span style="color: #000000;">(</span><span style="color: #0000ff;">int</span> m <span style="color: #000080;">=</span><span style="color: #0000dd;">0</span> ; m <span style="color: #000080;">&lt;</span> vN.<span style="color: #000000;">GetSize</span><span style="color: #000000;">(</span><span style="color: #000000;">)</span>; m<span style="color: #000040;">++</span><span style="color: #000000;">)</span>
        <span style="color: #000000;">{</span>
                vN<span style="color: #000000;">[</span>m<span style="color: #000000;">]</span> <span style="color: #000080;">=</span> m<span style="color: #000040;">*</span><span style="color: #0000dd;">12</span>;
                <span style="color: #000000;">printf</span><span style="color: #000000;">(</span><span style="color: #ff00ff;">"%d<span style="color: #666666; font-weight: bold;">\n</span>"</span>, vN<span style="color: #000000;">[</span>m<span style="color: #000000;">]</span><span style="color: #000000;">)</span>;
        <span style="color: #000000;">}</span>
<span style="color: #000000;">}</span>
</pre>

  <p><b>EX4</b></p>
  <pre class="oc" style="font-family:monospace;">
<span style="color: #0000ff;">void</span> vector_vector_ex4<span style="color: #000000;">(</span><span style="color: #000000;">)</span>
<span style="color: #000000;">{</span>
    Worksheet wks<span style="color: #000080;">=</span>Project.<span style="color: #000000;">ActiveLayer</span><span style="color: #000000;">(</span><span style="color: #000000;">)</span>;
    <span style="color: #0000ff;">if</span> <span style="color: #000000;">(</span>wks<span style="color: #000000;">)</span>
    <span style="color: #000000;">{</span>
        Dataset dsB<span style="color: #000000;">(</span>wks,<span style="color: #0000dd;">1</span><span style="color: #000000;">)</span>;       
        dsB.<span style="color: #000000;">SetSize</span><span style="color: #000000;">(</span><span style="color: #0000dd;">5</span><span style="color: #000000;">)</span>;              <span style="color: #008000;">// Set sizeof data set to 5          </span>
        dsB<span style="color: #000000;">[</span><span style="color: #0000dd;">0</span><span style="color: #000000;">]</span><span style="color: #000080;">=</span><span style="color: #000040;">-</span><span style="color: #0000dd;">1</span>;
        dsB<span style="color: #000000;">[</span><span style="color: #0000dd;">1</span><span style="color: #000000;">]</span><span style="color: #000080;">=</span><span style="color: #0000dd;">5</span>;
        dsB<span style="color: #000000;">[</span><span style="color: #0000dd;">2</span><span style="color: #000000;">]</span><span style="color: #000080;">=</span>NANUM;                <span style="color: #008000;">// Missing value will be removed</span>
        dsB<span style="color: #000000;">[</span><span style="color: #0000dd;">3</span><span style="color: #000000;">]</span><span style="color: #000080;">=</span>NANUM;                <span style="color: #008000;">// Missing value will be removed</span>
        dsB<span style="color: #000000;">[</span><span style="color: #0000dd;">4</span><span style="color: #000000;">]</span><span style="color: #000080;">=</span><span style="color: #0000dd;">23</span>;
        vector vB<span style="color: #000000;">(</span> dsB, <span style="color: #0000ff;">TRUE</span> <span style="color: #000000;">)</span>;      <span style="color: #008000;">// Copy Dataset dsD to vector vD removing missing values</span>
        <span style="color: #000000;">printf</span><span style="color: #000000;">(</span><span style="color: #ff00ff;">"The size of vB is %d"</span>, vB.<span style="color: #000000;">GetSize</span><span style="color: #000000;">(</span><span style="color: #000000;">)</span><span style="color: #000000;">)</span>; <span style="color: #008000;">// Elements dsB[2] and dsB[3] are removed </span>
    <span style="color: #000000;">}</span>
<span style="color: #000000;">}</span>
</pre>

  <p><br>
  <b>EX5</b></p>
  <pre class="oc" style="font-family:monospace;">
<span style="color: #008000;">// Have some data in the second column of the current worksheet before running this example.</span>
<span style="color: #0000ff;">int</span>    vector_vector_ex5<span style="color: #000000;">(</span><span style="color: #000000;">)</span>
<span style="color: #000000;">{</span>
    Worksheet wks<span style="color: #000080;">=</span>Project.<span style="color: #000000;">ActiveLayer</span><span style="color: #000000;">(</span><span style="color: #000000;">)</span>;
    Column              col<span style="color: #000000;">(</span>wks, <span style="color: #0000dd;">1</span><span style="color: #000000;">)</span>;
    vector              v<span style="color: #000000;">(</span>col, <span style="color: #0000dd;">2</span>, <span style="color: #0000dd;">5</span>, WRITEBACK_DELETE_ON_SHRINK <span style="color: #000040;">|</span> WRITEBACK_INSERT_ON_EXPAND<span style="color: #000000;">)</span>;
 
    <span style="color: #008000;">// Dump the source range</span>
    <span style="color: #0000ff;">int</span>            nSrcLowerIndex, nSrcUpperIndex;
    <span style="color: #0000ff;">if</span> <span style="color: #000000;">(</span> v.<span style="color: #000000;">GetSourceRange</span> <span style="color: #000000;">(</span> nSrcLowerIndex, nSrcUpperIndex <span style="color: #000000;">)</span><span style="color: #000000;">)</span>
        <span style="color: #000000;">printf</span><span style="color: #000000;">(</span><span style="color: #ff00ff;">"nSrcLowerIndex = %ld<span style="color: #666666; font-weight: bold;">\t</span>nSrcUpperIndex = %ld<span style="color: #666666; font-weight: bold;">\n</span>"</span>, nSrcLowerIndex, nSrcUpperIndex<span style="color: #000000;">)</span>;
 
    <span style="color: #008000;">// Modify the vector:</span>
    <span style="color: #0000ff;">int</span>            nNewVectorSize <span style="color: #000080;">=</span> <span style="color: #0000dd;">80</span>;
    v.<span style="color: #000000;">SetSize</span><span style="color: #000000;">(</span>nNewVectorSize<span style="color: #000000;">)</span>;
    <span style="color: #0000ff;">for</span> <span style="color: #000000;">(</span><span style="color: #0000ff;">int</span> ii <span style="color: #000080;">=</span> <span style="color: #0000dd;">0</span>; ii <span style="color: #000080;">&lt;</span> nNewVectorSize; ii<span style="color: #000040;">++</span><span style="color: #000000;">)</span>
    <span style="color: #000000;">{</span>
        v<span style="color: #000000;">[</span>ii<span style="color: #000000;">]</span> <span style="color: #000080;">=</span> <span style="color: #0000dd;">100</span> <span style="color: #000040;">*</span> <span style="color: #000000;">(</span>ii <span style="color: #000040;">+</span> <span style="color: #0000dd;">1</span><span style="color: #000000;">)</span>;
        <span style="color: #000000;">printf</span> <span style="color: #000000;">(</span><span style="color: #ff00ff;">"%.1f<span style="color: #666666; font-weight: bold;">\n</span>"</span>, v<span style="color: #000000;">[</span>ii<span style="color: #000000;">]</span><span style="color: #000000;">)</span>
    <span style="color: #000000;">}</span>
 
    <span style="color: #0000ff;">return</span> <span style="color: #0000dd;">0</span>;
<span style="color: #000000;">}</span>
</pre>

  <p><b>EX6</b></p>
  <pre class="oc" style="font-family:monospace;">
<span style="color: #0000ff;">void</span> vector_vector_ex6<span style="color: #000000;">(</span><span style="color: #000000;">)</span>
<span style="color: #000000;">{</span>
    vector vR <span style="color: #000080;">=</span> <span style="color: #000000;">{</span> <span style="color: #0000dd;">1</span>, <span style="color: #0000dd;">2</span>, <span style="color: #0000dd;">3</span> <span style="color: #000000;">}</span>;
    vector vI <span style="color: #000080;">=</span> <span style="color: #000000;">{</span> <span style="color: #0000dd;">4</span>, <span style="color: #0000dd;">5</span>, <span style="color: #0000dd;">6</span> <span style="color: #000000;">}</span>;
    vector<span style="color: #000080;">&lt;</span>complex<span style="color: #000080;">&gt;</span> vComplex<span style="color: #000000;">(</span>vR, vI<span style="color: #000000;">)</span>;
    
    <span style="color: #0000ff;">for</span><span style="color: #000000;">(</span><span style="color: #0000ff;">int</span> ii <span style="color: #000080;">=</span> <span style="color: #0000dd;">0</span>; ii <span style="color: #000080;">&lt;</span> vComplex.<span style="color: #000000;">GetSize</span><span style="color: #000000;">(</span><span style="color: #000000;">)</span>; <span style="color: #000040;">++</span>ii<span style="color: #000000;">)</span>
    <span style="color: #000000;">{</span>
        out_complex<span style="color: #000000;">(</span><span style="color: #ff00ff;">""</span>, vComplex<span style="color: #000000;">[</span>ii<span style="color: #000000;">]</span><span style="color: #000000;">)</span>;
    <span style="color: #000000;">}</span>
        <span style="color: #008000; font-style: regular;">/*
        Output:
                1.000000+4.000000i
                2.000000+5.000000i
                3.000000+6.000000i
        */</span>  
<span style="color: #000000;">}</span>
</pre>

  <h2><a name="Remark"></a><span class="mw-headline">Remark</span></h2>

  <p>For the constructor to create a complex vector from two vectors - one containing the Real parts the other containing the Imaginary parts. The input vectors must have a base type of double and must have the same number of elements.</p>

  <h2><a name="See_Also"></a><span class="mw-headline">See Also</span></h2>

  <p><a href="../../OriginC/OriginC/Vectorbase-Trim.html" title="OriginC:Vectorbase-Trim">vectorbase::Trim</a></p>

  <h2><a name="header_to_Include"></a><span class="mw-headline">header to Include</span></h2>

  <p>origin.h</p>
