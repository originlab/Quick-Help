<h1 class="firstheading">_tzset</h1>

  <p>&#160;</p>

  <div id="toc" class="toc">
    <div id="toctitle">
      <h2>Contents</h2>
    </div>

    <ul>
      <li class="toclevel-1 tocsection-1"><a href="#Description"><span class="tocnumber">1</span> <span class="toctext">Description</span></a></li>

      <li class="toclevel-1 tocsection-2"><a href="#Syntax"><span class="tocnumber">2</span> <span class="toctext">Syntax</span></a></li>

      <li class="toclevel-1 tocsection-3"><a href="#Parameters"><span class="tocnumber">3</span> <span class="toctext">Parameters</span></a></li>

      <li class="toclevel-1 tocsection-4"><a href="#Return"><span class="tocnumber">4</span> <span class="toctext">Return</span></a></li>

      <li class="toclevel-1 tocsection-5"><a href="#Examples"><span class="tocnumber">5</span> <span class="toctext">Examples</span></a></li>

      <li class="toclevel-1 tocsection-6"><a href="#Remark"><span class="tocnumber">6</span> <span class="toctext">Remark</span></a></li>

      <li class="toclevel-1 tocsection-7"><a href="#See_Also"><span class="tocnumber">7</span> <span class="toctext">See Also</span></a></li>

      <li class="toclevel-1 tocsection-8"><a href="#header_to_Include"><span class="tocnumber">8</span> <span class="toctext">header to Include</span></a></li>

      <li class="toclevel-1 tocsection-9"><a href="#Reference"><span class="tocnumber">9</span> <span class="toctext">Reference</span></a></li>
    </ul>
  </div>

  <h2><a name="Description"></a><span class="mw-headline">Description</span></h2>

  <p>Uses the current setting of the environment variable TZ to update time settings.</p>

  <h2><a name="Syntax"></a><span class="mw-headline">Syntax</span></h2>
  <pre class="oc" style="font-family:monospace;">
<span style="color: #0000ff;">void</span> _tzset<span style="color: #000000;">(</span> <span style="color: #0000ff;">void</span> <span style="color: #000000;">)</span>
</pre>

  <h2><a name="Parameters"></a><span class="mw-headline">Parameters</span></h2>

  <h2><a name="Return"></a><span class="mw-headline">Return</span></h2>

  <h2><a name="Examples"></a><span class="mw-headline">Examples</span></h2>

  <p><b>EX1</b></p>
  <pre class="oc" style="font-family:monospace;">
<span style="color: #0000ff;">void</span> _tzset_ex1<span style="color: #000000;">(</span><span style="color: #000000;">)</span>
<span style="color: #000000;">{</span>
    _tzset<span style="color: #000000;">(</span><span style="color: #000000;">)</span>;
    <span style="color: #0000ff;">int</span> daylight;
    <span style="color: #0000ff;">long</span> timezone;
    <span style="color: #0000ff;">char</span><span style="color: #000040;">*</span> tzname<span style="color: #000000;">[</span><span style="color: #0000dd;">2</span><span style="color: #000000;">]</span>;
    get_time_setting<span style="color: #000000;">(</span><span style="color: #000040;">&amp;</span>daylight, <span style="color: #000040;">&amp;</span>timezone, tzname<span style="color: #000000;">)</span>;
    <span style="color: #000000;">printf</span><span style="color: #000000;">(</span> <span style="color: #ff00ff;">"daylight = %d<span style="color: #666666; font-weight: bold;">\n</span>"</span>, daylight <span style="color: #000000;">)</span>;
    <span style="color: #000000;">printf</span><span style="color: #000000;">(</span> <span style="color: #ff00ff;">"timezone = %ld<span style="color: #666666; font-weight: bold;">\n</span>"</span>, timezone <span style="color: #000000;">)</span>;
    <span style="color: #000000;">printf</span><span style="color: #000000;">(</span> <span style="color: #ff00ff;">"tzname[0] = %s<span style="color: #666666; font-weight: bold;">\n</span>"</span>, tzname<span style="color: #000000;">[</span><span style="color: #0000dd;">0</span><span style="color: #000000;">]</span> <span style="color: #000000;">)</span>;
<span style="color: #000000;">}</span>
</pre>

  <h2><a name="Remark"></a><span class="mw-headline">Remark</span></h2>

  <p>The <b>_tzset</b> function uses the current setting of the environment variable TZ to assign values to three global variables: <b>_daylight</b>, <b>_timezone</b>, and <b>_tzname</b>.</p>

  <p>These variables are used by the _ftime and localtime functions to make corrections from coordinated universal time (UTC) to local time, and by the time function to compute UTC from system time. Use the following syntax to set the <b>TZ</b> environment variable:</p>

  <p> </p>

  <p><b>set TZ</b>=<i>tzn</i>[+ | -]<i>hh</i>[:<i>mm</i>[:<i>ss</i>] ][<i>dzn</i>]</p>

  <p><i>tzn</i></p>

  <p>Three-letter time-zone name, such as PST. You must specify the correct offset from local time to UTC.</p>

  <p><i>hh</i></p>

  <p>Difference in hours between UTC and local time. Optionally signed.</p>

  <p><i>mm</i></p>

  <p>Minutes. Separated from <i>hh</i> by a colon (:).</p>

  <p><i>ss</i></p>

  <p>Seconds. Separated from <i>mm</i> by a colon (:).</p>

  <p><i>dzn</i></p>

  <p>Three-letter daylight-saving-time zone such as PDT. If daylight saving time is never in effect in the locality, set TZ without a value for dzn. The C run-time library assumes the United States's rules for implementing the calculation of Daylight Saving Time (DST).</p>

  <p> </p>

  <p>For example, to set the TZ environment variable to correspond to the current time zone in Germany, you can use one of the following statements:</p>

  <p> </p>

  <p>set TZ=GST-1GDT</p>

  <p>set TZ=GST+1GDT</p>

  <p> </p>

  <p>These strings use GST to indicate German standard time, assume that Germany is one hour ahead of UTC, and assume that daylight savings time is in effect.</p>

  <p> </p>

  <p>If the TZ value is not set, _tzset attempts to use the time zone information specified by the operating system. Under Windows NT and Windows 95, this information is specified in the Control Panel's Date/Time application. If _tzset cannot obtain this information, it uses PST8PDT by default, which signifies the Pacific time zone.</p>

  <p> </p>

  <p>Based on the TZ environment variable value, the following values are assigned to the global variables _daylight, _timezone, and _tzname when _tzset is called:</p>

  <p> </p>

  <table class="TableGrid" style="; border-spacing: 0px; border-spacing: 0px;" border="1">
    <tr>
      <th bgcolor="#EFEFEF" width="2%">Global Variable</th>

      <th bgcolor="#EFEFEF" width="18%">Description</th>

      <th bgcolor="#EFEFEF" width="2%">Default Value</th>
    </tr>

    <tr>
      <td>_daylight</td>

      <td>Nonzero value if a daylight-saving-time zone is specified in TZ setting; otherwise, 0</td>

      <td>
        1

        <p> </p>
      </td>
    </tr>

    <tr>
      <td>_timezone</td>

      <td>Difference in seconds between UTC and local time.</td>

      <td>28800 (28800 seconds equals 8 hours)</td>
    </tr>

    <tr>
      <td>_tzname[0]</td>

      <td>String value of time-zone name from TZ environmental variable; empty if TZ has not been set</td>

      <td>PST</td>
    </tr>

    <tr>
      <td>_tzname[1]</td>

      <td>String value of daylight-saving-time zone; empty if daylight-saving-time zone is omitted from TZ environmental variable</td>

      <td>PDT</td>
    </tr>
  </table>

  <p>The default values shown in the preceding table for _daylight and the _tzname array correspond to "PST8PDT". If the DST zone is omitted from the TZ environmental variable, the value of _daylight is 0 and the _ftime, gmtime, and localtime functions return 0 for their DST flags.</p>

  <h2><a name="See_Also"></a><span class="mw-headline">See Also</span></h2>

  <h2><a name="header_to_Include"></a><span class="mw-headline">header to Include</span></h2>

  <p>origin.h</p>

  <h2><a name="Reference"></a><span class="mw-headline">Reference</span></h2>
