<h1 class="firstheading">PEVENT_GETN</h1>

  <p>&#160;</p>

  <div id="toc" class="toc">
    <div id="toctitle">
      <h2>Contents</h2>
    </div>

    <ul>
      <li class="toclevel-1 tocsection-1"><a href="#Name"><span class="tocnumber">1</span> <span class="toctext">Name</span></a></li>

      <li class="toclevel-1 tocsection-2"><a href="#Declaration"><span class="tocnumber">2</span> <span class="toctext">Declaration</span></a></li>

      <li class="toclevel-1 tocsection-3"><a href="#Examples"><span class="tocnumber">3</span> <span class="toctext">Examples</span></a></li>

      <li class="toclevel-1 tocsection-4"><a href="#Remark"><span class="tocnumber">4</span> <span class="toctext">Remark</span></a></li>

      <li class="toclevel-1 tocsection-5"><a href="#header_to_Include"><span class="tocnumber">5</span> <span class="toctext">header to Include</span></a></li>

      <li class="toclevel-1 tocsection-6"><a href="#Reference"><span class="tocnumber">6</span> <span class="toctext">Reference</span></a></li>
    </ul>
  </div>

  <h2><a name="Name"></a><span class="mw-headline">Name</span></h2>

  <p>PEVENT_GETN</p>

  <h2><a name="Declaration"></a><span class="mw-headline">Declaration</span></h2>
  <pre class="oc" style="font-family:monospace;">
<span style="color: #0000ff;">typedef</span> <span style="color: #0000ff;">int</span> <span style="color: #000000;">(</span><span style="color: #000040;">*</span> PEVENT_GETN<span style="color: #000000;">)</span><span style="color: #000000;">(</span>TreeNode<span style="color: #000040;">&amp;</span> tr, <span style="color: #0000ff;">int</span> nRow, <span style="color: #0000ff;">int</span> nEvent, DWORD<span style="color: #000040;">&amp;</span> dwEnables, LPCSTR lpcszNodeName, WndContainer<span style="color: #000040;">&amp;</span> getNContainer, string<span style="color: #000040;">&amp;</span> strAux, string<span style="color: #000040;">&amp;</span> strErrMsg<span style="color: #000000;">)</span>;
</pre>

  <h2><a name="Examples"></a><span class="mw-headline">Examples</span></h2>

  <p>You can <a href="../../OriginC/OriginC/GetNBox_(global_function).html#Examples" title="OriginC:GetNBox (global function)">go to GetNBox</a> to see other example.</p>

  <p><b>EX1</b></p>
  <pre class="oc" style="font-family:monospace;">
<span style="color: #0000ff;">#include</span> <span style="color: #000080;">&lt;</span>Control.<span style="color: #000000;">h</span><span style="color: #000080;">&gt;</span>
<span style="color: #0000ff;">#include</span> <span style="color: #000080;">&lt;</span>GetNbox.<span style="color: #000000;">h</span><span style="color: #000080;">&gt;</span>
 
<span style="color: #0000ff;">void</span> GetNBox_ex<span style="color: #000000;">(</span><span style="color: #000000;">)</span>
<span style="color: #000000;">{</span>
    GETN_TREE<span style="color: #000000;">(</span>tr<span style="color: #000000;">)</span>
    GETN_COMBO_BUTTON<span style="color: #000000;">(</span>test, <span style="color: #ff00ff;">"&gt;"</span>, <span style="color: #ff00ff;">"List"</span>, <span style="color: #ff00ff;">"User"</span>, <span style="color: #ff00ff;">"AAA|BBB"</span>, <span style="color: #ff00ff;">""</span><span style="color: #000000;">)</span>
    GETN_CHECK<span style="color: #000000;">(</span>check, <span style="color: #ff00ff;">"Yes or No"</span>, <span style="color: #0000dd;">0</span><span style="color: #000000;">)</span> 
 
    <span style="color: #0000ff;">if</span><span style="color: #000000;">(</span> GetNBox<span style="color: #000000;">(</span>tr, _event_func_ex, <span style="color: #ff00ff;">"Test Event Function"</span>, <span style="color: #ff00ff;">"Test..."</span><span style="color: #000000;">)</span> <span style="color: #000000;">)</span> 
    <span style="color: #000000;">{</span>
        out_str<span style="color: #000000;">(</span><span style="color: #ff00ff;">"Done"</span><span style="color: #000000;">)</span>; <span style="color: #008000;">// if OK button clicked</span>
    <span style="color: #000000;">}</span>
<span style="color: #000000;">}</span>
<span style="color: #0000ff;">int</span> _event_func_ex<span style="color: #000000;">(</span>TreeNode<span style="color: #000040;">&amp;</span> tr, <span style="color: #0000ff;">int</span> nRow, <span style="color: #0000ff;">int</span> nEvent, DWORD<span style="color: #000040;">&amp;</span> dwEnables, LPCSTR lpcszNodeName, WndContainer<span style="color: #000040;">&amp;</span> getNContainer, string<span style="color: #000040;">&amp;</span> strAux, string<span style="color: #000040;">&amp;</span> strErrMsg<span style="color: #000000;">)</span>
<span style="color: #000000;">{</span>     
    <span style="color: #008000;">//show how to use tr, nRow and nEvent </span>
    <span style="color: #0000ff;">if</span><span style="color: #000000;">(</span>GETNE_ON_VALUE_CHANGE <span style="color: #000080;">==</span> nEvent<span style="color: #000000;">)</span>
    <span style="color: #000000;">{</span>
        <span style="color: #008000;">//get the value-changed node</span>
        TreeNode trEdited <span style="color: #000080;">=</span> tree_get_node<span style="color: #000000;">(</span>tr, nRow<span style="color: #000000;">)</span>;
        <span style="color: #0000ff;">if</span><span style="color: #000000;">(</span> trEdited <span style="color: #000000;">)</span>
            <span style="color: #000000;">printf</span><span style="color: #000000;">(</span><span style="color: #ff00ff;">"changed node: %s<span style="color: #666666; font-weight: bold;">\n</span>"</span>, trEdited.<span style="color: #000000;">tagName</span><span style="color: #000000;">)</span>;
    <span style="color: #000000;">}</span>
 
        
    <span style="color: #008000;">//show how to use nEvent, lpcszNodeName, and getNContainer</span>
    <span style="color: #0000ff;">if</span><span style="color: #000000;">(</span>ONODETYPE_BROWSECOMBO <span style="color: #000080;">==</span> nEvent <span style="color: #000040;">&amp;&amp;</span> lstrcmpi<span style="color: #000000;">(</span>lpcszNodeName,<span style="color: #ff00ff;">"test"</span><span style="color: #000000;">)</span> <span style="color: #000080;">==</span> <span style="color: #0000dd;">0</span><span style="color: #000000;">)</span>
    <span style="color: #000000;">{</span> 
        <span style="color: #008000;">//click the "&gt;" button to show menu</span>
        Menu myMenu;
        myMenu.<span style="color: #000000;">Add</span><span style="color: #000000;">(</span><span style="color: #ff00ff;">"Item1"</span>, <span style="color: #0000dd;">1</span>, MF_STRING<span style="color: #000000;">)</span>;
        myMenu.<span style="color: #000000;">Add</span><span style="color: #000000;">(</span><span style="color: #ff00ff;">"Item2"</span>, <span style="color: #0000dd;">2</span>, MF_STRING<span style="color: #000000;">)</span>;
        
        <span style="color: #0000ff;">int</span> nSelCmd;
                POINT pt;
                GetCursorPos<span style="color: #000000;">(</span><span style="color: #000040;">&amp;</span>pt<span style="color: #000000;">)</span>;
                myMenu.<span style="color: #000000;">TrackPopupMenu</span><span style="color: #000000;">(</span><span style="color: #0000dd;">0</span>, pt.<span style="color: #000000;">x</span>, pt.<span style="color: #000000;">y</span>, getNContainer.<span style="color: #000000;">GetSafeHwnd</span><span style="color: #000000;">(</span><span style="color: #000000;">)</span>, <span style="color: #000040;">&amp;</span>nSelCmd<span style="color: #000000;">)</span>;
                <span style="color: #0000ff;">if</span><span style="color: #000000;">(</span>nSelCmd <span style="color: #000080;">&gt;</span> <span style="color: #0000dd;">0</span><span style="color: #000000;">)</span>
                <span style="color: #000000;">{</span>
                        string strName;
                        myMenu.<span style="color: #000000;">GetMenuString</span><span style="color: #000000;">(</span>nSelCmd, strName, MF_STRING<span style="color: #000000;">)</span>;
                        tr.<span style="color: #000000;">test</span>.<span style="color: #000000;">strVal</span> <span style="color: #000080;">=</span> strName;
                <span style="color: #000000;">}</span>
    <span style="color: #000000;">}</span>
        

    <span style="color: #008000;">//shows how to use strErrMsg and disable OK button</span>
    <span style="color: #0000ff;">if</span><span style="color: #000000;">(</span> tr.<span style="color: #000000;">check</span> <span style="color: #000000;">)</span>
    <span style="color: #000000;">{</span>
        <span style="color: #008000;">// disable OK button if "Yes or No" checkbox is unchecked.</span>
        <span style="color: #0000ff;">bool</span> bEnable <span style="color: #000080;">=</span> <span style="color: #000000;">(</span> <span style="color: #0000dd;">1</span> <span style="color: #000080;">==</span> tr.<span style="color: #000000;">check</span>.<span style="color: #000000;">nVal</span> <span style="color: #000000;">)</span>; 
        O_SET_BIT<span style="color: #000000;">(</span>dwEnables, GETNGEVT_OK_ENABLE, bEnable<span style="color: #000000;">)</span>;            
        <span style="color: #0000ff;">if</span><span style="color: #000000;">(</span> <span style="color: #000040;">!</span>bEnable <span style="color: #000000;">)</span>
                strErrMsg <span style="color: #000080;">=</span> <span style="color: #ff00ff;">"Error! Yes or No checkbox is unchecked"</span>;
    <span style="color: #000000;">}</span>
    <span style="color: #0000ff;">return</span> <span style="color: #0000ff;">true</span>;
<span style="color: #000000;">}</span>
</pre>

  <h2><a name="Remark"></a><span class="mw-headline">Remark</span></h2>

  <p>The function pointer of the GetNBox dialog's event.</p>

  <h2><a name="header_to_Include"></a><span class="mw-headline">header to Include</span></h2>

  <p>GetNbox.h</p>

  <h2><a name="Reference"></a><span class="mw-headline">Reference</span></h2>
