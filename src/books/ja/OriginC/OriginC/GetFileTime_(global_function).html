<h1 class="firstheading">GetFileTime</h1>

  <p>&#160;</p>

  <div id="toc" class="toc">
    <div id="toctitle">
      <h2>Contents</h2>
    </div>

    <ul>
      <li class="toclevel-1 tocsection-1"><a href="#Description"><span class="tocnumber">1</span> <span class="toctext">Description</span></a></li>

      <li class="toclevel-1 tocsection-2"><a href="#Syntax"><span class="tocnumber">2</span> <span class="toctext">Syntax</span></a></li>

      <li class="toclevel-1 tocsection-3"><a href="#Parameters"><span class="tocnumber">3</span> <span class="toctext">Parameters</span></a></li>

      <li class="toclevel-1 tocsection-4"><a href="#Return"><span class="tocnumber">4</span> <span class="toctext">Return</span></a></li>

      <li class="toclevel-1 tocsection-5"><a href="#Examples"><span class="tocnumber">5</span> <span class="toctext">Examples</span></a></li>

      <li class="toclevel-1 tocsection-6"><a href="#Remark"><span class="tocnumber">6</span> <span class="toctext">Remark</span></a></li>

      <li class="toclevel-1 tocsection-7"><a href="#See_Also"><span class="tocnumber">7</span> <span class="toctext">See Also</span></a></li>

      <li class="toclevel-1 tocsection-8"><a href="#header_to_Include"><span class="tocnumber">8</span> <span class="toctext">header to Include</span></a></li>

      <li class="toclevel-1 tocsection-9"><a href="#Reference"><span class="tocnumber">9</span> <span class="toctext">Reference</span></a></li>
    </ul>
  </div>

  <h2><a name="Description"></a><span class="mw-headline">Description</span></h2>

  <p>This function retrieves the file creation time, last access time, last write time.</p>

  <h2><a name="Syntax"></a><span class="mw-headline">Syntax</span></h2>
  <pre class="oc" style="font-family:monospace;">
<span style="color: #0000ff;">BOOL</span> GetFileTime<span style="color: #000000;">(</span> HANDLE hFile, FILETIME <span style="color: #000040;">*</span> lpCreationTime, FILETIME <span style="color: #000040;">*</span> lpLastAccessTime, FILETIME <span style="color: #000040;">*</span> lpLastWriteTime <span style="color: #000000;">)</span>
</pre>

  <h2><a name="Parameters"></a><span class="mw-headline">Parameters</span></h2>

  <dl>
    <dt>hFile</dt>

    <dd>[input] Handle to the file for which to set the dates and times. The file handle must have been created with GENERIC_WRITE access to the file.</dd>

    <dt>lpCreationTime</dt>

    <dd>[output] FILETIME structure that contains the date and time the file was created. This parameter can be NULL if the application does not need to set this information.</dd>

    <dt>lpLastAccessTime</dt>

    <dd>[output] FILETIME structure that contains the date and time the file was last accessed. The last access time includes the last time the file was written to, read from, or (in the case of executable files) run. This parameter can be NULL if the application does not need to set this information.</dd>

    <dt>lpLastWriteTime</dt>

    <dd>[output] FILETIME structure that contains the date and time the file was last written to. This parameter can be NULL if the application does not want to set this information.</dd>
  </dl>

  <h2><a name="Return"></a><span class="mw-headline">Return</span></h2>

  <p>TRUE if success, FALSE if error</p>

  <h2><a name="Examples"></a><span class="mw-headline">Examples</span></h2>

  <p><b>EX1</b></p>
  <pre class="oc" style="font-family:monospace;">
<span style="color: #0000ff;">int</span> GetFileTime_ex1<span style="color: #000000;">(</span><span style="color: #000000;">)</span>
<span style="color: #000000;">{</span>
    <span style="color: #0000ff;">char</span><span style="color: #000040;">*</span> szFilename <span style="color: #000080;">=</span> <span style="color: #ff00ff;">"c:<span style="color: #666666; font-weight: bold;">\\</span>test.txt"</span> ;
    <span style="color: #0000ff;">BOOL</span> bRet <span style="color: #000080;">=</span> <span style="color: #0000ff;">FALSE</span>;
    HANDLE hFile <span style="color: #000080;">=</span> CreateFile<span style="color: #000000;">(</span>szFilename, GENERIC_WRITE, FILE_SHARE_READ, <span style="color: #0000ff;">NULL</span>, OPEN_EXISTING, FILE_ATTRIBUTE_NORMAL, <span style="color: #0000ff;">NULL</span><span style="color: #000000;">)</span>;
    <span style="color: #0000ff;">if</span> <span style="color: #000000;">(</span>hFile <span style="color: #000040;">!</span><span style="color: #000080;">=</span> INVALID_HANDLE_VALUE<span style="color: #000000;">)</span>
    <span style="color: #000000;">{</span>
        FILETIME ftCreation;
        FILETIME ftLastAccessTime;
        FILETIME ftLastWrite;
        bRet <span style="color: #000080;">=</span> GetFileTime<span style="color: #000000;">(</span>hFile,<span style="color: #000040;">&amp;</span>ftCreation, <span style="color: #000040;">&amp;</span>ftLastAccessTime, <span style="color: #000040;">&amp;</span>ftLastWrite<span style="color: #000000;">)</span>;
        CloseHandle<span style="color: #000000;">(</span>hFile<span style="color: #000000;">)</span>;
    <span style="color: #000000;">}</span>
    <span style="color: #0000ff;">return</span> <span style="color: #0000dd;">1</span>;
<span style="color: #000000;">}</span>
</pre>

  <h2><a name="Remark"></a><span class="mw-headline">Remark</span></h2>

  <h2><a name="See_Also"></a><span class="mw-headline">See Also</span></h2>

  <p><a href="../../OriginC/OriginC/SetFileTime_(global_function).html" title="OriginC:SetFileTime (global function)">SetFileTime</a>, <a href="../../OriginC/OriginC/FileTimeToSystemTime_(global_function).html" title="OriginC:FileTimeToSystemTime (global function)">FileTimeToSystemTime</a>, <a href="../../OriginC/OriginC/SystemTimeToJulianDate_(global_function).html" title="OriginC:SystemTimeToJulianDate (global function)">SystemTimeToJulianDate</a></p>

  <h2><a name="header_to_Include"></a><span class="mw-headline">header to Include</span></h2>

  <p>origin.h</p>

  <h2><a name="Reference"></a><span class="mw-headline">Reference</span></h2>
