<h1 class="firstheading">file</h1>

  <p>&#160;</p>

  <div id="toc" class="toc">
    <div id="toctitle">
      <h2>Contents</h2>
    </div>

    <ul>
      <li class="toclevel-1 tocsection-1"><a href="#Name"><span class="tocnumber">1</span> <span class="toctext">Name</span></a></li>

      <li class="toclevel-1 tocsection-2"><a href="#Remark"><span class="tocnumber">2</span> <span class="toctext">Remark</span></a></li>

      <li class="toclevel-1 tocsection-3"><a href="#Hierarchy"><span class="tocnumber">3</span> <span class="toctext">Hierarchy</span></a></li>

      <li class="toclevel-1 tocsection-4"><a href="#Examples"><span class="tocnumber">4</span> <span class="toctext">Examples</span></a></li>

      <li class="toclevel-1 tocsection-5"><a href="#header_to_Include"><span class="tocnumber">5</span> <span class="toctext">header to Include</span></a></li>

      <li class="toclevel-1 tocsection-6"><a href="#Reference"><span class="tocnumber">6</span> <span class="toctext">Reference</span></a></li>

      <li class="toclevel-1 tocsection-7"><a href="#Members"><span class="tocnumber">7</span> <span class="toctext">Members</span></a></li>
    </ul>
  </div>

  <h2><a name="Name"></a><span class="mw-headline">Name</span></h2>

  <p>file</p>

  <h2><a name="Remark"></a><span class="mw-headline">Remark</span></h2>

  <p>The Origin C file class provides read/write access to binary files using unbuffered io (immediate disk access) similar to the MFC CFile class. See also the stdioFile class for buffered stream io to text files.</p>

  <h2><a name="Hierarchy"></a><span class="mw-headline">Hierarchy</span></h2>

  <ul>
    <li>
      <strong class="selflink">file</strong>

      <ul>
        <li><a href="../../OriginC/Category/StdioFile_(class).html" title="Category:StdioFile (class)">stdioFile</a></li>
      </ul>
    </li>
  </ul>

  <h2><a name="Examples"></a><span class="mw-headline">Examples</span></h2>

  <p><b>EX1</b></p>
  <pre class="oc" style="font-family:monospace;">
<span style="color: #008000;">//generate a binary file with 4 integer</span>
<span style="color: #0000ff;">void</span> file_ex1<span style="color: #000000;">(</span><span style="color: #000000;">)</span>
<span style="color: #000000;">{</span>
    <span style="color: #0000ff;">char</span> szTemp<span style="color: #000000;">[</span>MAXFULLPATH<span style="color: #000000;">]</span>;
    GetTempPath<span style="color: #000000;">(</span>MAXFULLPATH, szTemp<span style="color: #000000;">)</span>; <span style="color: #008000;">// Get temp folder path.</span>
    string strFile <span style="color: #000080;">=</span> szTemp <span style="color: #000040;">+</span> <span style="color: #ff00ff;">"<span style="color: #666666; font-weight: bold;">\\</span>test.Dat"</span>;
    <span style="color: #0000ff;">file</span> ff<span style="color: #000000;">(</span>strFile, <span style="color: #0000ff;">file</span><span style="color: #000000;">::</span><span style="color: #000000;">modeCreate</span> <span style="color: #000040;">|</span> <span style="color: #0000ff;">file</span><span style="color: #000000;">::</span><span style="color: #000000;">modeWrite</span><span style="color: #000000;">)</span>; <span style="color: #008000;">// Create a new write only file.</span>
    <span style="color: #0000ff;">int</span> bb<span style="color: #000000;">[</span><span style="color: #0000dd;">4</span><span style="color: #000000;">]</span> <span style="color: #000080;">=</span> <span style="color: #000000;">{</span><span style="color: #0000dd;">1</span>, <span style="color: #0000dd;">2</span>, <span style="color: #0000dd;">3</span>, <span style="color: #0000dd;">4</span><span style="color: #000000;">}</span>;
    <span style="color: #0000ff;">int</span> iSize <span style="color: #000080;">=</span> <span style="color: #000000;">sizeof</span><span style="color: #000000;">(</span>bb<span style="color: #000000;">)</span>;
    ff.<span style="color: #000000;">Write</span><span style="color: #000000;">(</span>bb,iSize<span style="color: #000000;">)</span>;
    ff.<span style="color: #000000;">Close</span><span style="color: #000000;">(</span><span style="color: #000000;">)</span>;
<span style="color: #000000;">}</span>
</pre>

  <p><b>EX2</b></p>
  <pre class="oc" style="font-family:monospace;">
<span style="color: #008000;">//generate a binary file of unsigned short in the form of cell=r + c</span>
<span style="color: #008000;">//you can read this type of file into Origin with the impbin2d X-Function</span>
<span style="color: #0000ff;">void</span> file_ex2<span style="color: #000000;">(</span><span style="color: #0000ff;">int</span> nCols <span style="color: #000080;">=</span> <span style="color: #0000dd;">128</span>, <span style="color: #0000ff;">int</span> nRows <span style="color: #000080;">=</span> <span style="color: #0000dd;">10</span><span style="color: #000000;">)</span>
<span style="color: #000000;">{</span>
    string strFile <span style="color: #000080;">=</span> GetAppPath<span style="color: #000000;">(</span><span style="color: #000000;">)</span> <span style="color: #000040;">+</span> <span style="color: #ff00ff;">"test"</span> <span style="color: #000040;">+</span> nCols <span style="color: #000040;">+</span> <span style="color: #ff00ff;">"x"</span> <span style="color: #000040;">+</span> nRows <span style="color: #000040;">+</span> <span style="color: #ff00ff;">".img"</span>;
    <span style="color: #0000ff;">file</span> ff;
    <span style="color: #0000ff;">if</span><span style="color: #000000;">(</span>ff.<span style="color: #000000;">Open</span><span style="color: #000000;">(</span>strFile, <span style="color: #0000ff;">file</span><span style="color: #000000;">::</span><span style="color: #000000;">modeCreate</span> <span style="color: #000040;">|</span> <span style="color: #0000ff;">file</span><span style="color: #000000;">::</span><span style="color: #000000;">modeWrite</span><span style="color: #000000;">)</span><span style="color: #000000;">)</span>
    <span style="color: #000000;">{</span>
        <span style="color: #0000ff;">for</span><span style="color: #000000;">(</span><span style="color: #0000ff;">int</span> ii <span style="color: #000080;">=</span> <span style="color: #0000dd;">0</span>; ii <span style="color: #000080;">&lt;</span> nRows; ii<span style="color: #000040;">++</span><span style="color: #000000;">)</span>
        <span style="color: #000000;">{</span>
            <span style="color: #0000ff;">for</span><span style="color: #000000;">(</span><span style="color: #0000ff;">int</span> jj <span style="color: #000080;">=</span> <span style="color: #0000dd;">0</span>; jj <span style="color: #000080;">&lt;</span> nCols; jj<span style="color: #000040;">++</span><span style="color: #000000;">)</span>
            <span style="color: #000000;">{</span>
                <span style="color: #0000ff;">unsigned</span> <span style="color: #0000ff;">short</span> us <span style="color: #000080;">=</span> ii <span style="color: #000040;">+</span> jj;
                ff.<span style="color: #000000;">Write</span><span style="color: #000000;">(</span><span style="color: #000040;">&amp;</span>us, <span style="color: #0000dd;">2</span><span style="color: #000000;">)</span>;
            <span style="color: #000000;">}</span>
        <span style="color: #000000;">}</span>
        ff.<span style="color: #000000;">Close</span><span style="color: #000000;">(</span><span style="color: #000000;">)</span>;
        <span style="color: #000000;">printf</span><span style="color: #000000;">(</span><span style="color: #ff00ff;">"file successfully created:<span style="color: #666666; font-weight: bold;">\n</span>%s<span style="color: #666666; font-weight: bold;">\n</span>"</span>, strFile<span style="color: #000000;">)</span>;
    <span style="color: #000000;">}</span>
    <span style="color: #0000ff;">else</span>
        <span style="color: #000000;">printf</span><span style="color: #000000;">(</span><span style="color: #ff00ff;">"failed to create file:%s<span style="color: #666666; font-weight: bold;">\n</span>"</span>, strFile<span style="color: #000000;">)</span>;
<span style="color: #000000;">}</span>
</pre>

  <h2><a name="header_to_Include"></a><span class="mw-headline">header to Include</span></h2>

  <p>origin.h</p>

  <h2><a name="Reference"></a><span class="mw-headline">Reference</span></h2>

  <h2><a name="Members"></a><span class="mw-headline">Members</span></h2>

  <table class="TableGrid" style="; border-spacing: 0px; border-spacing: 0px;" border="1">
    <tr>
      <th bgcolor="#EFEFEF" width="2%">Name</th>

      <th bgcolor="#EFEFEF" width="18%">Brief</th>

      <th bgcolor="#EFEFEF" width="2%">Example</th>
    </tr>

    <tr>
      <td><a href="../../OriginC/OriginC/File-Close.html" title="OriginC:File-Close">Close</a></td>

      <td>Close the file associated with the indicated file object.</td>

      <td align="center"><a href="../../OriginC/OriginC/File-Close.html#Examples" title="OriginC:File-Close">Examples</a></td>
    </tr>

    <tr>
      <td><a href="../../OriginC/OriginC/File-file.html" title="OriginC:File-file">file</a></td>

      <td>Set the public data member m_hFile to a null value.</td>

      <td align="center"><a href="../../OriginC/OriginC/File-file.html#Examples" title="OriginC:File-file">Examples</a></td>
    </tr>

    <tr>
      <td><a href="../../OriginC/OriginC/File-Flush.html" title="OriginC:File-Flush">Flush</a></td>

      <td>Force data remaining in the file buffer to be written to the file.</td>

      <td align="center"><a href="../../OriginC/OriginC/File-Flush.html#Examples" title="OriginC:File-Flush">Examples</a></td>
    </tr>

    <tr>
      <td><a href="../../OriginC/OriginC/File-GetHandle.html" title="OriginC:File-GetHandle">GetHandle</a></td>

      <td>Get the handle of current open file.</td>

      <td align="center"><a href="../../OriginC/OriginC/File-GetHandle.html#Examples" title="OriginC:File-GetHandle">Examples</a></td>
    </tr>

    <tr>
      <td><a href="../../OriginC/OriginC/File-GetLastError.html" title="OriginC:File-GetLastError">GetLastError</a></td>

      <td>Get the value of the last error that occured.</td>

      <td align="center"><a href="../../OriginC/OriginC/File-GetLastError.html#Examples" title="OriginC:File-GetLastError">Examples</a></td>
    </tr>

    <tr>
      <td><a href="../../OriginC/OriginC/File-GetLength.html" title="OriginC:File-GetLength">GetLength</a></td>

      <td>Obtains the current logical length of the file in bytes.</td>

      <td align="center"><a href="../../OriginC/OriginC/File-GetLength.html#Examples" title="OriginC:File-GetLength">Examples</a></td>
    </tr>

    <tr>
      <td><a href="../../OriginC/OriginC/File-GetPosition.html" title="OriginC:File-GetPosition">GetPosition</a></td>

      <td>Get the current value of the file pointer which is an offset from the beginning of the file.</td>

      <td align="center"><a href="../../OriginC/OriginC/File-GetPosition.html#Examples" title="OriginC:File-GetPosition">Examples</a></td>
    </tr>

    <tr>
      <td><a href="../../OriginC/OriginC/File-IsOpen.html" title="OriginC:File-IsOpen">IsOpen</a></td>

      <td>Check file object is open or not, when use a method of File object which is not open will lead a runtime error. Use this function before you call the method of File object.</td>

      <td align="center"><a href="../../OriginC/OriginC/File-IsOpen.html#Examples" title="OriginC:File-IsOpen">Examples</a></td>
    </tr>

    <tr>
      <td><a href="../../OriginC/OriginC/File-Open.html" title="OriginC:File-Open">Open</a></td>

      <td>Open a file returning FALSE or 0 on failure and TRUE or a non-zero on success.</td>

      <td align="center"><a href="../../OriginC/OriginC/File-Open.html#Examples" title="OriginC:File-Open">Examples</a></td>
    </tr>

    <tr>
      <td><a href="../../OriginC/OriginC/File-Read.html" title="OriginC:File-Read">Read</a></td>

      <td>Read data into a buffer from the file associated with the file object.</td>

      <td align="center"><a href="../../OriginC/OriginC/File-Read.html#Examples" title="OriginC:File-Read">Examples</a></td>
    </tr>

    <tr>
      <td><a href="../../OriginC/OriginC/File-ReadFloat.html" title="OriginC:File-ReadFloat">ReadFloat</a></td>

      <td>Read a set of float data from file</td>

      <td align="center"><a href="../../OriginC/OriginC/File-ReadFloat.html#Examples" title="OriginC:File-ReadFloat">Examples</a></td>
    </tr>

    <tr>
      <td><a href="../../OriginC/OriginC/File-ReadInt.html" title="OriginC:File-ReadInt">ReadInt</a></td>

      <td>It is used to support Little Endian and Big Endian read and write binary data.</td>

      <td align="center"><a href="../../OriginC/OriginC/File-ReadInt.html#Examples" title="OriginC:File-ReadInt">Examples</a></td>
    </tr>

    <tr>
      <td><a href="../../OriginC/OriginC/File-Seek.html" title="OriginC:File-Seek">Seek</a></td>

      <td>Moves the pointer to the current file position as specified. Seek enables random access within a file.</td>

      <td align="center"><a href="../../OriginC/OriginC/File-Seek.html#Examples" title="OriginC:File-Seek">Examples</a></td>
    </tr>

    <tr>
      <td><a href="../../OriginC/OriginC/File-SeekToBegin.html" title="OriginC:File-SeekToBegin">SeekToBegin</a></td>

      <td>Sets the file pointer value to the beginning of the file. This is the same as file::Seek(0, file::begin).</td>

      <td align="center"><a href="../../OriginC/OriginC/File-SeekToBegin.html#Examples" title="OriginC:File-SeekToBegin">Examples</a></td>
    </tr>

    <tr>
      <td><a href="../../OriginC/OriginC/File-SeekToEnd.html" title="OriginC:File-SeekToEnd">SeekToEnd</a></td>

      <td>Sets the file pointer value to the end of the file. This is the same as file::Seek(0, file::end).</td>

      <td align="center"><a href="../../OriginC/OriginC/File-SeekToEnd.html#Examples" title="OriginC:File-SeekToEnd">Examples</a></td>
    </tr>

    <tr>
      <td><a href="../../OriginC/OriginC/File-Write.html" title="OriginC:File-Write">Write</a></td>

      <td>Write data from a buffer into the file associated with the file object.</td>

      <td align="center"><a href="../../OriginC/OriginC/File-Write.html#Examples" title="OriginC:File-Write">Examples</a></td>
    </tr>

    <tr>
      <td><a href="../../OriginC/OriginC/File-WriteFloat.html" title="OriginC:File-WriteFloat">WriteFloat</a></td>

      <td>Write a set of float data into file</td>

      <td align="center"><a href="../../OriginC/OriginC/File-WriteFloat.html#Examples" title="OriginC:File-WriteFloat">Examples</a></td>
    </tr>

    <tr>
      <td><a href="../../OriginC/OriginC/File-WriteInt.html" title="OriginC:File-WriteInt">WriteInt</a></td>

      <td>Write a set of integer data into file</td>

      <td align="center"><a href="../../OriginC/OriginC/File-WriteInt.html#Examples" title="OriginC:File-WriteInt">Examples</a></td>
    </tr>
  </table>
