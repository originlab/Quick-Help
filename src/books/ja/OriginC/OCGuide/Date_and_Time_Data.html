<h1 class="firstheading">日付と時間データ</h1><p>Origin Cは、日付と時間データをサポートしています。
</p>
<h2><a name="Get_Current_Date_TimeDate_Time.2C_Get_Current_Date_Time"></a><span class="mw-headline">現在の日時データを取得<span class="OIndex" style="display:none">Date Time, Get Current Date Time</span></span></h2>
<pre class="oc" style="font-family:monospace;"><span style="color: #008000;">// 現在の時間を取得</span>
<span style="color: #0000ff;">time_t</span> aclock;
<span style="color: #000000;">time</span><span style="color: #000000;">(</span> <span style="color: #000040;">&amp;</span>aclock <span style="color: #000000;">)</span>;

<span style="color: #008000;">// 時間の値を変換し、ローカル時間に修正</span>
<span style="color: #0000ff;">TM</span> tmLocal;
convert_time_to_local<span style="color: #000000;">(</span><span style="color: #000040;">&amp;</span>aclock , <span style="color: #000040;">&amp;</span>tmLocal<span style="color: #000000;">)</span>;

<span style="color: #008000;">// TM形式からシステム時間形式に時間の値を変換</span>
SYSTEMTIME sysTime;
tm_to_systemtime<span style="color: #000000;">(</span><span style="color: #000040;">&amp;</span>tmLocal, <span style="color: #000040;">&amp;</span>sysTime<span style="color: #000000;">)</span>;	

<span style="color: #008000;">// システム時間から日付文字列を取得</span>
<span style="color: #0000ff;">char</span> 	lpcstrTime<span style="color: #000000;">[</span><span style="color: #0000dd;">100</span><span style="color: #000000;">]</span>;
<span style="color: #0000ff;">if</span><span style="color: #000000;">(</span>systemtime_to_date_str<span style="color: #000000;">(</span><span style="color: #000040;">&amp;</span>sysTime, lpcstrTime, LDF_SHORT_AND_HHMM_SEPARCOLON<span style="color: #000000;">)</span><span style="color: #000000;">)</span>
    <span style="color: #000000;">printf</span><span style="color: #000000;">(</span><span style="color: #ff00ff;">&quot;Current Date Time is&nbsp;%s<span style="color: #666666; font-weight: bold;">\n</span>&quot;</span>, lpcstrTime<span style="color: #000000;">)</span>;</pre>
<h2><a name="Convert_Julian_Date_to_StringDate_Time.2C_Convert_Julian_Date_to_StringDate_Time.2C_Custom_Date_Format"></a><span class="mw-headline">ユリウス日を文字列に変換<span class="OIndex" style="display:none">Date Time, Convert Julian Date to String</span><span class="OIndex" style="display:none">Date Time, Custom Date Format</span></span></h2>
<pre class="oc" style="font-family:monospace;">SYSTEMTIME st;
GetSystemTime<span style="color: #000000;">(</span><span style="color: #000040;">&amp;</span>st<span style="color: #000000;">)</span>; <span style="color: #008000;">// 現在の日時を取得</span>

<span style="color: #0000ff;">double</span> dJulianDate;
SystemTimeToJulianDate<span style="color: #000000;">(</span><span style="color: #000040;">&amp;</span>dJulianDate, <span style="color: #000040;">&amp;</span>st<span style="color: #000000;">)</span>; <span style="color: #008000;">// ユリウス日に変換
</span>

<span style="color: #008000;">// 指定した形式でユリウス日を文字列に変換</span>
string strDate <span style="color: #000080;">=</span> get_date_str<span style="color: #000000;">(</span>dJulianDate, LDF_SHORT_AND_HHMM_SEPARCOLON<span style="color: #000000;">)</span>;
out_str<span style="color: #000000;">(</span>strDate<span style="color: #000000;">)</span>;</pre>
<h2><a name="Convert_String_to_Julian_DateDate_Time.2C_Convert_String_to_Julian_Date"></a><span class="mw-headline">文字列をユリウス日に変換<span class="OIndex" style="display:none">Date Time, Convert String to Julian Date</span></span></h2>
<pre class="oc" style="font-family:monospace;">string strDate <span style="color: #000080;">=</span> <span style="color: #ff00ff;">&quot;090425 17:59:59&quot;</span>;
<span style="color: #0000ff;">double</span> dt <span style="color: #000080;">=</span> str_to_date<span style="color: #000000;">(</span>strDate, LDF_YYMMDD_AND_HHMMSS<span style="color: #000000;">)</span>;</pre>







    