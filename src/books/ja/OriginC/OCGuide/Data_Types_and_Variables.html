<h1 class="firstheading">データ型と変数</h1><p><br />
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>目次</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#ANSI_C_Data_Types"><span class="tocnumber">1</span> <span class="toctext">ANSI C データ型</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Origin_C_Composite_Data_Types"><span class="tocnumber">2</span> <span class="toctext">Origin Cの合成データ型</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Color"><span class="tocnumber">3</span> <span class="toctext">色</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#Palette_Index"><span class="tocnumber">3.1</span> <span class="toctext">パレットのインデックス</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Auto_ColorColor.2C_Auto_Color"><span class="tocnumber">3.2</span> <span class="toctext">自動カラー<span class="OIndex" style="display:none">Color, Auto Color</span></span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#RGB"><span class="tocnumber">3.3</span> <span class="toctext"><span class="OIndex">RGB</span></span></a></li>
</ul>
</li>
</ul>
</div>

<h2><a name="ANSI_C_Data_Types"></a><span class="mw-headline">ANSI C データ型</span></h2>
<p>Origin Cは、char<span class="OIndex" style="display:none">char Type</span>, short<span class="OIndex" style="display:none">short Type</span>, int<span class="OIndex" style="display:none">Integer Type</span>, float<span class="OIndex" style="display:none">float Type</span>, double<span class="OIndex" style="display:none">double Type</span>, void<span class="OIndex" style="display:none">void Return Type</span>型などのすべてのANSI Cデータ型をサポートしています。  さらに、これらのデータ型のそれぞれを配列にすることができ、ポインタで指定することもできます。
</p>
<pre class="oc" style="font-family:monospace;"><span style="color: #0000ff;">char</span> name<span style="color: #000000;">[</span><span style="color: #0000dd;">50</span><span style="color: #000000;">]</span>;       <span style="color: #008000;">// 文字列の配列を宣言</span>
<span style="color: #0000ff;">unsigned</span> <span style="color: #0000ff;">char</span> age;   <span style="color: #008000;">// 符号無し8ビット整数型を宣言</span>
<span style="color: #0000ff;">unsigned</span> <span style="color: #0000ff;">short</span> year; <span style="color: #008000;">// 符号無し16ビット整数型を宣言</span></pre>
<h2><a name="Origin_C_Composite_Data_Types"></a><span class="mw-headline">Origin Cの合成データ型</span></h2>
<p>配列を宣言するCシンタックスがサポートされていますが、Origin Cは1次元または2次元配列のデータタイプの操作を簡単にする <b>string</b>, <b>vector</b>, <b>matrix</b> クラスを提供しています。これらのデータ型は、char, byte, short, word, int, uint, complexを含みます。ベクター型は、文字列配列の型にできますが、行列はできません。行列は数値型のみにすることができます。   行列は数値型のみにすることができます。
</p>
<pre class="oc" style="font-family:monospace;">string str <span style="color: #000080;">=</span> <span style="color: #ff00ff;">&quot;hello, world<span style="color: #666666; font-weight: bold;">\n</span>&quot;</span>;        <span style="color: #008000;">// 文字列を宣言し、初期化</span>

vector<span style="color: #000080;">&lt;</span><span style="color: #0000ff;">double</span><span style="color: #000080;">&gt;</span> vA1 <span style="color: #000080;">=</span> <span style="color: #000000;">{</span><span style="color: #0000dd;">1.5</span>, <span style="color: #0000dd;">1.8</span>, <span style="color: #0000dd;">1.1</span><span style="color: #000000;">}</span>; <span style="color: #008000;">// double型の宣言と初期化</span>
vector vA2 <span style="color: #000080;">=</span> <span style="color: #000000;">{</span><span style="color: #0000dd;">2.5</span>, <span style="color: #0000dd;">2.8</span>, <span style="color: #0000dd;">2.1</span>, <span style="color: #0000dd;">2.4</span><span style="color: #000000;">}</span>;    

vector<span style="color: #000080;">&lt;</span>string<span style="color: #000080;">&gt;</span> vs<span style="color: #000000;">(</span><span style="color: #0000dd;">3</span><span style="color: #000000;">)</span>;                 <span style="color: #008000;">// 文字列配列を宣言</span>
vs<span style="color: #000000;">[</span><span style="color: #0000dd;">0</span><span style="color: #000000;">]</span> <span style="color: #000080;">=</span> <span style="color: #ff00ff;">&quot;This &quot;</span>;                      <span style="color: #008000;">// 文字列を各文字列配列の項目に割り当て</span>
vs<span style="color: #000000;">[</span><span style="color: #0000dd;">1</span><span style="color: #000000;">]</span> <span style="color: #000080;">=</span> <span style="color: #ff00ff;">&quot;is &quot;</span>;
vs<span style="color: #000000;">[</span><span style="color: #0000dd;">2</span><span style="color: #000000;">]</span> <span style="color: #000080;">=</span> <span style="color: #ff00ff;">&quot;test&quot;</span>;                                    

matrix<span style="color: #000080;">&lt;</span><span style="color: #0000ff;">int</span><span style="color: #000080;">&gt;</span> mA1;                      <span style="color: #008000;">// 整数の行列を宣言</span>
matrix mA2;                           <span style="color: #008000;">// double型の行列を宣言</span>

<span style="color: #008000;">// NOTE: NOTE: double型は、データ型が、ベクターおよび行列変数の</span>
<span style="color: #008000;">// 宣言で指定されていないときに、暗黙に使われます。</span></pre>
<p>Origin Cで提供される別の役立つクラスは、<b>complex </b>クラスです。  complexクラスは、実数と虚数の両方を含む数値データ型をサポートします。
</p>
<pre class="oc" style="font-family:monospace;">complex cc<span style="color: #000000;">(</span><span style="color: #0000dd;">4.5</span>, <span style="color: #0000dd;">7.8</span><span style="color: #000000;">)</span>;        <span style="color: #008000;">// 複素数値を宣言</span>
                             <span style="color: #008000;">// 実数コンポーネントは4.5にセットされ</span>
                             <span style="color: #008000;">// 虚数のコンポーネントは7.8にセット</span>
out_complex<span style="color: #000000;">(</span><span style="color: #ff00ff;">&quot;value = &quot;</span>, cc<span style="color: #000000;">)</span>; <span style="color: #008000;">// 出力は複素数値</span></pre>
<h2><a name="Color"></a><span class="mw-headline">色</span></h2>
<p>Origin Cの色は、DWORD値で表されます。  これらの値は、Originの内部カラーパレットへのインデックスにしたり、実際にRGB値を混合することができます。
</p>
<h3><a name="Palette_Index"></a><span class="mw-headline">パレットのインデックス</span></h3>
<p>Originの内部の<span class="OIndex">パレット</span>は24色含んでいます。  Originの内部のカラーパレットへのインデックスは0から23までの値です。  Origin Cは、これらの値に固定の名前を提供しています。  それぞれの名前は、プレフィックスSYSCOLOR_ に色の名前を続けます。  次の表は、24色の名前とインデックスを示しています。
</p>
<table class="simple">
<tr>
<th>インデックス
</th>
<th>名前
</th>
<th>インデックス
</th>
<th>名前
</th></tr>
<tr>
<td>0
</td>
<td>SYSCOLOR_BLACK
</td>
<td>12
</td>
<td>SYSCOLOR_DKCYAN
</td></tr>
<tr>
<td>1
</td>
<td>SYSCOLOR_RED
</td>
<td>13
</td>
<td>SYSCOLOR_ROYAL
</td></tr>
<tr>
<td>2
</td>
<td>SYSCOLOR_GREEN
</td>
<td>14
</td>
<td>SYSCOLOR_ORANGE
</td></tr>
<tr>
<td>3
</td>
<td>SYSCOLOR_BLUE
</td>
<td>15
</td>
<td>SYSCOLOR_VIOLET
</td></tr>
<tr>
<td>4
</td>
<td>SYSCOLOR_CYAN
</td>
<td>16
</td>
<td>SYSCOLOR_PINK
</td></tr>
<tr>
<td>5
</td>
<td>SYSCOLOR_MAGENTA
</td>
<td>17
</td>
<td>SYSCOLOR_WHITE
</td></tr>
<tr>
<td>6
</td>
<td>SYSCOLOR_YELLOW
</td>
<td>18
</td>
<td>SYSCOLOR_LTGRAY
</td></tr>
<tr>
<td>7
</td>
<td>SYSCOLOR_DKYELLOW
</td>
<td>19
</td>
<td>SYSCOLOR_GRAY
</td></tr>
<tr>
<td>8
</td>
<td>SYSCOLOR_NAVY
</td>
<td>20
</td>
<td>SYSCOLOR_LTYELLOW
</td></tr>
<tr>
<td>9
</td>
<td>SYSCOLOR_PURPLE
</td>
<td>21
</td>
<td>SYSCOLOR_LTCYAN
</td></tr>
<tr>
<td>10
</td>
<td>SYSCOLOR_WINE
</td>
<td>22
</td>
<td>SYSCOLOR_LTMAGENTA
</td></tr>
<tr>
<td>11
</td>
<td>SYSCOLOR_OLIVE
</td>
<td>23
</td>
<td>SYSCOLOR_DKGRAY
</td></tr></table>
<p><br />
</p>
<pre class="oc" style="font-family:monospace;">DWORD dwColor <span style="color: #000080;">=</span> SYSCOLOR_ORANGE;</pre>
<h3><a name="Auto_ColorColor.2C_Auto_Color"></a><span class="mw-headline">自動カラー<span class="OIndex" style="display:none">Color, Auto Color</span></span></h3>
<p><b>自動</b>として参照される特別なカラーインデックスがあります。  このインデックスが使われると、要素はその親と同じ色で色付けされます。  すべての要素が<b>自動</b>インデックスをサポートしているわけではありません。  要素に対するOriginのグラフィカルユーザインターフェースを見て、<b>自動</b>インデックスがサポートされているかどうかを決定します。
</p><p>INDEX_COLOR_AUTOMATIC マクロは、<b>自動</b>インデックス値が必要なときに使用します。
</p>
<pre class="oc" style="font-family:monospace;">DWORD dwColor <span style="color: #000080;">=</span> INDEX_COLOR_AUTOMATIC;</pre>
<h3><a name="RGB"></a><span class="mw-headline"><span class="OIndex">RGB</span></span></h3>
<p>Originの色の値は、RGB値を表すこともできます。  RGB値は、8ビットの赤、緑、青の成分で構成されます。  これらの値は、RGB マクロを使って簡単に行うことができます。
</p>
<pre class="oc" style="font-family:monospace;">DWORD brown <span style="color: #000080;">=</span> RGB<span style="color: #000000;">(</span><span style="color: #0000dd;">139</span>,<span style="color: #0000dd;">69</span>,<span style="color: #0000dd;">19</span><span style="color: #000000;">)</span>; <span style="color: #008000;">// 茶色</span></pre>
<p>RGBマクロから返される値は、Originの色の値として直接使うことができません。  RGB2OCOLORマクロを使って、RGB値をOriginの色の値に変換する必要があります。
</p>
<pre class="oc" style="font-family:monospace;">DWORD brown <span style="color: #000080;">=</span> RGB2OCOLOR<span style="color: #000000;">(</span>RGB<span style="color: #000000;">(</span><span style="color: #0000dd;">139</span>,<span style="color: #0000dd;">69</span>,<span style="color: #0000dd;">19</span><span style="color: #000000;">)</span><span style="color: #000000;">)</span>; <span style="color: #008000;">// 茶色</span></pre>
<p>Originの色値がRGB値を表しているのか、パレット内のインデックスを表しているのかを知る必要がある場合、OCOLOR_IS_RGBマクロを使うことができます。  値がRGB値を表す場合、このマクロはTrueを返し、それ以外の場合Falseを返します。
</p>
<pre class="oc" style="font-family:monospace;"><span style="color: #0000ff;">if</span><span style="color: #000000;">(</span> OCOLOR_IS_RGB<span style="color: #000000;">(</span>ocolor<span style="color: #000000;">)</span> <span style="color: #000000;">)</span>
    out_str<span style="color: #000000;">(</span><span style="color: #ff00ff;">&quot;color value represents an RGB color&quot;</span><span style="color: #000000;">)</span>;
<span style="color: #0000ff;">else</span>
    out_str<span style="color: #000000;">(</span><span style="color: #ff00ff;">&quot;color value represents a color index&quot;</span><span style="color: #000000;">)</span>;</pre>
<p>Originの色の値がRGB値を表すことが分かったら、GET_CRF_FROM_RGBOCOLOR マクロを使って、Originの色の値からRGB値を抽出することができます。
</p>
<pre class="oc" style="font-family:monospace;"><span style="color: #0000ff;">if</span><span style="color: #000000;">(</span> OCOLOR_IS_RGB<span style="color: #000000;">(</span>ocolor<span style="color: #000000;">)</span> <span style="color: #000000;">)</span>
<span style="color: #000000;">{</span>
    DWORD rgb <span style="color: #000080;">=</span> GET_CRF_FROM_RGBOCOLOR<span style="color: #000000;">(</span>ocolor<span style="color: #000000;">)</span>;
    <span style="color: #000000;">printf</span><span style="color: #000000;">(</span><span style="color: #ff00ff;">&quot;red =&nbsp;%d, green =&nbsp;%d, blue =&nbsp;%d<span style="color: #666666; font-weight: bold;">\n</span>&quot;</span>,
        GetRValue<span style="color: #000000;">(</span>rgb<span style="color: #000000;">)</span>, GetGValue<span style="color: #000000;">(</span>rgb<span style="color: #000000;">)</span>, GetBValue<span style="color: #000000;">(</span>rgb<span style="color: #000000;">)</span><span style="color: #000000;">)</span>;
<span style="color: #000000;">}</span></pre>







    