<h1 class="firstheading">Origin Cファイルの作成と編集</h1>
<p><br /></p>
<div id="toc" class="toc">
<div id="toctitle">
<h2>目次</h2>
</div>
<ol>
<li class="toclevel-1 tocsection-1"><a href="#Overview"><span class="tocnumber">1</span> <span class="toctext">概要</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#File_Types"><span class="tocnumber">2</span> <span class="toctext">ファイルの種類</span></a>
<ol>
<li class="toclevel-2 tocsection-3"><a href="#Source_.28.2A.c.2C_.2A.cpp.2C_.2A.h.2C_.2A.ocz.29"><span class="tocnumber">2.1</span> <span class="toctext">ソース (*.c, *.cpp, *.h, *.ocz)</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Object_.28.2A.ocb.29File.2C_Object_File.28.2A.OCB.29"><span class="tocnumber">2.2</span> <span class="toctext">オブジェクト (*.ocb)<span class="OIndex" style="display: none;">File, Object File(*.OCB)</span></span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Preprocessed_.28.2A.op.29File.2C_Preprocessed_File.28.2A.OP.29"><span class="tocnumber">2.3</span> <span class="toctext">プリプロセス (*.op)<span class="OIndex" style="display: none;">File, Preprocessed File(*.OP)</span></span></a>
<ol>
<li class="toclevel-3 tocsection-6"><a href="#.40OCSCompiler.2C_Generate_Pre-processed_File"><span class="tocnumber">2.3.1</span> <span class="toctext">@OCS<span class="OIndex" style="display: none;">Compiler, Generate Pre-processed File</span></span></a></li>
<li class="toclevel-3 tocsection-7"><a href="#.40OCSBCompiler.2C_Type_of_Pre-processed_File"><span class="tocnumber">2.3.2</span> <span class="toctext">@OCSB<span class="OIndex" style="display: none;">Compiler, Type of Pre-processed File</span></span></a></li>
</ol>
</li>
<li class="toclevel-2 tocsection-8"><a href="#Workspace_.28.2A.ocw.29File.2C_Workspace_File.28.2A.OCW.29"><span class="tocnumber">2.4</span> <span class="toctext">ワークスペース (*.ocw)<span class="OIndex" style="display: none;">File, Workspace File(*.OCW)</span></span></a></li>
</ol>
</li>
<li class="toclevel-1 tocsection-9"><a href="#The_Workspace_View"><span class="tocnumber">3</span> <span class="toctext">ワークスペース表示</span></a>
<ol>
<li class="toclevel-2 tocsection-10"><a href="#AppsWorkspace.2C_Packages_Folder"><span class="tocnumber">3.1</span> <span class="toctext">Apps<span class="OIndex" style="display: none;">Workspace, Packages Folder</span></span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#ProjectWorkspace.2C_Project_Folder"><span class="tocnumber">3.2</span> <span class="toctext">Project<span class="OIndex" style="display: none;">Workspace, Project Folder</span></span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#SystemWorkspace.2C_System_Folder"><span class="tocnumber">3.3</span> <span class="toctext">System<span class="OIndex" style="display: none;">Workspace, System Folder</span></span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#TemporaryWorkspace.2C_Temporary_Folder"><span class="tocnumber">3.4</span> <span class="toctext">Temporary<span class="OIndex" style="display: none;">Workspace, Temporary Folder</span></span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#User_.5BAutoLoad.5DWorkspace.2C_User_Folder"><span class="tocnumber">3.5</span> <span class="toctext">User [AutoLoad]<span class="OIndex" style="display: none;">Workspace, User Folder</span></span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#UserWorkspace.2C_User_Folder"><span class="tocnumber">3.6</span> <span class="toctext">User<span class="OIndex" style="display: none;">Workspace, User Folder</span></span></a></li>
</ol>
</li>
<li class="toclevel-1 tocsection-16"><a href="#Code_Builder_Quick_StartCode_Builder"><span class="tocnumber">4</span> <span class="toctext">コードビルダのクイックスタート<span class="OIndex" style="display: none;">Code Builder</span></span></a></li>
</ol>
</div>
<h2><a name="Overview" id="Overview"></a><span class="mw-headline">概要</span></h2>
<p>コードビルダは、Origin CとLabTalkプログラミングの統合開発環境(IDE)です。 コードビルダは、Origin Cのプログラムを記述／編集したり、コンパイル、リンク、デバッグをしたり、実行するためのツールを提供します。 Origin Cコードは、テキストエディタで書くことができますが、コードビルダのワークスペースに追加して、コンパイルリンクする必要があります。</p>
<p><a class="image"><img alt="CodeBuilder.png" src="../images/Create_and_Edit_an_Origin_C_File/CodeBuilder.png" width="586" height="509" border="0" /></a><br />
<b>コードビルダウィンドウ</b></p>
<h2><a name="File_Types" id="File_Types"></a><span class="mw-headline">ファイルの種類</span></h2>
<p>Origin Cは4種類のファイル、ソース、オブジェクト、プリプロセス、ワークスペースを利用します。</p>
<h3><a name="Source_.28.2A.c.2C_.2A.cpp.2C_.2A.h.2C_.2A.ocz.29" id="Source_.28.2A.c.2C_.2A.cpp.2C_.2A.h.2C_.2A.ocz.29"></a><span class="mw-headline">ソース (*.c, *.cpp, *.h, *.ocz)</span></h3>
<p>ソースファイルは、実際にはテキストファイルで、人間が読むことができるOrigin Cコードを含みます。 コードビルダや他のテキストエディタで作成することができ、どの場所にでも保存できます。 コードビルダのテキストエディタは、シンタックスの色付け、内容に応じたヘルプ、デバッグの機能があります。また、コードビルダでは暗号化Origin Cファイル(*.ocz)を作成でき、他の人と安全にファイルを共有できます。</p>
<p>ソースファイルはコンパイル、リンク、ロードされるまで、それらをOriginで使用することはできません。</p>
<h3><a name="Object_.28.2A.ocb.29File.2C_Object_File.28.2A.OCB.29" id="Object_.28.2A.ocb.29File.2C_Object_File.28.2A.OCB.29"></a><span class="mw-headline">オブジェクト (*.ocb)<span class="OIndex" style="display: none;">File, Object File(*.OCB)</span></span></h3>
<p>ソースファイルがコンパイルされるとき、オブジェクトファイルが生成されます。 オブジェクトファイルはソースファイルと同じファイル名を持ちますが、ファイル拡張子は、<b>*.ocb</b> となります。 オブジェクトファイルは、コンピュータが読むことができ、Originはその関数を呼び出して実行します。 Originは、最初にソースファイルをコンパイルし、そして、ソースファイルが変更されたら再コンパイルします。</p>
<p>Origin内のオブジェクトファイルは、バージョンに依存し、それらを共有することはできません。 関数やOrigin Cアプリケーションを共有する場合、代わりにプリプロセスファイルを共有します。</p>
<h3><a name="Preprocessed_.28.2A.op.29File.2C_Preprocessed_File.28.2A.OP.29" id="Preprocessed_.28.2A.op.29File.2C_Preprocessed_File.28.2A.OP.29"></a><span class="mw-headline">プリプロセス (*.op)<span class="OIndex" style="display: none;">File, Preprocessed File(*.OP)</span></span></h3>
<p>デフォルトで、Originはソースファイルをコンパイルし、オブジェクトファイルを生成します。 しかし、下記のシステム変数で、オブジェクトファイルの代わりにプリプロセスファイルを生成するように変更することができます。 プリプロセスファイルは、コンパイルが必要ですが、コードの共有に対して次のようなメリットがあります。</p>
<ul>
<li>Originのバージョンに依存しない</li>
<li>ソースコードを共有せずに関数を共有できる</li>
<li>ビルド処理がソースファイルよりも高速</li>
</ul>
<p>オブジェクト(OCB)または、プリプロセス(OP)ファイルのどちらかを生成するシステム変数は、@OCS, @OCSBです。スクリプトウィンドウまたはコードビルダのLabTalkコンソールで、これらの値を変更できます。 例えば、スクリプトウィンドウで、次のように入力します。</p>
<pre class="lt" style="font-family: monospace;">
@OCSB<span style="color: #000080;">=</span><span style="color: #0000dd;">0</span>; <span style="color: #008000;">// これ以降コンパイルでOPファイルを作成</span>
</pre>
<p><br /></p>
<h4><a name=".40OCSCompiler.2C_Generate_Pre-processed_File"></a><span class="mw-headline">@OCS<span class="OIndex" style="display: none;">Compiler, Generate Pre-processed File</span></span></h4>
<p>この変数のデフォルト値は1で、これはOCBファイルまたはOPファイルを作成します。@OCS=0の場合、コンパイラはOCBファイルまたはOPファイルを作成しません。</p>
<h4><a name=".40OCSBCompiler.2C_Type_of_Pre-processed_File"></a><span class="mw-headline">@OCSB<span class="OIndex" style="display: none;">Compiler, Type of Pre-processed File</span></span></h4>
<p>@OCSB=1がデフォルト値で、これはコンパイル時にオブジェクトを生成します。OPファイルを生成するには、OPファイルがコンパイル時に生成された後、@OCSB=0とセットします。OPファイルは、ソースファイルと同じフォルダ内に保存され、同じファイル名を持ちますが、拡張子がOPとなります。@OCS=0の場合、この変数は意味がありません。</p>
<table class="noborder">
<tr>
<td style="vertical-align: top;" width="60"><img src="../images/Create_and_Edit_an_Origin_C_File/Tip_icon.png" alt="" width="57" border="0" /></td>
<td>
<p><b>Note:</b></p>
<p>1.生成されたOPとOCBは、32bit、64bitのバージョンを持ちます。例えば、32bitバージョンのabc.cから生成されたopファイルは、abc_32.OPという名前になります。</p>
<p>2.Origin 9.0以降、生成された32bitあるいは64bitバージョンのファイルは、対応するバージョン（32bitあるいは64bit）のOriginでしか動作しません。</p>
</td>
</tr>
</table>
<h3><a name="Workspace_.28.2A.ocw.29File.2C_Workspace_File.28.2A.OCW.29" id="Workspace_.28.2A.ocw.29File.2C_Workspace_File.28.2A.OCW.29"></a><span class="mw-headline">ワークスペース (*.ocw)<span class="OIndex" style="display: none;">File, Workspace File(*.OCW)</span></span></h3>
<p>コードビルダでは、数多くのOrigin Cソースファイルを含むプロジェクトを作成または使用できます。 これらのファイルは、フォルダ内で階層で統合化されていたり、されていない場合があります。このようなファイルを、プロジェクトを切り替える度に、手動でロードするのはとても不便です。</p>
<p>このような理由で、Userフォルダに含まれる構造およびファイルはワークスペースファイルに保存することができます。 ワークスペースファイルをコードビルダにロードする際に、プロジェクトは直前に保存した状態に戻ります。割り当てられた構造が何であっても、すべてのソースファイルが利用できます。</p>
<h2><a name="The_Workspace_View" id="The_Workspace_View"></a><span class="mw-headline">ワークスペース表示</span></h2>
<p>コードビルダのワークスペース表示は次の、6つのフォルダがあります。</p>
<ol>
<li>Apps</li>
<li>Project</li>
<li>System</li>
<li>Temporary</li>
<li>User [AutoLoad]</li>
<li>ユーザ</li>
</ol>
<p><a class="image"><img alt="CB OrgPanel.png" src="../images/Create_and_Edit_an_Origin_C_File/CB_OrgPanel.png" width="197" height="420" border="0" /></a><br />
<b>ワークスペース表示</b></p>
<p>各フォルダ内のファイルは、次のように異なるイベントでコンパイルリンクします。</p>
<h3><a name="AppsWorkspace.2C_Packages_Folder" id="AppsWorkspace.2C_Packages_Folder"></a><span class="mw-headline">Apps<span class="OIndex" style="display: none;">Workspace, Packages Folder</span></span></h3>
<p>このフォルダはパッケージを管理するために使用されます。フォルダのみが含まれ、それぞれUser Filesフォルダのディスクフォルダを表します。特別なフォルダCommonは全てのパッケージで共有されるファイルを保持するために使用されます。各パッケージフォルダは、"User Files"というフォルダを持ち、これはUser Filesフォルダ内にあるファイルを持ちます。</p>
<ul>
<li>"Apps" フォルダのコンテキストメニュー</li>
</ul>
<p>Appsフォルダで右クリックすると、次の2つのメニューが表示されます。</p>
<ol>
<li><b>既存フォルダの追加...</b></li>
<li><b>新規作成</b></li>
</ol>
<p>最初のメニューは、User Filesフォルダの既存フォルダを選択するのに使用し、2つ目のメニューは、<b>Untitled</b>という名前の新しいフォルダを作成して、User Filesフォルダにも<b>Untitled</b>という新しいディスクフォルダを作成します。<b>新規作成</b>メニューを繰り返し選択すると<b>Untitled</b>フォルダが複数作成されます。</p>
<ul>
<li><b>Common</b>以外の各パッケージフォルダのコンテキストメニュー
<dl>
<dd><a class="image"><img alt="Cb package context menu.png" src="../images/Create_and_Edit_an_Origin_C_File/Cb_package_context_menu.png" width="226" height="176" border="0" /></a></dd>
</dl>
<ol>
<li>ファイルの追加
<dl>
<dd>フォルダにファイルを追加するのに使用します。各パッケージフォルダは、User Filesフォルダのディスクフォルダを表します。追加されたファイルがUser Filesフォルダからのものである場合、それがインストールされていることを示すために、ファイルは、"User Files" サブフォルダに置かれます。選択されたファイルがまだUser Filesフォルダ、あるいは、User Filesフォルダ\packageFolder\にない場合、User Filesフォルダ\packageFolder\ フォルダにコピーされます。</dd>
</dl>
</li>
<li>フルパスを表示
<dl>
<dd>ファイルのフルパスを表示/非表示にします。</dd>
</dl>
</li>
<li>名前の変更
<dl>
<dd>パッケージフォルダの名前を変更します。</dd>
</dl>
</li>
<li>削除
<dl>
<dd>パッケージフォルダを削除します。ディスクフォルダがある場合、ディスクフォルダとファイルをともに削除するか聞かれます。</dd>
</dl>
</li>
<li>複製
<dl>
<dd>パッケージフォルダとそのファイルを複製します。</dd>
</dl>
</li>
<li>生成
<dl>
<dd>パッケージマネージャを起動し、パッケージフォルダからファイルを追加します。同じ名前のOPXファイルがUser Filesフォルダ、User Filesフォルダにある場合、パッケージフォルダから全ファイルが追加する前に、OPJがロードされ、すべてのファイルが削除されます。</dd>
</dl>
</li>
<li>Commonで生成
<dl>
<dd>生成と同じですが、Commonフォルダ内のファイルも追加されます。</dd>
</dl>
</li>
</ol>
</li>
</ul>
<p>Note: <b>Common</b> はパッケージではないので、コンテキストメニューは最初の2つの項目だけです。各パッケージ内にある<b>User Files</b> フォルダも同様です。</p>
<h3><a name="ProjectWorkspace.2C_Project_Folder" id="ProjectWorkspace.2C_Project_Folder"></a><span class="mw-headline">Project<span class="OIndex" style="display: none;">Workspace, Project Folder</span></span></h3>
<p>Projectフォルダ内のファイルは、現在のOriginプロジェクトファイル(*.OPJ)に保存されます。それらを含むOriginプロジェクトファイルを開く際に、それらはコードビルダワークスペースのプロジェクトフォルダに追加されます。 それらは自動的にコンパイルリンクされ、プロジェクトファイルを開きます。</p>
<h3><a name="SystemWorkspace.2C_System_Folder" id="SystemWorkspace.2C_System_Folder"></a><span class="mw-headline">System<span class="OIndex" style="display: none;">Workspace, System Folder</span></span></h3>
<p>Systemフォルダ内のファイルは、Windowsフォルダ内に外部的に保存されます(通常Origin Cフォルダまたはそのサブフォルダの1つ)。それらは、自動的にコードビルダワークスペースのSystemフォルダに追加され、Originが起動したときにコンパイル、リンクされます。</p>
<h3><a name="TemporaryWorkspace.2C_Temporary_Folder" id="TemporaryWorkspace.2C_Temporary_Folder"></a><span class="mw-headline">Temporary<span class="OIndex" style="display: none;">Workspace, Temporary Folder</span></span></h3>
<p>Project, System, Userフォルダ内にリストされていないすべてのファイルは、Originを使用しているときにロードされ、コンパイルされ、Temporaryフォルダに現れます。 例えば、グラフをエクスポートする場合、グラフエクスポートを取り扱うために使われるすべてのファイルは、Temporaryフォルダに現れます。</p>
<h3><a name="User_.5BAutoLoad.5DWorkspace.2C_User_Folder" id="User_.5BAutoLoad.5DWorkspace.2C_User_Folder"></a><span class="mw-headline">User [AutoLoad]<span class="OIndex" style="display: none;">Workspace, User Folder</span></span></h3>
<p>このフォルダは、次で説明する<b>User Folder</b> に似ています。相違点としては、手動でのコンパイルリンクが必要ないことです。このフォルダ内のファイルは、Origin起動時に自動的にコンパイルリンクされ、このフォルダ下のファイルで定義された関数が利用可能になります。</p>
<h3><a name="UserWorkspace.2C_User_Folder" id="UserWorkspace.2C_User_Folder"></a><span class="mw-headline">User<span class="OIndex" style="display: none;">Workspace, User Folder</span></span></h3>
<p>User フォルダ内のファイルはWindowsフォルダ内に外部保存され、コードビルダワークスペースのUserフォルダに手動で追加されます。コンパイルとリンクは、ユーザがコードビルダで行います。</p>
<p><br /></p>
<table class="noborder">
<tr>
<td style="vertical-align: top;" width="60"><img src="../images/Create_and_Edit_an_Origin_C_File/Tip_icon.png" alt="" width="57" border="0" /></td>
<td>
<p><b>Note:</b></p>
<p><b>Apps</b>と<b>User [AutoLoad]</b> フォルダの内容は、<b>Project</b>フォルダの内容が各プロジェクトファイル（OPJ）で固有な間は、Originのセッションをまたいで保持されます。</p>
</td>
</tr>
</table>
<h2><a name="Code_Builder_Quick_StartCode_Builder" id="Code_Builder_Quick_StartCode_Builder"></a><span class="mw-headline">コードビルダのクイックスタート<span class="OIndex" style="display: none;">Code Builder</span></span></h2>
<p>コードビルダの操作について簡単に説明します。</p>
<ol>
<li>キーボードでAlt+4を押すか、コードビルダボタン<a class="image"><img alt="Button Code Builder.png" src="../images/Create_and_Edit_an_Origin_C_File/Button_Code_Builder.png" width="23" border="0" /></a>をクリックして、コードビルダを開きます。</li>
<li>Ctrl-N、または新規ツールバーボタンをクリックして、新しいソースコードファイルを作成します。 新規ファイルダイアログが開いたら、ソースコードファイルの名前を入力し、Enterキーを押し、OKボタンをクリックします。</li>
<li>エディタウィンドウが開きます。 エディタウィンドウの最後の行に行き、Enterキーを押して、新しい空の行を開始します。 そして、次の関数を入力します。
<pre class="oc" style="font-family: monospace;">
<span style="color: #0000ff;">void</span> HelloWorld<span style="color: #000000;">(</span><span style="color: #000000;">)</span><span style="color: #000000;">
{</span>
        <span style="color: #000000;">printf</span><span style="color: #000000;">(</span><span style="color: #ff00ff;">"Hello World, from Origin C<span style="color: #666666; font-weight: bold;">\n</span>"</span><span style="color: #000000;">)</span>;<span style="color: #000000;">
}</span>
</pre></li>
<li>この関数を呼び出す前に、コードをコンパイルリンクする必要があります。 Shift+F8キーを押すか、ツールバーのビルドボタン <a class="image"><img alt="Button Build.png" src="../images/Create_and_Edit_an_Origin_C_File/Button_Build.png" width="22" border="0" /></a> をクリックします。</li>
<li>出力ウィンドウにコンパイルリンクの処理が表示されます。 エラーが表示されたら、関数をチェックし、エラーを訂正します。 エラーがなければ、関数を呼び出す準備ができています。</li>
<li>コマンド-結果ウィンドウの上部をクリックします。 関数名を入力し、Enterキーを押します。 コマンド-結果ウィンドウの下部で、関数名、入力した行が表示され、それに続いて関数の出力行が表示されます。</li>
</ol>
<p>これらのステップは、コードビルダで行うことができますが、Origin Cファイルを効率よく記述したり、デバッグや実行の助けとなる詳細設定があります。 これらについては、後に続くセクションで説明しています。</p>
