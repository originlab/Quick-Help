<h1 class="firstheading">デバッグする</h1>
<p><br /></p>
<div id="toc" class="toc">
<div id="toctitle">
<h2>目次</h2>
</div>
<ol>
<li class="toclevel-1 tocsection-1"><a href="#Debugging_in_Code_BuilderDebugging"><span class="tocnumber">1</span> <span class="toctext">コードビルダでデバッグする<span class="OIndex" style="display: none;">Debugging</span></span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Macros_for_Debugging"><span class="tocnumber">2</span> <span class="toctext">デバッグのマクロ</span></a>
<ol>
<li class="toclevel-2 tocsection-3"><a href="#Create_an_Output_Macro"><span class="tocnumber">2.1</span> <span class="toctext">出力マクロを作成する</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Comment_the_Debug_Macro_Body"><span class="tocnumber">2.2</span> <span class="toctext">デバッグマクロの本体をコメントアウトする</span></a></li>
</ol>
</li>
</ol>
</div>
<h2><a name="Debugging_in_Code_BuilderDebugging" id="Debugging_in_Code_BuilderDebugging"></a><span class="mw-headline">コードビルダでデバッグする<span class="OIndex" style="display: none;">Debugging</span></span></h2>
<p><a href="../../OriginC/OCGuide/Create_and_Edit_an_Origin_C_File.html#Overview" title="OCGuide:Origin Cファイルの作成と編集">コードビルダ</a> には、Origin CやLabTalkのコードをデバッグする機能があります。 ブレークポイントをセットしたり、解除でき、関数にステップイン、ステップアウトしてコードを1度に1行ずつ実行したり、変数内の値を監視することができます。 デバッグはデフォルトで有効になっています。 <b>デバッグ</b>メニューの<b>ブレークポイント</b>を有効にするを使ってデバッグをオンまたはオフにすることができます。 メニュー項目の隣にチェックボックスがある場合、デバッグ機能はオンです。</p>
<table class="noborder">
<tr>
<td style="vertical-align: top;" width="60"><img src="../images/Debugging/Tip_icon.png" alt="" width="57" height="57" border="0" /></td>
<td>
<p>Origin Cコードをデバッグするとき、変数名上にマウスカーソルを合わせると変数の現在の値をツールチップで確認できます。</p>
<p>変数が複雑な構造を持つ場合、ツールチップはツリー状の構造を表示できます。ツリー表示を無効にするには、次のOIDEOptions.iniを追加します。</p>
<pre class="oc" style="font-family: monospace;">
<span style="color: #000000;">[</span>Environment<span style="color: #000000;">]</span>
bTreeLikeDataTip<span style="color: #000080;">=</span><span style="color: #0000dd;">0</span>
                
</pre></td>
</tr>
</table>
<h2><a name="Macros_for_Debugging" id="Macros_for_Debugging"></a><span class="mw-headline">デバッグのマクロ</span></h2>
<p>Origin Cは、多くの用途を持つ複数パラメータを定義することができます。多くのプログラマは、プログラムの流れを指示するコードを開発し、変数の値を表示するコードを開発する際に、出力ステートメントを使います。</p>
<h4><a name="Create_an_Output_Macro" id="Create_an_Output_Macro"></a><span class="mw-headline">出力マクロを作成する</span></h4>
<p>便利なデバッグのテクニックは、出力マクロを定義し、そのマクロを下図のように配置することです。</p>
<pre class="oc" style="font-family: monospace;">
<span style="color: #0000ff;">#define</span>    DBG_OUT<span style="color: #000000;">(</span>_text, _value<span style="color: #000000;">)</span>     out_int<span style="color: #000000;">(</span>_text, _value<span style="color: #000000;">)</span>;
 <span style="color: #0000ff;">
void</span> DebugStatements<span style="color: #000000;">(</span><span style="color: #000000;">)</span><span style="color: #000000;">
{</span>
     <span style="color: #0000ff;">int</span> ii;
     DBG_OUT<span style="color: #000000;">(</span><span style="color: #ff00ff;">"ii at t0 = "</span>, ii<span style="color: #000000;">)</span>
     ii<span style="color: #000040;">++</span>;
     DBG_OUT<span style="color: #000000;">(</span><span style="color: #ff00ff;">"ii at t1 = "</span>, ii<span style="color: #000000;">)</span>
     ii<span style="color: #000040;">++</span>;
     DBG_OUT<span style="color: #000000;">(</span><span style="color: #ff00ff;">"ii at t2 = "</span>, ii<span style="color: #000000;">)</span>
     ii<span style="color: #000040;">++</span>;
     DBG_OUT<span style="color: #000000;">(</span><span style="color: #ff00ff;">"ii at t3 = "</span>, ii<span style="color: #000000;">)</span>
     <span style="color: #000000;">printf</span><span style="color: #000000;">(</span><span style="color: #ff00ff;">"Finished running DebugMacros."</span><span style="color: #000000;">)</span>;<span style="color: #000000;">
}</span>
</pre>
<h4><a name="Comment_the_Debug_Macro_Body" id="Comment_the_Debug_Macro_Body"></a><span class="mw-headline">デバッグマクロの本体をコメントアウトする</span></h4>
<p>開発期間中に、マクロの本体を上記で定義したようにしたままにすると、デバッグメッセージがメッセージボックスに表示されます。 しかし、開発が完了したら(または安定的な動作になったら)、マクロを下記のように再定義し、デバッグステートメントを非表示にすることができます。</p>
<pre class="oc" style="font-family: monospace;">
<span style="color: #0000ff;">#define</span>    DBG_OUT<span style="color: #000000;">(</span>_text, _value<span style="color: #000000;">)</span>   <span style="color: #008000;">//  out_int(_text, _value);</span>
</pre>
<p><b>DBG_OUT</b> マクロの本体をコメントアウトし、リビルドすると、その使用の可能なインスタンスを除去せずに、将来再利用するためにそれらを保存して、デバッグステートメントを非表示にすることができます。 コードは再び修正したり、デバッグする必要はなく、マクロの本体を単に非コメントにするだけです。</p>
