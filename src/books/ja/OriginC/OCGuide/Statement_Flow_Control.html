<h1 class="firstheading">フロー制御ステートメント</h1><p>Origin Cは、 if, if-else, switch, for, while, do-while, goto, break, continue を含むANSI Cのすべてのフロー制御をサポートしています。さらに、Origin CはC#のforeachサポートし、オブジェクトのコレクションをループすることができます。 
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>目次</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#if_Statementif-else_StatementThe_if_Statement"><span class="tocnumber">1</span> <span class="toctext"><span class="OIndex" style="display:none">if Statement</span><span class="OIndex" style="display:none">if-else Statement</span>if ステートメント</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#switch_StatementThe_switch_Statement"><span class="tocnumber">2</span> <span class="toctext"><span class="OIndex" style="display:none">switch Statement</span>switchステートメント</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#for_Statementloop_StatementThe_for_Statement"><span class="tocnumber">3</span> <span class="toctext"><span class="OIndex" style="display:none">for Statement</span><span class="OIndex" style="display:none">loop Statement</span>for ステートメント</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#while.2Fdo-while_StatementThe_while_Statement"><span class="tocnumber">4</span> <span class="toctext"><span class="OIndex" style="display:none">while/do-while Statement</span>while ステートメント</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Jump_Statements"><span class="tocnumber">5</span> <span class="toctext">ジャンプステートメント</span></a>
<ul>
<li class="toclevel-2 tocsection-6"><a href="#break_Statementbreak"><span class="tocnumber">5.1</span> <span class="toctext"><span class="OIndex" style="display:none">break Statement</span>break</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#continue_Statementcontinue"><span class="tocnumber">5.2</span> <span class="toctext"><span class="OIndex" style="display:none">continue Statement</span>continue</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#goto_Statementgoto"><span class="tocnumber">5.3</span> <span class="toctext"><span class="OIndex" style="display:none">goto Statement</span>goto</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-9"><a href="#foreach_StatementThe_foreach_Statement"><span class="tocnumber">6</span> <span class="toctext"><span class="OIndex" style="display:none">foreach Statement</span>foreach ステートメント</span></a></li>
</ul>
</div>

<h2><a name="if_Statementif-else_StatementThe_if_Statement"></a><span class="mw-headline"><span class="OIndex" style="display:none">if Statement</span><span class="OIndex" style="display:none">if-else Statement</span>if ステートメント</span></h2>
<p><b>if</b> ステートメントは、条件分岐に使われ、条件がTrueの場合にステートメントブロックを実行します。  <b>if-else</b> ステートメントは、<b>if</b> ステートメントに似ていますが、<b>if-else</b> ステートメントは、条件の結果がFalseの場合に代替えのステートメントブロックを実行します。 
</p><p>以下は、異なる入力タイプを使った、Origin Cの<b>if</b> ステートメントのサンプルです。 
</p>
<pre class="oc" style="font-family:monospace;"><span style="color: #0000ff;">bool</span> bb <span style="color: #000080;">=</span> <span style="color: #0000ff;">true</span>;    <span style="color: #008000;">// ブール型	</span>
<span style="color: #0000ff;">if</span><span style="color: #000000;">(</span> bb <span style="color: #000000;">)</span> 
<span style="color: #000000;">{</span>
	out_str<span style="color: #000000;">(</span><span style="color: #ff00ff;">&quot;bb is true&quot;</span><span style="color: #000000;">)</span>;
<span style="color: #000000;">}</span>

<span style="color: #0000ff;">int</span> nn <span style="color: #000080;">=</span> <span style="color: #0000dd;">5</span>;
<span style="color: #0000ff;">if</span><span style="color: #000000;">(</span> nn <span style="color: #000000;">)</span>           <span style="color: #008000;">// 整数型, 0 = false, 非ゼロ = true</span>
<span style="color: #000000;">{</span>
	out_str<span style="color: #000000;">(</span><span style="color: #ff00ff;">&quot;nn not 0&quot;</span><span style="color: #000000;">)</span>;
<span style="color: #000000;">}</span>

<span style="color: #0000ff;">double</span><span style="color: #000040;">*</span> pData <span style="color: #000080;">=</span> <span style="color: #0000ff;">NULL</span>;
<span style="color: #0000ff;">if</span><span style="color: #000000;">(</span> <span style="color: #0000ff;">NULL</span> <span style="color: #000080;">==</span> pData <span style="color: #000000;">)</span> <span style="color: #008000;">// ポインタが NULLの場合チェック</span>
<span style="color: #000000;">{</span>
	out_str<span style="color: #000000;">(</span><span style="color: #ff00ff;">&quot;Pointer pData is NULL&quot;</span><span style="color: #000000;">)</span>;
<span style="color: #000000;">}</span></pre>
<p>次は、Origin Cのシンプルな<b> if-else</b> ブロックです。ifブロックとelseブロックが中括弧{}で囲まれています。
</p>
<pre class="oc" style="font-family:monospace;"><span style="color: #0000ff;">if</span><span style="color: #000000;">(</span> bRet <span style="color: #000000;">)</span>
<span style="color: #000000;">{</span>
	out_str<span style="color: #000000;">(</span><span style="color: #ff00ff;">&quot;Valid input&quot;</span><span style="color: #000000;">)</span>;      <span style="color: #008000;">// bRetがtrueのとき</span>
<span style="color: #000000;">}</span>
<span style="color: #0000ff;">else</span>
<span style="color: #000000;">{</span>
	out_str<span style="color: #000000;">(</span><span style="color: #ff00ff;">&quot;INVALID input&quot;</span><span style="color: #000000;">)</span>;    <span style="color: #008000;">// bRet がfalseのとき</span>
<span style="color: #000000;">}</span></pre>
<p>ifステートメントが1つのステートメントしか持たない場合、中括弧は任意です。  これは、上記のコードが中括弧無しで書けるということを意味します。 
</p>
<pre class="oc" style="font-family:monospace;"><span style="color: #0000ff;">if</span><span style="color: #000000;">(</span> bRet <span style="color: #000000;">)</span>
	out_str<span style="color: #000000;">(</span><span style="color: #ff00ff;">&quot;Valid input&quot;</span><span style="color: #000000;">)</span>;      <span style="color: #008000;">// bRetがtrueのとき</span>
<span style="color: #0000ff;">else</span>
	out_str<span style="color: #000000;">(</span><span style="color: #ff00ff;">&quot;INVALID input&quot;</span><span style="color: #000000;">)</span>;    <span style="color: #008000;">// bRetがfalseのとき</span></pre>
<h2><a name="switch_StatementThe_switch_Statement"></a><span class="mw-headline"><span class="OIndex" style="display:none">switch Statement</span>switchステートメント</span></h2>
<p><b>switch</b> ステートメントは、相互に排他的な選択肢によって、異なるステートメントブロックを実行する必要があるときに使われます。 
</p><p>ケースは、昇順の整数で、<i>switch </i>ステートメントに整数の引数で与えられる数値で開始します。  <i>break</i> コマンドは、どのケースでもswitchブロックを抜けます。  
</p>
<pre class="oc" style="font-family:monospace;"><span style="color: #0000ff;">switch</span><span style="color: #000000;">(</span> nType <span style="color: #000000;">)</span> <span style="color: #008000;">// 条件として整数型の値</span>
<span style="color: #000000;">{</span>   
<span style="color: #0000ff;">case</span> <span style="color: #0000dd;">1</span><span style="color: #000000;">:</span>
<span style="color: #0000ff;">case</span> <span style="color: #0000dd;">2</span><span style="color: #000000;">:</span>
    out_str<span style="color: #000000;">(</span><span style="color: #ff00ff;">&quot;Case 1 or 2&quot;</span><span style="color: #000000;">)</span>;
    <span style="color: #0000ff;">break</span>;
    
<span style="color: #0000ff;">case</span> <span style="color: #0000dd;">3</span><span style="color: #000000;">:</span>
    out_str<span style="color: #000000;">(</span><span style="color: #ff00ff;">&quot;Case 3&quot;</span><span style="color: #000000;">)</span>;
    <span style="color: #008000;">// breakキーワードがないとcase 4を実行</span>
    
<span style="color: #0000ff;">case</span> <span style="color: #0000dd;">4</span><span style="color: #000000;">:</span>
	out_str<span style="color: #000000;">(</span><span style="color: #ff00ff;">&quot;Case 4&quot;</span><span style="color: #000000;">)</span>;
	<span style="color: #0000ff;">break</span>;
    
<span style="color: #0000ff;">default</span><span style="color: #000000;">:</span>
    out_str<span style="color: #000000;">(</span><span style="color: #ff00ff;">&quot;Other cases&quot;</span><span style="color: #000000;">)</span>;
    <span style="color: #0000ff;">break</span>;
<span style="color: #000000;">}</span></pre>
<h2><a name="for_Statementloop_StatementThe_for_Statement"></a><span class="mw-headline"><span class="OIndex" style="display:none">for Statement</span><span class="OIndex" style="display:none">loop Statement</span>for ステートメント</span></h2>
<p><b>for</b> ステートメントは、指定した回数または各要素がインデックスで参照しているデータの配列によって、1つ以上のステートメントを実行するのに使われます。
</p>
<pre class="oc" style="font-family:monospace;"><span style="color: #0000ff;">char</span> str<span style="color: #000000;">[</span><span style="color: #000000;">]</span> <span style="color: #000080;">=</span> <span style="color: #ff00ff;">&quot;This is a string&quot;</span>;
<span style="color: #0000ff;">for</span><span style="color: #000000;">(</span> <span style="color: #0000ff;">int</span> index <span style="color: #000080;">=</span> <span style="color: #0000dd;">0</span>; index <span style="color: #000080;">&lt;</span> <span style="color: #000000;">strlen</span><span style="color: #000000;">(</span>str<span style="color: #000000;">)</span>; index<span style="color: #000040;">++</span> <span style="color: #000000;">)</span>
<span style="color: #000000;">{</span>
	<span style="color: #000000;">printf</span><span style="color: #000000;">(</span><span style="color: #ff00ff;">&quot;char at&nbsp;%2d is&nbsp;%c<span style="color: #666666; font-weight: bold;">\n</span>&quot;</span>, index, str<span style="color: #000000;">[</span>index<span style="color: #000000;">]</span><span style="color: #000000;">)</span>;
<span style="color: #000000;">}</span></pre>
<h2><a name="while.2Fdo-while_StatementThe_while_Statement"></a><span class="mw-headline"><span class="OIndex" style="display:none">while/do-while Statement</span>while ステートメント</span></h2>
<p><b>While</b> と <b>do-while</b>ステートメントは、条件が合致するまでステートメントブロックを実行します。  <b>while</b> ステートメントは、ループの最初に条件を検査し、<b>do-while</b> ステートメントは、ループの最後に条件を検査します。 
</p>
<pre class="oc" style="font-family:monospace;"><span style="color: #0000ff;">int</span> count <span style="color: #000080;">=</span> <span style="color: #0000dd;">0</span>;
<span style="color: #0000ff;">while</span><span style="color: #000000;">(</span> count <span style="color: #000080;">&lt;</span> <span style="color: #0000dd;">10</span> <span style="color: #000000;">)</span> <span style="color: #008000;">// 条件がTrueの場合にステートメントを実行</span>
<span style="color: #000000;">{</span>
    out_int<span style="color: #000000;">(</span><span style="color: #ff00ff;">&quot;count = &quot;</span>, count<span style="color: #000000;">)</span>;
    count<span style="color: #000040;">++</span>;
<span style="color: #000000;">}</span></pre>
<pre class="oc" style="font-family:monospace;"><span style="color: #0000ff;">int</span> count <span style="color: #000080;">=</span> <span style="color: #0000dd;">0</span>;
<span style="color: #0000ff;">do</span>
<span style="color: #000000;">{</span>
	out_int<span style="color: #000000;">(</span><span style="color: #ff00ff;">&quot;count = &quot;</span>, count<span style="color: #000000;">)</span>;
	count<span style="color: #000040;">++</span>;
<span style="color: #000000;">}</span> <span style="color: #0000ff;">while</span><span style="color: #000000;">(</span> count <span style="color: #000080;">&lt;</span> <span style="color: #0000dd;">10</span> <span style="color: #000000;">)</span>; <span style="color: #008000;">// 条件がTrueの場合にステートメントを実行</span></pre>
<h2><a name="Jump_Statements"></a><span class="mw-headline">ジャンプステートメント</span></h2>
<p>ジャンプステートメントは、関数の範囲内で、無条件に別のステートメントに<i>ジャンプ</i> するのに使います。  <b>break</b>, <b>continue</b>, <b>goto</b> ステートメントがジャンプステートメントです。  次のサンプルはこれらのジャンプステートメントを示します。 
</p>
<h3><a name="break_Statementbreak"></a><span class="mw-headline"><span class="OIndex" style="display:none">break Statement</span>break</span></h3>
<pre class="oc" style="font-family:monospace;"><span style="color: #0000ff;">for</span><span style="color: #000000;">(</span> <span style="color: #0000ff;">int</span> index <span style="color: #000080;">=</span> <span style="color: #0000dd;">0</span>; index <span style="color: #000080;">&lt;</span> <span style="color: #0000dd;">10</span>; index<span style="color: #000040;">++</span> <span style="color: #000000;">)</span>
<span style="color: #000000;">{</span>
	<span style="color: #0000ff;">if</span><span style="color: #000000;">(</span> <span style="color: #000000;">pow</span><span style="color: #000000;">(</span>index, <span style="color: #0000dd;">2</span><span style="color: #000000;">)</span> <span style="color: #000080;">&gt;</span> <span style="color: #0000dd;">10</span> <span style="color: #000000;">)</span>
		<span style="color: #0000ff;">break</span>; <span style="color: #008000;">// ループの終了</span>
	
	out_int<span style="color: #000000;">(</span><span style="color: #ff00ff;">&quot;index = &quot;</span>, index<span style="color: #000000;">)</span>;
<span style="color: #000000;">}</span></pre>
<h3><a name="continue_Statementcontinue"></a><span class="mw-headline"><span class="OIndex" style="display:none">continue Statement</span>continue</span></h3>
<pre class="oc" style="font-family:monospace;"><span style="color: #000000;">printf</span><span style="color: #000000;">(</span><span style="color: #ff00ff;">&quot;The odd numbers from 1 to 10 are:&quot;</span><span style="color: #000000;">)</span>;
<span style="color: #0000ff;">for</span><span style="color: #000000;">(</span> <span style="color: #0000ff;">int</span> index <span style="color: #000080;">=</span> <span style="color: #0000dd;">1</span>; index <span style="color: #000080;">&lt;=</span> <span style="color: #0000dd;">10</span>; index<span style="color: #000040;">++</span> <span style="color: #000000;">)</span>
<span style="color: #000000;">{</span>
	<span style="color: #0000ff;">if</span><span style="color: #000000;">(</span> mod<span style="color: #000000;">(</span>index, <span style="color: #0000dd;">2</span><span style="color: #000000;">)</span> <span style="color: #000080;">==</span> <span style="color: #0000dd;">0</span> <span style="color: #000000;">)</span>
		<span style="color: #0000ff;">continue</span>; <span style="color: #008000;">// 次のインデックス</span>
	
	<span style="color: #000000;">printf</span><span style="color: #000000;">(</span><span style="color: #ff00ff;">&quot;%d<span style="color: #666666; font-weight: bold;">\n</span>&quot;</span>, index<span style="color: #000000;">)</span>;
<span style="color: #000000;">}</span></pre>
<h3><a name="goto_Statementgoto"></a><span class="mw-headline"><span class="OIndex" style="display:none">goto Statement</span>goto</span></h3>
<pre class="oc" style="font-family:monospace;">    out_str<span style="color: #000000;">(</span><span style="color: #ff00ff;">&quot;Begin&quot;</span><span style="color: #000000;">)</span>;
    <span style="color: #0000ff;">goto</span> Mark1;
		
    out_str<span style="color: #000000;">(</span><span style="color: #ff00ff;">&quot;Skipped statement&quot;</span><span style="color: #000000;">)</span>;
	
Mark1<span style="color: #000000;">:</span>
    out_str<span style="color: #000000;">(</span><span style="color: #ff00ff;">&quot;First statement after Mark1&quot;</span><span style="color: #000000;">)</span>;</pre>
<h2><a name="foreach_StatementThe_foreach_Statement"></a><span class="mw-headline"><span class="OIndex" style="display:none">foreach Statement</span>foreach ステートメント</span></h2>
<p><b>foreach </b>ステートメントは、オブジェクトのコレクションをループするのに使われます。  次のコードは、プロジェクト内のすべてのページをループし、その名前とタイプを出力します。
</p>
<pre class="oc" style="font-family:monospace;">foreach<span style="color: #000000;">(</span>PageBase pg in Project.<span style="color: #000000;">Pages</span><span style="color: #000000;">)</span>
<span style="color: #000000;">{</span>
    <span style="color: #000000;">printf</span><span style="color: #000000;">(</span><span style="color: #ff00ff;">&quot;%s is of type&nbsp;%d<span style="color: #666666; font-weight: bold;">\n</span>&quot;</span>, pg.<span style="color: #000000;">GetName</span><span style="color: #000000;">(</span><span style="color: #000000;">)</span>, pg.<span style="color: #000000;">GetType</span><span style="color: #000000;">(</span><span style="color: #000000;">)</span><span style="color: #000000;">)</span>;
<span style="color: #000000;">}</span></pre>
<p>Origin Cのクラスに基づくすべてのCollectionのリストについては、<a href="../../OriginC/OCGuide/Collections.html" title="OCGuide:コレクション">コレクション</a>のセクションを参照してください。 
</p>






    