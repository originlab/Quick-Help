<h1 class="firstheading">行列オブジェクトデータ操作</h1><div id="toc" class="toc"><div id="toctitle"><h2>目次</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Set_Values_by_FormulaMatrix_Object.2C_Set_Value_By_Formula"><span class="tocnumber">1</span> <span class="toctext">式で値を設定<span class="OIndex" style="display:none">Matrix Object, Set Value By Formula</span></span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Copy_Matrix_DataCopy_Matrix"><span class="tocnumber">2</span> <span class="toctext">行列データのコピー<span class="OIndex" style="display:none">Copy Matrix</span></span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Math_on_Matrix_Data"><span class="tocnumber">3</span> <span class="toctext">行列データの演算操作</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#Multiply_Matrix_by_ConstantMatrix.2C_Multiply_with_Constant"><span class="tocnumber">3.1</span> <span class="toctext">定数による行列の掛け算<span class="OIndex" style="display:none">Matrix, Multiply with Constant</span></span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Dot_Multiply_Two_MatrixMatrix.2C_Dot_Multiply"><span class="tocnumber">3.2</span> <span class="toctext">2つの行列の掛け算<span class="OIndex" style="display:none">Matrix, Dot Multiply</span></span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-6"><a href="#Conversion_between_Matrix_Object_and_Vector"><span class="tocnumber">4</span> <span class="toctext">行列オブジェクトとベクターを変換する</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#Manipulate_Matrix_Object_with_Complex_Values"><span class="tocnumber">5</span> <span class="toctext">複素数値を持つ行列を操作する</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#Transform_Matrix_Object_Data"><span class="tocnumber">6</span> <span class="toctext">行列オブジェクトデータを変換する</span></a></li>
</ul>
</div>

<h2><a name="Set_Values_by_FormulaMatrix_Object.2C_Set_Value_By_Formula"></a><span class="mw-headline">式で値を設定<span class="OIndex" style="display:none">Matrix Object, Set Value By Formula</span></span></h2>
<p><b><a href="../../OriginC/OriginC/DataObject-SetFormula.html" title="OriginC:DataObject-SetFormula">DataObject::SetFormula</a></b> と <b><a href="../../OriginC/OriginC/DataObject-ExecuteFormula.html" title="OriginC:DataObject-ExecuteFormula">DataObject::ExecuteFormula</a></b>メソッドは、列/行列の値をセットするのに使用され、これは、値の設定ダイアログによる操作と同様です。以下のサンプルでは、式を使用して行列オブジェクトに値を設定する方法を示します。
</p>
<pre class="oc" style="font-family:monospace;"><span style="color: #008000;">// 新しい行列ウィンドウ</span>
MatrixPage matPage;
matPage.<span style="color: #000000;">Create</span><span style="color: #000000;">(</span><span style="color: #ff00ff;">&quot;Origin&quot;</span><span style="color: #000000;">)</span>;
MatrixLayer ml <span style="color: #000080;">=</span> matPage.<span style="color: #000000;">Layers</span><span style="color: #000000;">(</span><span style="color: #000000;">)</span>; <span style="color: #008000;">// アクティブ行列シートを取得</span>

<span style="color: #008000;">// 式を設定して実行</span>
MatrixObject mo <span style="color: #000080;">=</span> ml.<span style="color: #000000;">MatrixObjects</span><span style="color: #000000;">(</span><span style="color: #0000dd;">0</span><span style="color: #000000;">)</span>; <span style="color: #008000;">// 最初の matrixobjectを取得</span>
mo.<span style="color: #000000;">SetFormula</span><span style="color: #000000;">(</span><span style="color: #ff00ff;">&quot;sin(i) + cos(j)&quot;</span><span style="color: #000000;">)</span>;
mo.<span style="color: #000000;">ExecuteFormula</span><span style="color: #000000;">(</span><span style="color: #000000;">)</span>;</pre>
<h2><a name="Copy_Matrix_DataCopy_Matrix"></a><span class="mw-headline">行列データのコピー<span class="OIndex" style="display:none">Copy Matrix</span></span></h2>
<p><a href="../../OriginC/OriginC/Matobj_copy_(global_function).html" title="OriginC:Matobj copy (global function)">matobj_copy</a>関数は、行列データを コピーする時に使用します。
</p>
<pre class="oc" style="font-family:monospace;">MatrixLayer mlSrc <span style="color: #000080;">=</span> Project.<span style="color: #000000;">ActiveLayer</span><span style="color: #000000;">(</span><span style="color: #000000;">)</span>;  <span style="color: #008000;">// アクティブ行列シートを取得</span>
MatrixObject moSrc <span style="color: #000080;">=</span> mlSrc.<span style="color: #000000;">MatrixObjects</span><span style="color: #000000;">(</span><span style="color: #0000dd;">0</span><span style="color: #000000;">)</span>;  <span style="color: #008000;">// シート内の第1行列オブジェクトを取得</span>
MatrixLayer mlDst;
mlDst.<span style="color: #000000;">Create</span><span style="color: #000000;">(</span><span style="color: #ff00ff;">&quot;Origin&quot;</span><span style="color: #000000;">)</span>;  <span style="color: #008000;">// 新しい行列シートを取得</span>
MatrixObject moDst <span style="color: #000080;">=</span> mlDst.<span style="color: #000000;">MatrixObjects</span><span style="color: #000000;">(</span><span style="color: #0000dd;">0</span><span style="color: #000000;">)</span>;  <span style="color: #008000;">// 第1行列オブジェクトを取得</span>
<span style="color: #0000ff;">bool</span> bRet <span style="color: #000080;">=</span> matobj_copy<span style="color: #000000;">(</span>moDst, moSrc<span style="color: #000000;">)</span>;  <span style="color: #008000;">// アクティブデータを新しく作成した行列にコピー</span></pre>
<h2><a name="Math_on_Matrix_Data"></a><span class="mw-headline">行列データの演算操作</span></h2>
<p>行列上で演算操作を実行するには、行列オブジェクトからデータ行列にデータを取得し、計算して、結果を行列オブジェクトに戻します。行列の乗算操作には、constant, <a href="../../OriginC/OriginC/Matrixbase-DotMultiply.html" title="OriginC:Matrixbase-DotMultiply">dot multiply</a>, <a href="../../OriginC/OriginC/Matrixbase-DotDivide.html" title="OriginC:Matrixbase-DotDivide">dot divide</a>, <a href="../../OriginC/OriginC/Matrixbase-DotPower.html" title="OriginC:Matrixbase-DotPower">dot power</a>, <a href="../../OriginC/OriginC/Matrixbase-Cross.html" title="OriginC:Matrixbase-Cross">cross</a>, <a href="../../OriginC/OriginC/Matrixbase-CumulativeProduct.html" title="OriginC:Matrixbase-CumulativeProduct">cumulative product</a>, <a href="../../OriginC/OriginC/Matrixbase-CumulativeSum.html" title="OriginC:Matrixbase-CumulativeSum">cumulative sum</a>, <a href="../../OriginC/OriginC/Matrixbase-Difference.html" title="OriginC:Matrixbase-Difference">difference</a>などがあります。 
</p><p>次の2つの行列に対するサンプルでは、定数による乗算と、行列同士の乗算をの方法を紹介します。
</p>
<h3><a name="Multiply_Matrix_by_ConstantMatrix.2C_Multiply_with_Constant"></a><span class="mw-headline">定数による行列の掛け算<span class="OIndex" style="display:none">Matrix, Multiply with Constant</span></span></h3>
<pre class="oc" style="font-family:monospace;">MatrixLayer ml <span style="color: #000080;">=</span> Project.<span style="color: #000000;">ActiveLayer</span><span style="color: #000000;">(</span><span style="color: #000000;">)</span>; <span style="color: #008000;">// アクティブ行列シートを取得	</span>
MatrixObject mo <span style="color: #000080;">=</span> ml.<span style="color: #000000;">MatrixObjects</span><span style="color: #000000;">(</span><span style="color: #0000dd;">0</span><span style="color: #000000;">)</span>; <span style="color: #008000;">// 第1行列オブジェクトを取得</span>

<span style="color: #008000;">// 行列データの内部データオブジェクトのリファレンスを取得</span>
<span style="color: #008000;">// 行列のデータ型をdoubleに割り当て</span>
matrix<span style="color: #000080;">&lt;</span><span style="color: #0000ff;">double</span><span style="color: #000080;">&gt;</span><span style="color: #000040;">&amp;</span> mat <span style="color: #000080;">=</span> mo.<span style="color: #000000;">GetDataObject</span><span style="color: #000000;">(</span><span style="color: #000000;">)</span>; 

<span style="color: #008000;">// 行列内の各データに10を掛ける。ウィンドウにこの変更を反映</span>
mat <span style="color: #000080;">=</span> mat <span style="color: #000040;">*</span> <span style="color: #0000dd;">10</span>;</pre>
<h3><a name="Dot_Multiply_Two_MatrixMatrix.2C_Dot_Multiply"></a><span class="mw-headline">2つの行列の掛け算<span class="OIndex" style="display:none">Matrix, Dot Multiply</span></span></h3>
<pre class="oc" style="font-family:monospace;"><span style="color: #008000;">// 2つの行列ページを付加</span>
MatrixPage matPage1<span style="color: #000000;">(</span><span style="color: #ff00ff;">&quot;MBook1&quot;</span><span style="color: #000000;">)</span>;
MatrixPage matPage2<span style="color: #000000;">(</span><span style="color: #ff00ff;">&quot;MBook2&quot;</span><span style="color: #000000;">)</span>;
<span style="color: #0000ff;">if</span><span style="color: #000000;">(</span> <span style="color: #000040;">!</span>matPage1 <span style="color: #000040;">||</span> <span style="color: #000040;">!</span>matPage2 <span style="color: #000000;">)</span>
	<span style="color: #0000ff;">return</span>;

<span style="color: #008000;">// 名前かインデックスでページから行列シートを取得</span>
MatrixLayer matLayer1 <span style="color: #000080;">=</span> matPage1.<span style="color: #000000;">Layers</span><span style="color: #000000;">(</span><span style="color: #ff00ff;">&quot;MSheet1&quot;</span><span style="color: #000000;">)</span>;
MatrixLayer matLayer2 <span style="color: #000080;">=</span> matPage2.<span style="color: #000000;">Layers</span><span style="color: #000000;">(</span><span style="color: #0000dd;">1</span><span style="color: #000000;">)</span>; <span style="color: #008000;">// 第2シートを取得</span>
<span style="color: #0000ff;">if</span><span style="color: #000000;">(</span> <span style="color: #000040;">!</span>matLayer1 <span style="color: #000040;">||</span> <span style="color: #000040;">!</span>matLayer2 <span style="color: #000000;">)</span>
	<span style="color: #0000ff;">return</span>;

<span style="color: #008000;">// インデックで行列シートから行列オブジェクトを取得。名前は不可。</span>
MatrixObject mo1 <span style="color: #000080;">=</span> matLayer1.<span style="color: #000000;">MatrixObjects</span><span style="color: #000000;">(</span><span style="color: #0000dd;">0</span><span style="color: #000000;">)</span>;
MatrixObject mo2 <span style="color: #000080;">=</span> matLayer2.<span style="color: #000000;">MatrixObjects</span><span style="color: #000000;">(</span><span style="color: #0000dd;">0</span><span style="color: #000000;">)</span>;

<span style="color: #008000;">// 行列ウィンドウの内部データオブジェクトをのリファレンスを取得</span>
matrix<span style="color: #000080;">&lt;</span><span style="color: #0000ff;">double</span><span style="color: #000080;">&gt;</span><span style="color: #000040;">&amp;</span> mat1 <span style="color: #000080;">=</span> mo1.<span style="color: #000000;">GetDataObject</span><span style="color: #000000;">(</span><span style="color: #000000;">)</span>;
matrix<span style="color: #000080;">&lt;</span><span style="color: #0000ff;">double</span><span style="color: #000080;">&gt;</span><span style="color: #000040;">&amp;</span> mat2 <span style="color: #000080;">=</span> mo2.<span style="color: #000000;">GetDataObject</span><span style="color: #000000;">(</span><span style="color: #000000;">)</span>;

<span style="color: #008000;">// 新しい行列ウィンドウを用意</span>
MatrixPage matPageNew;
matPageNew.<span style="color: #000000;">Create</span><span style="color: #000000;">(</span><span style="color: #ff00ff;">&quot;Origin&quot;</span><span style="color: #000000;">)</span>;
MatrixLayer mlNew <span style="color: #000080;">=</span> matPageNew.<span style="color: #000000;">Layers</span><span style="color: #000000;">(</span><span style="color: #0000dd;">0</span><span style="color: #000000;">)</span>;
MatrixObject moNew <span style="color: #000080;">=</span> mlNew.<span style="color: #000000;">MatrixObjects</span><span style="color: #000000;">(</span><span style="color: #0000dd;">0</span><span style="color: #000000;">)</span>;
matrix<span style="color: #000080;">&lt;</span><span style="color: #0000ff;">double</span><span style="color: #000080;">&gt;</span><span style="color: #000040;">&amp;</span> matNew <span style="color: #000080;">=</span> moNew.<span style="color: #000000;">GetDataObject</span><span style="color: #000000;">(</span><span style="color: #000000;">)</span>;

<span style="color: #008000;">// mat1から新しい行列に値をコピー</span>
matNew <span style="color: #000080;">=</span> mat1;

<span style="color: #008000;">// 各行列の値を掛け算して結果を </span>
<span style="color: #008000;">// 新しい行列ウィンドウに出力</span>
matNew.<span style="color: #000000;">DotMultiply</span><span style="color: #000000;">(</span>mat2<span style="color: #000000;">)</span>;</pre>
<h2><a name="Conversion_between_Matrix_Object_and_Vector"></a><span class="mw-headline">行列オブジェクトとベクターを変換する</span></h2>
<p>メソッド <a href="../../OriginC/OriginC/Matrixbase-GetAsVector.html" title="OriginC:Matrixbase-GetAsVector">matrixbase::GetAsVector</a> と <a href="../../OriginC/OriginC/Matrixbase-SetByVector.html" title="OriginC:Matrixbase-SetByVector">matrixbase::SetByVector</a>は、行列オブジェクトとベクターを変換するとに使用できます。
</p>
<pre class="oc" style="font-family:monospace;"><span style="color: #008000;">// ベクターに</span>
MatrixLayer ml <span style="color: #000080;">=</span> Project.<span style="color: #000000;">ActiveLayer</span><span style="color: #000000;">(</span><span style="color: #000000;">)</span>;  <span style="color: #008000;">// アクティブ行列シート</span>
MatrixObject mo <span style="color: #000080;">=</span> ml.<span style="color: #000000;">MatrixObjects</span><span style="color: #000000;">(</span><span style="color: #0000dd;">0</span><span style="color: #000000;">)</span>;  <span style="color: #008000;">// 第1行列オブジェクト</span>
matrixbase <span style="color: #000040;">&amp;</span>mb <span style="color: #000080;">=</span> mo.<span style="color: #000000;">GetDataObject</span><span style="color: #000000;">(</span><span style="color: #000000;">)</span>;  <span style="color: #008000;">// 行列オブジェクトからデータを取得</span>
vector vb;
mb.<span style="color: #000000;">GetAsVector</span><span style="color: #000000;">(</span>vb<span style="color: #000000;">)</span>;  <span style="color: #008000;">// 行列データをベクターに変換</span>

<span style="color: #008000;">// ベクターから</span>
MatrixLayer ml1;
ml1.<span style="color: #000000;">Create</span><span style="color: #000000;">(</span><span style="color: #ff00ff;">&quot;Origin&quot;</span><span style="color: #000000;">)</span>;  <span style="color: #008000;">// 行列シートを作成</span>
MatrixObject mo1 <span style="color: #000080;">=</span> ml1.<span style="color: #000000;">MatrixObjects</span><span style="color: #000000;">(</span><span style="color: #0000dd;">0</span><span style="color: #000000;">)</span>;  <span style="color: #008000;">// 行列オブジェクトを取得</span>
matrixbase <span style="color: #000040;">&amp;</span>mb1 <span style="color: #000080;">=</span> mo1.<span style="color: #000000;">GetDataObject</span><span style="color: #000000;">(</span><span style="color: #000000;">)</span>;  <span style="color: #008000;">// データオブジェクトを取得</span>
mb1.<span style="color: #000000;">SetSize</span><span style="color: #000000;">(</span><span style="color: #0000dd;">2</span>, <span style="color: #0000dd;">3</span><span style="color: #000000;">)</span>;  <span style="color: #008000;">//　2行*3列のサイズにセット</span>
vector v <span style="color: #000080;">=</span> <span style="color: #000000;">{</span><span style="color: #0000dd;">1</span>, <span style="color: #0000dd;">2</span>, <span style="color: #0000dd;">3</span>, <span style="color: #0000dd;">4</span>, <span style="color: #0000dd;">5</span>, <span style="color: #0000dd;">6</span><span style="color: #000000;">}</span>;  <span style="color: #008000;">// ベクターデータ</span>
<span style="color: #008000;">// 行列オブジェクトにベクターをセット</span>
<span style="color: #008000;">// 第1行:1, 2, 3</span>
<span style="color: #008000;">// 第2行:4, 5, 6</span>
<span style="color: #0000ff;">int</span> iRet <span style="color: #000080;">=</span> mb1.<span style="color: #000000;">SetByVector</span><span style="color: #000000;">(</span>v<span style="color: #000000;">)</span>;</pre>
<h2><a name="Manipulate_Matrix_Object_with_Complex_Values"></a><span class="mw-headline">複素数値を持つ行列を操作する</span></h2>
<p>Origin Cでは、<a href="../../OriginC/Category/Matrixbase_(class).html" title="Category:Matrixbase (class)">matrixbase</a>クラス内の <a href="../../OriginC/OriginC/Matrixbase-MakeComplex.html" title="OriginC:Matrixbase-MakeComplex">making a complex matrix from two real matrices</a>, <a href="../../OriginC/OriginC/Matrixbase-GetReal.html" title="OriginC:Matrixbase-GetReal">getting real</a>, <a href="../../OriginC/OriginC/Matrixbase-GetImaginary.html" title="OriginC:Matrixbase-GetImaginary">imaginary</a>, <a href="../../OriginC/OriginC/Matrixbase-GetPhase.html" title="OriginC:Matrixbase-GetPhase">getting phase</a>, <a href="../../OriginC/OriginC/Matrixbase-GetAmplitude.html" title="OriginC:Matrixbase-GetAmplitude">amplitude</a>, <a href="../../OriginC/OriginC/Matrixbase-Conjugate.html" title="OriginC:Matrixbase-Conjugate">calculating conjugate</a>などを含むメソッドのセットは複素数を扱うために使用します。
</p><p>次のコードは、2つの実数の行列データで複素数行列として行列を設定するために使用されます。そして、その実数、虚数、位相、振幅を異なる行列オブジェクトに分け、元の行列オブジェクトを削除するためにConjugateを使用します。
</p>
<pre class="oc" style="font-family:monospace;"><span style="color: #0000ff;">void</span> MatrixObject_Complex_EX<span style="color: #000000;">(</span><span style="color: #000000;">)</span> 
<span style="color: #000000;">{</span>
	<span style="color: #008000;">// 実数の元データ</span>
	matrix mR <span style="color: #000080;">=</span> 
        <span style="color: #000000;">{</span>
		<span style="color: #000000;">{</span><span style="color: #0000dd;">2</span>, <span style="color: #0000dd;">2</span>, <span style="color: #0000dd;">2</span>, <span style="color: #0000dd;">0</span><span style="color: #000000;">}</span>,
		<span style="color: #000000;">{</span><span style="color: #0000dd;">0</span>, <span style="color: #0000dd;">1</span>, <span style="color: #0000dd;">99</span>, <span style="color: #0000dd;">99</span><span style="color: #000000;">}</span>
	<span style="color: #000000;">}</span>;
	<span style="color: #008000;">// 虚数の元データ</span>
	matrix mI <span style="color: #000080;">=</span> 
        <span style="color: #000000;">{</span>
		<span style="color: #000000;">{</span><span style="color: #0000dd;">3</span>, <span style="color: #000040;">-</span><span style="color: #0000dd;">3</span>, <span style="color: #0000dd;">0</span>, <span style="color: #0000dd;">3</span><span style="color: #000000;">}</span>,
		<span style="color: #000000;">{</span><span style="color: #0000dd;">0</span>, <span style="color: #0000dd;">99</span>, <span style="color: #0000dd;">1</span>, <span style="color: #0000dd;">99</span><span style="color: #000000;">}</span>
	<span style="color: #000000;">}</span>;
	matrix<span style="color: #000080;">&lt;</span>complex<span style="color: #000080;">&gt;</span> mC;
	<span style="color: #008000;">// 複素数データを作成</span>
	<span style="color: #0000ff;">int</span> iRet <span style="color: #000080;">=</span> mC.<span style="color: #000000;">MakeComplex</span><span style="color: #000000;">(</span>mR, mI<span style="color: #000000;">)</span>;
	<span style="color: #0000ff;">if</span><span style="color: #000000;">(</span>iRet <span style="color: #000080;">==</span> <span style="color: #0000dd;">0</span><span style="color: #000000;">)</span> 
        <span style="color: #000000;">{</span>
		<span style="color: #008000;">// 複素数データ用の行列シートを作成</span>
		MatrixLayer ml;
		ml.<span style="color: #000000;">Create</span><span style="color: #000000;">(</span><span style="color: #ff00ff;">&quot;Origin&quot;</span><span style="color: #000000;">)</span>;
		MatrixObject mo <span style="color: #000080;">=</span> ml.<span style="color: #000000;">MatrixObjects</span><span style="color: #000000;">(</span><span style="color: #0000dd;">0</span><span style="color: #000000;">)</span>;
		ml.<span style="color: #000000;">SetInternalData</span><span style="color: #000000;">(</span>FSI_COMPLEX<span style="color: #000000;">)</span>;
		matrixbase <span style="color: #000040;">&amp;</span>mb <span style="color: #000080;">=</span> mo.<span style="color: #000000;">GetDataObject</span><span style="color: #000000;">(</span><span style="color: #000000;">)</span>;
		mb <span style="color: #000080;">=</span> mC;
		
		<span style="color: #008000;">// 実部を取得</span>
		matrix mReal;
		mb.<span style="color: #000000;">GetReal</span><span style="color: #000000;">(</span>mReal<span style="color: #000000;">)</span>;
		<span style="color: #008000;">// 虚部を取得</span>
		matrix mImg;
		mb.<span style="color: #000000;">GetImaginary</span><span style="color: #000000;">(</span>mImg<span style="color: #000000;">)</span>;
		<span style="color: #008000;">// 位相を取得</span>
		matrix mPha;
		mb.<span style="color: #000000;">GetPhase</span><span style="color: #000000;">(</span>mPha<span style="color: #000000;">)</span>;
		<span style="color: #008000;">// 振幅を取得</span>
		matrix mAmp;
		mb.<span style="color: #000000;">GetAmplitude</span><span style="color: #000000;">(</span>mAmp<span style="color: #000000;">)</span>;
		<span style="color: #008000;">// 結果のために新しい行列シートを作成</span>
		MatrixLayer mlRes;
		mlRes.<span style="color: #000000;">Create</span><span style="color: #000000;">(</span><span style="color: #ff00ff;">&quot;Origin&quot;</span><span style="color: #000000;">)</span>;
		<span style="color: #008000;">// この行列と同じサイズの4つの行列オブジェクトを作成</span>
		mlRes.<span style="color: #000000;">SetSize</span><span style="color: #000000;">(</span><span style="color: #0000dd;">4</span>, mb.<span style="color: #000000;">GetNumRows</span><span style="color: #000000;">(</span><span style="color: #000000;">)</span>, mb.<span style="color: #000000;">GetNumCols</span><span style="color: #000000;">(</span><span style="color: #000000;">)</span><span style="color: #000000;">)</span>;
		MatrixObject moReal <span style="color: #000080;">=</span> mlRes.<span style="color: #000000;">MatrixObjects</span><span style="color: #000000;">(</span><span style="color: #0000dd;">0</span><span style="color: #000000;">)</span>;
		MatrixObject moImg <span style="color: #000080;">=</span> mlRes.<span style="color: #000000;">MatrixObjects</span><span style="color: #000000;">(</span><span style="color: #0000dd;">1</span><span style="color: #000000;">)</span>;
		MatrixObject moPha <span style="color: #000080;">=</span> mlRes.<span style="color: #000000;">MatrixObjects</span><span style="color: #000000;">(</span><span style="color: #0000dd;">2</span><span style="color: #000000;">)</span>;
		MatrixObject moAmp <span style="color: #000080;">=</span> mlRes.<span style="color: #000000;">MatrixObjects</span><span style="color: #000000;">(</span><span style="color: #0000dd;">3</span><span style="color: #000000;">)</span>;
		matrixbase <span style="color: #000040;">&amp;</span>mbReal <span style="color: #000080;">=</span> moReal.<span style="color: #000000;">GetDataObject</span><span style="color: #000000;">(</span><span style="color: #000000;">)</span>;
		matrixbase <span style="color: #000040;">&amp;</span>mbImg <span style="color: #000080;">=</span> moImg.<span style="color: #000000;">GetDataObject</span><span style="color: #000000;">(</span><span style="color: #000000;">)</span>;
		matrixbase <span style="color: #000040;">&amp;</span>mbPha <span style="color: #000080;">=</span> moPha.<span style="color: #000000;">GetDataObject</span><span style="color: #000000;">(</span><span style="color: #000000;">)</span>;
		matrixbase <span style="color: #000040;">&amp;</span>mbAmp <span style="color: #000080;">=</span> moAmp.<span style="color: #000000;">GetDataObject</span><span style="color: #000000;">(</span><span style="color: #000000;">)</span>;
		mbReal <span style="color: #000080;">=</span> mReal;  <span style="color: #008000;">// 行列オブジェクトに実部をセット</span>
		mbImg <span style="color: #000080;">=</span> mImg;  <span style="color: #008000;">// 行列オブジェクトに虚部をセット</span>
		mbPha <span style="color: #000080;">=</span> mPha;  <span style="color: #008000;">// 行列オブジェクトに位相をセット</span>
		mbAmp <span style="color: #000080;">=</span> mAmp;  <span style="color: #008000;">// 行列オブジェクトに振幅をセット</span>
		
		<span style="color: #008000;">// Conjugateを使用して元の複素数行列を削除</span>
		mb.<span style="color: #000000;">Conjugate</span><span style="color: #000000;">(</span><span style="color: #000000;">)</span>;
	<span style="color: #000000;">}</span>
<span style="color: #000000;">}</span></pre>
<h2><a name="Transform_Matrix_Object_Data"></a><span class="mw-headline">行列オブジェクトデータを変換する</span></h2>
<p>Origin Cには、行列変換のために行列内のメソッドのセットを含みます。例えば、<a href="../../OriginC/OriginC/Matrixbase-FlipHorizontal.html" title="OriginC:Matrixbase-FlipHorizontal">flip a matrix horizontally</a>, <a href="../../OriginC/OriginC/Matrixbase-FlipVertical.html" title="OriginC:Matrixbase-FlipVertical">vertically</a>, <a href="../../OriginC/OriginC/Matrixbase-Rotate.html" title="OriginC:Matrixbase-Rotate">rotate a matrix</a>, <a href="../../OriginC/OriginC/Matrixbase-Shrink.html" title="OriginC:Matrixbase-Shrink">shrink a matrix</a>, <a href="../../OriginC/OriginC/Matrixbase-Transpose.html" title="OriginC:Matrixbase-Transpose">transpose a matrix</a>などです。
</p>
<pre class="oc" style="font-family:monospace;">MatrixLayer ml <span style="color: #000080;">=</span> Project.<span style="color: #000000;">ActiveLayer</span><span style="color: #000000;">(</span><span style="color: #000000;">)</span>;
MatrixObject mo <span style="color: #000080;">=</span> ml.<span style="color: #000000;">MatrixObjects</span><span style="color: #000000;">(</span><span style="color: #0000dd;">0</span><span style="color: #000000;">)</span>;
matrixbase <span style="color: #000040;">&amp;</span>mb <span style="color: #000080;">=</span> mo.<span style="color: #000000;">GetDataObject</span><span style="color: #000000;">(</span><span style="color: #000000;">)</span>;

mb.<span style="color: #000000;">FlipHorizontal</span><span style="color: #000000;">(</span><span style="color: #000000;">)</span>;  <span style="color: #008000;">// 平行に移動</span>
mb.<span style="color: #000000;">FlipVertical</span><span style="color: #000000;">(</span><span style="color: #000000;">)</span>;  <span style="color: #008000;">// 垂直に移動</span>
mb.<span style="color: #000000;">Rotate</span><span style="color: #000000;">(</span><span style="color: #0000dd;">90</span><span style="color: #000000;">)</span>;  <span style="color: #008000;">// 90度時計回りに回転</span>
mb.<span style="color: #000000;">Shrink</span><span style="color: #000000;">(</span><span style="color: #0000dd;">2</span>, <span style="color: #0000dd;">2</span><span style="color: #000000;">)</span>;  <span style="color: #008000;">// 行と列を因子2で縮小する</span>
mb.<span style="color: #000000;">Transpose</span><span style="color: #000000;">(</span><span style="color: #000000;">)</span>;  <span style="color: #008000;">// 転置</span></pre>







    