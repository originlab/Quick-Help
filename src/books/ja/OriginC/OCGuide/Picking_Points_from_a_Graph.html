<h1 class="firstheading">グラフからデータポイントを取得</h1><p>Origin Cの<b><a href="../../OriginC/Category/GetGraphPoints_(class).html" title="Category:GetGraphPoints (class)">GetGraphPoints</a></b>クラスは、グラフウィンドウの曲線からデータポイントを取得するのに使用されます。これは、仮想的なメソッドを持ち、メソッドをオーバーロードするためにそれから派生されます。
</p><p>以下のサンプルは、グラフから2つのデータポイントを取得するし、<i>GetGraphPoints</i>クラスを使用する方法を示します。
</p>
<pre class="oc" style="font-family:monospace;">GetGraphPoints mypts;

<span style="color: #008000;">// trueにセットすると、カーソルがデータプロットに沿って移動し、</span>
<span style="color: #008000;">// 曲線からデータポイントを取得</span>
<span style="color: #008000;">// falseにセットすると、カーソルはデータプロットに沿って移動しない</span>
<span style="color: #008000;">// 画面上からデータポイントを取得</span>
mypts.<span style="color: #000000;">SetFollowData</span><span style="color: #000000;">(</span><span style="color: #0000ff;">true</span>, dp.<span style="color: #000000;">GetIndex</span><span style="color: #000000;">(</span><span style="color: #000000;">)</span><span style="color: #000000;">)</span>;

<span style="color: #008000;">// GraphLayerオブジェクト(gl)で指定したGraphからデータポイントを取得</span>
<span style="color: #0000ff;">int</span> nPts <span style="color: #000080;">=</span> <span style="color: #0000dd;">2</span>; <span style="color: #008000;">// 取得するポイント数</span>
mypts.<span style="color: #000000;">GetPoints</span><span style="color: #000000;">(</span>nPts, gl<span style="color: #000000;">)</span>;

<span style="color: #008000;">// 取得したデータからx/yデータとそのインデックスを取得</span>
vector vx, vy;
vector<span style="color: #000080;">&lt;</span><span style="color: #0000ff;">int</span><span style="color: #000080;">&gt;</span> vnPtsIndices, vnPlotIndices;
<span style="color: #0000ff;">if</span><span style="color: #000000;">(</span> mypts.<span style="color: #000000;">GetData</span><span style="color: #000000;">(</span>vx, vy, vnPtsIndices, vnPlotIndices<span style="color: #000000;">)</span> <span style="color: #000080;">==</span> nPts <span style="color: #000000;">)</span>
<span style="color: #000000;">{</span>
	<span style="color: #0000ff;">for</span><span style="color: #000000;">(</span><span style="color: #0000ff;">int</span> ii <span style="color: #000080;">=</span> <span style="color: #0000dd;">0</span>; ii <span style="color: #000080;">&lt;</span> vx.<span style="color: #000000;">GetSize</span><span style="color: #000000;">(</span><span style="color: #000000;">)</span>; ii<span style="color: #000040;">++</span><span style="color: #000000;">)</span>
	<span style="color: #000000;">{</span>
		<span style="color: #000000;">printf</span><span style="color: #000000;">(</span><span style="color: #ff00ff;">&quot;point&nbsp;%d: index =&nbsp;%d, x =&nbsp;%g, y =&nbsp;%g, on plot&nbsp;%d<span style="color: #666666; font-weight: bold;">\n</span>&quot;</span>, 
			ii<span style="color: #000040;">+</span><span style="color: #0000dd;">1</span>, vnPtsIndices<span style="color: #000000;">[</span>ii<span style="color: #000000;">]</span>, vx<span style="color: #000000;">[</span>ii<span style="color: #000000;">]</span>, vy<span style="color: #000000;">[</span>ii<span style="color: #000000;">]</span>, vnPlotIndices<span style="color: #000000;">[</span>ii<span style="color: #000000;">]</span><span style="color: #000040;">+</span><span style="color: #0000dd;">1</span><span style="color: #000000;">)</span>;
	<span style="color: #000000;">}</span>
<span style="color: #000000;">}</span></pre>







    