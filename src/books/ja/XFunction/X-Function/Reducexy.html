<h1 class="firstheading">reducexy</h1>
<p><br />
</p>
<div id="toc" class="toc">
	<div id="toctitle">
		<h2>目次</h2>
	</div>
	<ol>
		<li class="toclevel-1 tocsection-1"><a href="#Menu_Information"><span 
		 class="tocnumber">1</span> <span class="toctext">メニュー情報</span></a></li>
		<li class="toclevel-1 tocsection-2"><a href="#Brief_Information"><span 
		 class="tocnumber">2</span> <span class="toctext">概要</span></a></li>
		<li class="toclevel-1 tocsection-3"><a href="#Additional_Information"><span 
		 class="tocnumber">3</span> <span class="toctext">追加の情報</span></a></li>
		<li class="toclevel-1 tocsection-4"><a href="#Command_Line_Usage"><span 
		 class="tocnumber">4</span><span class="toctext">コマンドラインでの使用法</span></a></li>
		<li class="toclevel-1 tocsection-5"><a href="#X-Function_Execution_Options"><span 
		 class="tocnumber">5</span> <span class="toctext">Xファンクションの実行オプション</span></a></li>
		<li class="toclevel-1 tocsection-6"><a href="#Variables"><span 
		 class="tocnumber">6</span> <span class="toctext">変数</span></a></li>
		<li class="toclevel-1 tocsection-7"><a href="#Description"><span 
		 class="tocnumber">7</span> <span class="toctext">説明</span></a></li>
		<li class="toclevel-1 tocsection-8"><a href="#Example"><span class="tocnumber">8</span> 
		 <span class="toctext">サンプル</span></a></li>
		<li class="toclevel-1 tocsection-9"><a href="#Related_X-Functions"><span 
		 class="tocnumber">9</span> <span class="toctext">関連するXファンクション</span></a></li>
	</ol>
</div>
<h2><a name="Menu_Information"></a><span class="mw-headline">メニュー情報</span></h2>
<ul>
	<li>ワークブックがアクティブな時</li>
</ul>
<dl>
	<dd><b>ワークシート：データ削減：クラスタX</b></dd>
</dl>
<ul>
	<li>グラフがアクティブな時</li>
</ul>
<dl>
	<dd><b>解析：データ操作：データ削減：クラスタX</b></dd>
</dl>
<h2><a name="Brief_Information"></a><span class="mw-headline">概要</span></h2>
<p>Xでサブグループの統計情報を使用してXYデータを削減 </p>
<h2><a name="Additional_Information"></a><span class="mw-headline">追加の情報</span></h2>
<p class="version">必要なOriginのバージョン: 8.1 SR0以降 </p>
<p>2015 SR0でオプションが追加されています。 </p>
<h2><a name="Command_Line_Usage"></a><span class="mw-headline">コマンドラインでの使用法</span></h2>
<p><code>1. reducexy iy:=(col(A),col(B)) subgroup:=inc xincr:=0.5 xstats:=median 
 ystats:=min; </code></p>
<p><code style="font-family: monospace;">2. reducexy iy:=(col(A),col(B)) 
 subgroup:=points points:=8 xstats:=ave ystats:=ave; </code></p>
<h2><a name="X-Function_Execution_Options"></a><span class="mw-headline">Xファンクションの実行オプション</span></h2>
<p><a class="external text" href="../../LabTalk/LabTalk/X-Function_Execution_Options.html">スクリプトからXファンクションにアクセスする場合、追加のオプションスイッチについてのページを参照してください。</a> 
 </p>
<h2><a name="Variables"></a><span class="mw-headline">変数</span></h2>
<table class="xfvar">
	<tr>
		<th style="width: 8%;">表示<br />
		名 </th>
		<th style="width: 8%;">変数<br />
		名 </th>
		<th style="width: 8%;">I/O<br />
		と<br />
		データ型 </th>
		<th style="width: 8%;">デフォルト<br />
		値 </th>
		<th>説明 </th>
	</tr>
	<tr>
		<td>入力 </td>
		<td>iy </td>
		<td><p>入力 </p>
		<p>XYRange </p></td>
		<td><p style="text-align: center;">&lt;active&gt; </p></td>
		<td>入力データ範囲を指定します。 </td>
	</tr>
	<tr>
		<td>サブグループ化の方法 </td>
		<td>subgroup </td>
		<td><p>入力 </p>
		<p>int </p></td>
		<td><p style="text-align: center;">0 </p></td>
		<td>ソースデータをサブグループに分割する方法を指定します。各グループのデータポイントがひとつのデータポイントに統合されます。 
		 
		<p>オプションリスト： </p>
		<ul>
			<li><i>0=points:Nポイント毎</i> 
			<dl>
				<dd>元データをNポイント毎にサブグループに分けます。Nの値は<b>points</b> 変数で指定できます。</dd>
			</dl></li>
			<li><i>1=groups:グループの数による</i> 
			<dl>
				<dd><b>groups</b> 変数で<i>m</i> を指定します。そして、元データを<i>m</i> 
				 グループに分けます。</dd>
			</dl></li>
			<li><i>2=inc:X増分による</i> 
			<dl>
				<dd><b>xincr</b> 変数で増分を指定します。元データのX範囲を増分によってサブレンジに分割されます。各サブレンジのデータポイントがサブグループ分けされます。</dd>
			</dl></li>
			<li><i>3=ref:参照列による</i> 
			<dl>
				<dd><b>ref</b>変数で増分を指定します。そして、元データを参照列によって分割します。</dd>
			</dl></li>
		</ul></td>
	</tr>
	<tr>
		<td>XYを割る値 </td>
		<td>divide </td>
		<td><p>入力 </p>
		<p>int </p></td>
		<td><p style="text-align: center;">src </p></td>
		<td><b>サブグループ化の方法(subgroup)</b>が<i>グループの数による(roups)</i> および<i>X増分による(inc)</i>の場合に利用可能です。XYデータセットをどのようにサブグループにわけるか指定します。 
		 
		<p>オプションリスト： </p>
		<ul>
			<li><i>0=src:ソースX</i> 
			<dl>
				<dd>サブグループの定義にソースのX値を使用します。<b>開始X/終了X</b>はX範囲出力を作成するために使用されます。 
				 </dd>
			</dl></li>
			<li><i>1=bin:ビン化X</i> 
			<dl>
				<dd>サブグループの定義を開始するために、<b>X開始</b>を最初のサブグループとして使用します。</dd>
			</dl></li>
		</ul>
		<dl>
			<dd>2つのオプションの違いは以下のサンプルを参照してください。</dd>
			<dd><a class="image"><img alt="Reducexy divide example.png" 
										 src="../images/Reducexy/Reducexy_divide_example.png" 
										 width="674" height="415" border="0" /></a></dd>
		</dl></td>
	</tr>
	<tr>
		<td>N </td>
		<td>points </td>
		<td><p>入力 </p>
		<p>int </p></td>
		<td><p style="text-align: center;">&lt;自動&gt; </p></td>
		<td>これは、<b>サブグループ化の方法</b>で<b>Nポイント毎</b>が選択されているときのみ利用できます。Nの値を指定します。入力範囲内のn個のデータポイントごとに1つのデータポイントに統合します。 
		 </td>
	</tr>
	<tr>
		<td>X増分値 </td>
		<td>xincr </td>
		<td><p>入力 </p>
		<p>double </p></td>
		<td><p style="text-align: center;">&lt;auto&gt; </p></td>
		<td>これは、<b>サブグループ化の方法</b>で<b>X増分による</b>が選択されているときのみ利用できます。dx値を指定します。次に、同じグループに属する2つのデータポイントのX値の差がdxを超えないように、dxを使用して入力データポイントを複数のグループに分割します。グループ化後、データポイントの各グループは一つに統合されます。<i>xincr</i> 
		 が指定されていないとき、式<i>xincr</i> = <i>end</i>-<i>start</i> / <i>nsize</i> 
		 * 5（ここで<i>nsize</i> は入力データポイント数）によってデフォルト値が自動で計算されます。 </td>
	</tr>
	<tr>
		<td>グループ </td>
		<td>groups </td>
		<td><p>入力 </p>
		<p>int </p></td>
		<td><p style="text-align: center;">&lt;auto&gt; </p></td>
		<td>これは、<b>サブグループ化の方法</b>で<b>グループの数による</b>が選択されているときのみ利用できます。グループの数を指定します。 
		 </td>
	</tr>
	<tr>
		<td>開始X </td>
		<td>start </td>
		<td><p>入力 </p>
		<p>double </p></td>
		<td><p style="text-align: center;">&lt;auto&gt; </p></td>
		<td>グループ化開始のX値を指定します。 </td>
	</tr>
	<tr>
		<td>終了X </td>
		<td>end </td>
		<td><p>入力 </p>
		<p>double </p></td>
		<td><p style="text-align: center;">&lt;自動&gt; </p></td>
		<td>グループ化終了のX値を指定します。 </td>
	</tr>
	<tr>
		<td>参照列 </td>
		<td>ref </td>
		<td><p>入力 </p>
		<p>Range </p></td>
		<td><p style="text-align: center;">&lt;optional&gt; </p></td>
		<td>サブグループ化の方法を<i>ref</i>（参照列による）にした場合の参照列を指定します。 </td>
	</tr>
	<tr>
		<td>X統合 </td>
		<td>xstats </td>
		<td><p>入力 </p>
		<p>int </p></td>
		<td><p style="text-align: center;">0 </p></td>
		<td>データポイントのグループが統合される出力データポイントのX値を取得する方法を指定します。 
		<p>オプションリスト： </p>
		<ul>
			<li><i>ave:平均</i> 
			<dl>
				<dd>各グループのデータポイントのX値の平均値を取得します。</dd>
			</dl></li>
			<li><i>median:中央値</i> 
			<dl>
				<dd>各グループのデータポイントのX値の中央値を取得します。</dd>
			</dl></li>
			<li><i>first:サブグループの最初</i> 
			<dl>
				<dd>各グループの最初のデータポイントのX値を取得します。</dd>
			</dl></li>
			<li><i>last:サブグループの最後</i> 
			<dl>
				<dd>各グループの最後のデータポイントのX値を取得します。</dd>
			</dl></li>
			<li><i>xatminy:最小のYのX値</i> 
			<dl>
				<dd>各グループの最小Y値のX値を取得します。</dd>
			</dl></li>
			<li><i>xatmaxy:X 最大のYのX値</i> 
			<dl>
				<dd>各グループの最大Y値のX値を取得します。</dd>
			</dl></li>
		</ul>
		<p><b>サブグループ化の方法</b>で<b>X増分による</b>または<b>グループの数による</b>を選択した場合、以下の方法を利用可能です。 
		 </p>
		<ul>
			<li><i>begin:サブグループ開始</i> 
			<dl>
				<dd>各サブグループの開始の値です。</dd>
			</dl></li>
			<li><i>center:サブグループ中央</i> 
			<dl>
				<dd>各サブグループの中央の値です。</dd>
			</dl></li>
			<li><i>end:サブグループ終了</i> 
			<dl>
				<dd>各サブグループの終了の値です。</dd>
			</dl></li>
		</ul></td>
	</tr>
	<tr>
		<td>Y統合 </td>
		<td>ystats </td>
		<td><p>入力 </p>
		<p>int </p></td>
		<td><p style="text-align: center;">0 </p></td>
		<td>データポイントのグループが統合される出力データポイントのY値を取得する方法を指定します。 
		<p>オプションリスト： </p>
		<ul>
			<li><i>ave:平均</i> 
			<dl>
				<dd>各グループのデータポイントのY値の平均値を取得します。</dd>
			</dl></li>
			<li><i>min:最小</i></li>
		</ul>
		<dl>
			<dd>各グループのデータポイントのY値の最小値を取得します。</dd>
		</dl>
		<ul>
			<li><i>max:最大</i></li>
		</ul>
		<dl>
			<dd>各グループのデータポイントのY値の最大値を取得します。</dd>
		</dl>
		<ul>
			<li><i>median:中央値</i> 
			<dl>
				<dd>各グループのデータポイントのY値の中央値を取得します。</dd>
			</dl></li>
			<li><i>first:サブグループの最初</i> 
			<dl>
				<dd>各グループの最初のデータポイントのY値を取得します。</dd>
			</dl></li>
			<li><i>last:サブグループの最後</i> 
			<dl>
				<dd>各グループの最後のデータポイントのY値を取得します。</dd>
			</dl></li>
			<li><i>sum:合計</i> 
			<dl>
				<dd>各グループのデータポイントのY値の合計を取得します。</dd>
			</dl></li>
			<li><i>sd:SD</i> 
			<dl>
				<dd>各グループのデータポイントのY値の標準偏差を取得します。</dd>
			</dl></li>
			<li><i>se:SE</i> 
			<dl>
				<dd>各グループのデータポイントのY値の標準誤差を取得します。</dd>
			</dl></li>
			<li><i>rms:RMS</i> 
			<dl>
				<dd>各グループのデータポイントのY値の二乗平均平方根を取得します。</dd>
			</dl></li>
		</ul></td>
	</tr>
	<tr>
		<td>出力 </td>
		<td>oy </td>
		<td><p>出力 </p>
		<p>XYRange </p></td>
		<td><p style="text-align: center;">&lt;新規&gt; </p></td>
		<td>出力範囲を指定します。 
		<p><a class="external text" href="../../XFunction/X-Function/Output_Notations.html">このシンタックス</a>を参照してください。 
		 </p></td>
	</tr>
	<tr>
		<td>グループ情報を出力 </td>
		<td>rd </td>
		<td><p>出力 </p>
		<p>ReportData </p></td>
		<td><p style="text-align: center;">[&lt;same&gt;]&lt;same&gt; </p></td>
		<td>サブグループ化の方法が<i>ref</i>（参照列による）に設定されている場合、このオプションを使って参照列からグループ情報を出力します。 
		 </td>
	</tr>
</table>
<h2><a name="Description"></a><span class="mw-headline">説明</span></h2>
<p>このXファンクションは、X値に基づいたXYデータの削減が可能です。X値は単調である必要があります。 </p>
<p>データをグループ分けする方法は複数あります。グループ化すると、データポイントの各グループは単一データポイントに統合されます。出力データポイントのXおよびY値の取得方法は指定できます。 
 </p>
<h2><a name="Example"></a><span class="mw-headline">サンプル</span></h2>
<p>X値が等間隔でないデータセットがあり、X値によってデータを削減したいとします。データセットには200ポイントのデータが含まれています。次の操作を実行すると、これを50ポイントにできます。 
 </p>
<ol>
	<li>新しいブックをアクティブにして、<b>単一ASCのインポート</b>ボタン<a class="image"><img alt="Button Import Single ASCII.png" 
	 src="../images/Reducexy/Button_Import_Single_ASCII.png" width="23" 
	 border="0" /></a>をクリックして、<b>\<i>Samples</i>\<i>Signal Processing</i>\<i>Convolution.dat</i></b>をインポートします。 
	 </li>
	<li>データ列を選択し、メニューから<b>作図：基本の2Dグラフ：散布図</b>を選択してグラフを作図します。 
	<dl>
		<dd><a class="image"><img alt="Reducexy111.png" src="../images/Reducexy/Reducexy111.png" 
									 width="625" border="0" /></a></dd>
	</dl></li>
	<li><b>解析：データ操作：データ削減：クラスタX</b>を選び、reduceXY Xファンクションダイアログボックスを開きます。 
	 </li>
	<li><b>サブグループ化の方法</b>ドロップダウンリストで、<b>グループの数による</b>を選択します。<b>グループ数</b>の右側にある<b>自動</b>チェックボックスからチェックを外し、編集ボックスに<b>50</b>を入力します。</li>
	<li><b>X統合</b>ドロップダウンリストで<b>サブグループの最初</b>を選択します。</li>
	<li><b>Y統合</b>ドロップダウンリストで<b>最小</b>を選択します。 
	<dl>
		<dd><a class="image"><img alt="Reducexy222.png" src="../images/Reducexy/Reducexy222.png" 
									 width="480" border="0" /></a></dd>
	</dl></li>
	<li><b><b>OK</b></b>ボタンをクリックします。元データの隣の入力ワークシートに結果が出力されます。<b>X2</b> 
	 および <b>Y2</b>を選択し、Originメニューから<b>作図：基本の2Dグラフ：散布図</b>を選択して、グラフを作成します。 
	 
	<dl>
		<dd><a class="image"><img alt="Reducexy333.png" src="../images/Reducexy/Reducexy333.png" 
									 width="771" border="0" /></a></dd>
	</dl></li>
</ol>
<p>以下のスクリプトコマンドを使うことでもデータポイントの削減が可能です。 </p>
<pre class="lt" style="font-family: monospace;">
reducexy <span style="color: #000080;">-</span>r <span style="color: #0000dd;">2</span> iy<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #000000;">[</span>Book2<span style="color: #000000;">]</span>Convolution<span style="color: #000080;">!</span><span style="color: #000000;">(</span>col<span style="color: #000000;">(</span>A<span style="color: #000000;">)</span>,col<span style="color: #000000;">(</span>B<span style="color: #000000;">)</span><span style="color: #000000;">)</span> subgroup<span style="color: #000000;">:</span><span style="color: #000080;">=</span>groups groups<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">50</span> xstats<span style="color: #000000;">:</span><span style="color: #000080;">=</span>first &#160;ystats<span style="color: #000000;">:</span><span style="color: #000080;">=</span>min;
</pre>
<h2><a name="Related_X-Functions"></a><span class="mw-headline">関連するXファンクション</span></h2>
<p><a href="../../XFunction/X-Function/Stats.html" title="Xファンクション:Stats">stats</a>, 
 <a href="../../XFunction/X-Function/Reducedup.html" title="Xファンクション:Reducedup">reducedup</a>, 
 <a href="../../XFunction/X-Function/Xy_resample.html" title="Xファンクション:Xy resample">xy_resample</a> 
 </p>
<hr class="keywordshr" style="float: aligncenter; " />
<p><span class="keywords">キーワード:</span><span class="keywordsInput">データ削減、代表値、平均、合計、最小値、最大値、統計、ビン化</span></p>
