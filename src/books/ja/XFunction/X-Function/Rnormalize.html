<h1 class="firstheading">rnormalize</h1><div id="toc" class="toc"><div id="toctitle"><h2>目次</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Menu_Information"><span class="tocnumber">1</span> <span class="toctext">メニュー情報</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Brief_Information"><span class="tocnumber">2</span><span class="toctext">概要</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Additional_Information"><span class="tocnumber">3</span> <span class="toctext">追加の情報</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Command_Line_Usage"><span class="tocnumber">4</span><span class="toctext">コマンドラインでの使用法</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#X-Function_Execution_Options"><span class="tocnumber">5</span> <span class="toctext">Xファンクションの実行オプション</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Variables"><span class="tocnumber">6</span> <span class="toctext">変数</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#Description"><span class="tocnumber">7</span> <span class="toctext">説明</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#Examples"><span class="tocnumber">8</span> <span class="toctext">サンプル</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="#Algorithm"><span class="tocnumber">9</span> <span class="toctext">アルゴリズム</span></a></li>
<li class="toclevel-1 tocsection-10"><a href="#Related_X-Functions"><span class="tocnumber">10</span><span class="toctext">関連するXファンクション</span></a></li>
</ul>
</div>

<h2><a name="Menu_Information"></a><span class="mw-headline">メニュー情報</span></h2>
<p>解析：数学：列の正規化
</p><p>列を右クリックして規格化を選択
</p>
<h2><a name="Brief_Information"></a><span class="mw-headline">概要</span></h2>
<p>XYデータの範囲を標準化します
</p>
<h2><a name="Additional_Information"></a><span class="mw-headline">追加の情報</span></h2>
<p><b>必要なOriginのバージョン</b>: 8.1 SR0以降
</p>
<h2><a name="Command_Line_Usage"></a><span class="mw-headline">コマンドラインでの使用法</span></h2>
<p><code>
1. rnormalize irng:=2:4 method:=min;
</p><p>2. rnormalize irng:=Col(B) method:=specify val:=7 orng:=&lt;new&gt;;
</p><p>3. rnormalize irng:=2:4 method:=ref type:=max refcol:=5 orng:=&lt;new&gt;;
</p><p>4. rnormalize irng:=2:4 method:=cell cell:=1[10] orng:=&lt;new&gt;;
</code>
</p>
<h2><a name="X-Function_Execution_Options"></a><span class="mw-headline">Xファンクションの実行オプション</span></h2>
<p><a class="external text" href="../../LabTalk/LabTalk/X-Function_Execution_Options.html">スクリプトからXファンクションにアクセスする場合、追加のオプションスイッチについてのページを参照してください。</a>
</p>
<h2><a name="Variables"></a><span class="mw-headline">変数</span></h2>
<table class="xfvar">
<tr>
<th width="8%">表示<br />名
</th>
<th width="8%">変数<br />名
</th>
<th width="8%">I/O<br />と<br />データ型
</th>
<th width="8%">デフォルト<br />値
</th>
<th>説明
</th></tr>
<tr>
<td>入力
</td>
<td>irng
</td>
<td>
<p>入力
</p><p>Range
</p>
</td>
<td> <center>&lt;active&gt;</center>
</td>
<td> 入力列または範囲を指定します。Origin 2020b以降、[Book]Sheet!(N1:N2) 形式の短縮構文を使用できます。ここで、N1は列の連続した範囲の開始の列番号、N2は終了の列番号です。[Book]Sheet!([Book]Sheet!N1:N2,[Book]Sheet!N3:N4) の形式の非連続データも使用できます。
</td></tr>

<tr>
<td>合計データ情報
</td>
<td>datainfo
</td>
<td>
<p>入力
</p><p>ツリーノード
</p>
</td>
<td> <center>&lt;unassigned&gt;</center>
</td>
<td> これはダイアログにファイル情報を表示するためのものです。LabTalkでXファンクションを使うとき、この変数は使用しないで下さい。
</td></tr>
<tr>
<td>入力データを1つの複合データセットとして扱う
</td>
<td>composite
</td>
<td>
<p>入力
</p><p>int
</p>
</td>
<td> <center>0</center>
</td>
<td> 選択を一つの複合データセットとして扱うかどうかを指定します。この変数は、<b>方法</b>が<b>特定値で割る</b>または<b>参照セルで割る</b>にセットされている場合のみ利用できます。
</td></tr>
<tr>
<td>グループ
</td>
<td>group
</td>
<td>
<p>入力
</p><p>int
</p>
</td>
<td> <center>&lt;optional&gt;</center>
</td>
<td> 列（複数可）をグループ情報として指定し、それぞれの一意のグループで正規化を実行します。
</td></tr>
<tr>
<td>正規化の方法
</td>
<td>method
</td>
<td>
<p>入力
</p><p>int
</p>
</td>
<td> <center>1</center>
</td>
<td> 正規化に使用する手法
<p>オプションリスト:
</p>
<ul><li><i>specify:特定値で割る</i> {0}
<dl><dd>ベクターデータを指定値で除算</dd></dl></li>
<li><i>range:[0, 1]で正規化</i> {1}
<dl><dd>データを範囲 [0, 1]に正規化</dd></dl></li>
<li><i>range100:[0, 100]に正規化</i> {13}
<dl><dd>データを範囲 [0, 100]に正規化<font color="red">(9.0 SR0)</font></dd></dl></li>
<li><i>customrange: [v1, v2]に正規化</i> {14}
<dl><dd>データを範囲 [v1, v2]に正規化<font color="red">(2022b SR0)</font></dd></dl></li>
<li><i>snd:Zスコア(N(0, 1)に標準化)</i> {2}
<dl><dd>標準正規分布に変換します。</dd></dl></li>
<li><i>max:最大値で割る</i> {3}
<dl><dd>ベクターデータを最大値で除算</dd></dl></li>
<li><i>min:最小値で割る</i> {4}
<dl><dd>ベクターデータを最小値で除算</dd></dl></li>
<li><i>mean:平均で割る</i> {5}
<dl><dd>ベクターデータを平均値で除算</dd></dl></li>
<li><i>median:中央値で割る</i> {6}
<dl><dd>ベクターデータを中央値で除算</dd></dl></li>
<li><i>sd:SDで割る</i> {7}
<dl><dd>ベクターデータを標準偏差で除算</dd></dl></li>
<li><i>norm:ノルムで割る</i> {8}
<dl><dd>ベクターデータをノルムで除算</dd></dl></li>
<li><i>mode:最頻値で割る</i> {9}
<dl><dd>ベクターデータを最頻値で除算</dd></dl></li>
<li><i>sum:合計で割る</i> {10}
<dl><dd>入力データを合計で割る</dd></dl></li>
<li><i>ref:参照列を使う</i> {11}
<dl><dd>type変数で指定された統計をrefcol変数で指定された参照列の統計と照合して、入力データを正規化します。</dd></dl></li>
<li><i>cell:参照セル値で割る</i> {12}
<dl><dd>cell変数で指定された参照セルを使用して、入力データを除算します。</dd></dl></li></ul>
</td></tr>
<tr>
<td>ユーザ定義の値
</td>
<td>val
</td>
<td>
<p>入力
</p><p>double
</p>
</td>
<td> <center>1.0</center>
</td>
<td> この変数は、<b>方法</b>が<b>特定値で割る</b>にセットされている場合のみ利用できます。入力データを割るのに使用する値を指定します。
</td></tr>
<tr>
<td>参照列
</td>
<td>refcol
</td>
<td>
<p>入力
</p><p>列
</p>
</td>
<td> <center>&lt;optional&gt;</center>
</td>
<td> この変数は、方法が参照列を使うにセットされている場合のみ利用できます。
</td></tr>
<tr>
<td>正規化ターゲット
</td>
<td>type
</td>
<td>
<p>入力
</p><p>int
</p>
</td>
<td> <center>0</center>
</td>
<td> この変数は、<b>方法</b>が<b>参照列を使う</b>にセットされている場合のみ利用できます。参照列のどの統計変数を正規化に使用するかを決定します。正規化後、入力列の選択された統計変数は、参照列の統計変数と一致します。
<p>オプションリスト:
</p>
<ul><li><i>min:最小</i>
<dl><dd>各列の最小値が参照列の最小値と同じになるように入力列を正規化します。</dd></dl></li>
<li><i>max:最大</i>
<dl><dd>各列の最大値が参照列の最大値と同じになるように入力列を正規化します。</dd></dl></li>
<li><i>mean: 平均</i>
<dl><dd>各列の平均値が参照列の平均値と同じになるように入力列を正規化します。</dd></dl></li>
<li><i>median:中央値</i>
<dl><dd>各列の中央値が参照列の中央値と同じになるように入力列を正規化します。</dd></dl></li>
<li><i>sum:合計</i>
<dl><dd>各列の合計が参照列の合計と同じになるように入力列を正規化します。</dd></dl></li>
<li><i>range:範囲</i>
<dl><dd>各列の範囲が参照列の合計と同じになるように入力列を正規化します。</dd></dl></li></ul>
</td></tr>
<tr>
<td>参照セル
</td>
<td>cell
</td>
<td>
<p>入力
</p><p>Range
</p>
</td>
<td> <center>&lt;optional&gt;</center>
</td>
<td> この変数は、方法が参照セル値で割るにセットされている場合のみ利用できます。入力データを割るのに使用する単一セル値を指定します。
</td></tr>
<tr>
<td>v1
</td>
<td>v1
</td>
<td>
<p>入力
</p><p>double
</p>
</td>
<td> <center>0</center>
</td>
<td> この変数は、方法が<b>[v1, v2]に正規化</b>にセットされている場合(method:=customrange)のみ利用できます。値v1～v2の範囲に対する最小値を指定します。
</td></tr>
<tr>
<td>v2
</td>
<td>v2
</td>
<td>
<p>入力
</p><p>double
</p>
</td>
<td> <center>1</center>
</td>
<td> この変数は、方法が<b>[v1, v2]に正規化</b>にセットされている場合(method:=customrange)のみ利用できます。  値v1～v2の範囲に対する最大値を指定します。
</td></tr>
<tr>
<td>出力
</td>
<td>orng
</td>
<td>
<p>出力
</p><p>範囲
</p>
</td>
<td> <center>&lt;new&gt;</center>
</td>
<td> 正規化した列の出力を指定します。
<p><a href="../../XFunction/X-Function/Output_Notations.html" title="Xファンクション:Output Notations">このシンタックス</a>を参照してください。 
</p>
</td></tr></table>
<h2><a name="Description"></a><span class="mw-headline">説明</span></h2>
<p>この関数は列または列の一部を指定した「標準」レベルに調整します。各選択した列を独立に扱い、すべての列を1つずつ正規化します。
</p>
<h2><a name="Examples"></a><span class="mw-headline">サンプル</span></h2>
<p>次のスクリプトは、3番目のデータセットに従って2つのデータセットを正規化するサンプルです。
</p>
<pre class="lt" style="font-family:monospace;">string fn<span style="color: #000080;">$</span><span style="color: #000080;">=</span>system.<span style="color: #000080;">path</span>.<span style="color: #000080;">program</span><span style="color: #000080;">$</span> <span style="color: #000080;">+</span> <span style="color: #ff00ff;">&quot;\Samples\Curve Fitting\Exponential Decay.dat &quot;</span>; 
impASC fname<span style="color: #000000;">:</span><span style="color: #000080;">=</span>fn<span style="color: #000080;">$</span>;
rnormalize irng<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">3</span><span style="color: #000000;">:</span><span style="color: #0000dd;">4</span> method<span style="color: #000000;">:</span><span style="color: #000080;">=</span>ref refcol<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">2</span> orng<span style="color: #000000;">:</span><span style="color: #000080;">=&lt;</span>new<span style="color: #000080;">&gt;</span>;</pre>
<p><br />
</p>
<h2><a name="Algorithm"></a><span class="mw-headline">アルゴリズム</span></h2>
<p><i>V</i>は入力データの<i>V</i>値であり、<img src="../images/Rnormalize/math-7b7f9dbfea05c83784f8b85149852f08.png" title="\alpha" alt="\alpha" class="tex"/>はユーザー定義値であると仮定すると、正規化されたデータ<img src="../images/Rnormalize/math-aeac80b1e6ff7321b6c57f44410bd5d6.png" title="V{}&apos;" alt="V{}&apos;" class="tex"/>は次のように計算できます。
</p><p>特定値で割る:
</p><p><img src="../images/Rnormalize/math-f32ca18790ed19f008e7117ce375e962.png" title="V{}&apos;=\frac{V}{\alpha }" alt="V{}&apos;=\frac{V}{\alpha }" class="tex"/>
</p><p>[0,　1]に正規化:
</p><p><img src="../images/Rnormalize/math-986e595181aa5014e36dbc8b7c867a6e.png" title="V{}&apos;=\frac{V-V_{min}}{V_{max}-V_{min}}" alt="V{}&apos;=\frac{V-V_{min}}{V_{max}-V_{min}}" class="tex"/>
</p><p>[0,　100]に正規化: 
</p><p><img src="../images/Rnormalize/math-a2c4fb9529105200734ae9643697b394.png" title="V{}&apos;=\frac{100(V-V_{min})}{V_{max}-V_{min}}" alt="V{}&apos;=\frac{100(V-V_{min})}{V_{max}-V_{min}}" class="tex"/>
</p><p>[v1, v2]に正規化:
</p><p><img src="../images/Rnormalize/math-7410f657d8c4b2180b905b9643683bfc.png" title="V{}&apos;=\frac{V-v1}{v2-v1}" alt="V{}&apos;=\frac{V-v1}{v2-v1}" class="tex"/>
</p><p>Zスコア(N(0, 1)で標準化):
</p><p><img src="../images/Rnormalize/math-e10d0ae8999ea88bd0852dd5dfc70357.png" title="V{}&apos;=\frac{V-V_{mean}}{V_{SD}}" alt="V{}&apos;=\frac{V-V_{mean}}{V_{SD}}" class="tex"/>
</p><p>最大値で割る:
</p><p><img src="../images/Rnormalize/math-76f5e5efbecfc6ab8f131d4d2fe1beb4.png" title="V{}&apos;=\frac{V}{V_{max}}" alt="V{}&apos;=\frac{V}{V_{max}}" class="tex"/>
</p><p>最小値で割る:
</p><p><img src="../images/Rnormalize/math-acf10545743392d46cf67fec61fb486e.png" title="V{}&apos;=\frac{V}{V_{min}}" alt="V{}&apos;=\frac{V}{V_{min}}" class="tex"/>
</p><p>平均で割る:
</p><p><img src="../images/Rnormalize/math-6d57561c8644a121b42d66d0b3ecdad9.png" title="V{}&apos;=\frac{V}{V_{mean}}" alt="V{}&apos;=\frac{V}{V_{mean}}" class="tex"/>
</p><p>中央値で割る:
</p><p><img src="../images/Rnormalize/math-635606edbfa08932f323935170cf21fb.png" title="V{}&apos;=\frac{V}{V_{median}}" alt="V{}&apos;=\frac{V}{V_{median}}" class="tex"/>
</p><p>標準偏差で割る:
</p><p><img src="../images/Rnormalize/math-b41c96f8fd5e58c7365f5abaae21c5b8.png" title="V{}&apos;=\frac{V}{V_{SD}}" alt="V{}&apos;=\frac{V}{V_{SD}}" class="tex"/>
</p><p>ノルムで割る:
</p><p><img src="../images/Rnormalize/math-1531cbb4e612416d7758e1658b476012.png" title="V{}&apos;=\frac{V}{\left \| V \right \|}" alt="V{}&apos;=\frac{V}{\left \| V \right \|}" class="tex"/>
</p><p><img src="../images/Rnormalize/math-a46fb84da41ddc6f172fb73c75776e87.png" title="\left \| V \right \|=\sqrt{v_1^2+\cdots +v_n^2}" alt="\left \| V \right \|=\sqrt{v_1^2+\cdots +v_n^2}" class="tex"/> 
</p><p><img src="../images/Rnormalize/math-b17d30899a9047efcf74e562297dea22.png" title="v_n" alt="v_n" class="tex"/> はn番目の<img src="../images/Rnormalize/math-5206560a306a2e085a437fd258eb57ce.png" title="V" alt="V" class="tex"/>値です。
</p><p><a href="../../XFunction/X-Function/Rnormalize.html#Algorithm" title="Xファンクション:Rnormalize">最頻値</a>で割る:
</p><p><img src="../images/Rnormalize/math-fd3a5e240297bf3cbe64ff53267686d2.png" title="V{}&apos;=\frac{V}{V_{mode}}" alt="V{}&apos;=\frac{V}{V_{mode}}" class="tex"/>
</p><p>合計で割る:
</p><p><img src="../images/Rnormalize/math-78a99127259c0fa1342537d2249c39ed.png" title="V{}&apos;=\frac{V}{V_{sum}}" alt="V{}&apos;=\frac{V}{V_{sum}}" class="tex"/>
</p>
<h2><a name="Related_X-Functions"></a><span class="mw-headline">関連するXファンクション</span></h2>
<p><a href="../../XFunction/X-Function/Vnormalize.html" title="Xファンクション:Vnormalize">Vnormalize</a>, <a href="../../XFunction/X-Function/Normalize.html" title="Xファンクション:Normalize">normalize</a>, <a href="../../XFunction/X-Function/Cnormalize.html" title="Xファンクション:Cnormalize">Cnormalize</a>
</p>






    