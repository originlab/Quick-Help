<h1 class="firstheading">fft1</h1><p><br />
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>目次</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Menu_Information"><span class="tocnumber">1</span> <span class="toctext">メニュー情報</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Brief_Information"><span class="tocnumber">2</span> <span class="toctext">概要</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Additional_Information"><span class="tocnumber">3</span> <span class="toctext">追加の情報</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Command_Line_Usage"><span class="tocnumber">4</span><span class="toctext">コマンドラインでの使用法</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#X-Function_Execution_Options"><span class="tocnumber">5</span> <span class="toctext">Xファンクションの実行オプション</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Variables"><span class="tocnumber">6</span> <span class="toctext">変数</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#Examples"><span class="tocnumber">7</span> <span class="toctext">サンプル</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#More_Information"><span class="tocnumber">8</span> <span class="toctext">詳細な情報</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="#Related_X-Functions"><span class="tocnumber">9</span> <span class="toctext">関連のXファンクション</span></a></li>
</ul>
</div>

<h2><a name="Menu_Information"></a><span class="mw-headline">メニュー情報</span></h2>
<p>解析: 信号処理: FFT: FFT
</p>
<h2><a name="Brief_Information"></a><span class="mw-headline">概要</span></h2>
<p>フーリエ変換を計算します
</p>
<h2><a name="Additional_Information"></a><span class="mw-headline">追加の情報</span></h2>
<p>この機能は8.0 SR5.で更新されています。
</p>
<h2><a name="Command_Line_Usage"></a><span class="mw-headline">コマンドラインでの使用法</span></h2>
<pre>
1. fft1 ix:=Col(1); 
2. fft1 ix:=(col(2),col(3)); 
3. fft1 ix:=Col(1) interval:=2; 
4. fft1 ix:=Col(1) win:=hanning correct:=power; 
5. fft1 ix:=Col(1) shift:=1; 
6. fft1 ix:=Col(1) psd:=1 norm:=ssa st:=oneside; 
</pre>
<h2><a name="X-Function_Execution_Options"></a><span class="mw-headline">Xファンクションの実行オプション</span></h2>
<p><a class="external text" href="../../LabTalk/LabTalk/X-Function_Execution_Options.html">スクリプトからXファンクションにアクセスする場合、追加のオプションスイッチについてのページを参照してください。</a>
</p>
<h2><a name="Variables"></a><span class="mw-headline">変数</span></h2>
<table class="xfvar">
<tr>
<th width="8%">表示<br />名
</th>
<th width="8%">変数<br />名
</th>
<th width="8%">I/O<br />と<br />データ型
</th>
<th width="8%">デフォルト<br />値
</th>
<th>説明
</th></tr>
<tr>
<td>入力
</td>
<td>ix
</td>
<td>
<p>入力
</p><p>vector&lt;complex&gt;
</p>
</td>
<td> <center>&lt;active&gt;</center>
</td>
<td>
<p>入力信号を指定します。複素数も指定可能です。信号の実数部と虚数部は、異なる列または同じ列に入力できます。デフォルトは&lt;アクティブ&gt;でアクティブデータセットを示します。
</p>
</td></tr>
<tr>
<td>サンプリング間隔
</td>
<td>interval
</td>
<td>
<p>入力
</p><p>double
</p>
</td>
<td> <center>1</center>
</td>
<td>
<p>サンプリング間隔を指定します。デフォルトは &lt;自動&gt;で、これは自動に計算される間隔に対応しています。詳細についてはアルゴリズムのパートをご覧下さい。
</p>
</td></tr>
<tr>
<td>ウィンドウ
</td>
<td>win
</td>
<td>
<p>入力
</p><p>int
</p>
</td>
<td> <center>rect</center>
</td>
<td>
<p>漏れを抑えるのに使用するウィンドウの種類を指定します。詳細についてはアルゴリズムのパートをご覧下さい。
</p><p>オプションリスト
</p>
<ul><li><i>0=rect:矩形</i>
<dl><dd>矩形ウィンドウ</dd></dl></li>
<li><i>1=welch:Welch</i>
<dl><dd>Welchウィンドウ</dd></dl></li>
<li><i>2=tri:Triangular</i>
<dl><dd>Triangularウィンドウ</dd></dl></li>
<li><i>3=bartlett:Bartlett</i>
<dl><dd>Bartlettウィンドウ</dd></dl></li>
<li><i>4=hanning:Hanning</i>
<dl><dd>Hanningウィンドウ</dd></dl></li>
<li><i>5=hamming:Hamming</i>
<dl><dd>Hammingウィンドウ</dd></dl></li>
<li><i>6=blackman:Blackman</i>
<dl><dd>Blackmanウィンドウ</dd></dl></li>
<li><i>7=gauss:Gaussian</i>
<dl><dd>Gaussianウィンドウ</dd></dl></li>
<li><i>8=kaiser:Kaiser</i>
<dl><dd>Kaiserウィンドウ</dd></dl></li></ul>
</td></tr>
<tr>
<td>アルファ値
</td>
<td>alpha
</td>
<td>
<p>入力
</p><p>double
</p>
</td>
<td><center>0</center>
</td>
<td>
<p>ウィンドウ法がGaussianの場合のみ利用できます。Gaussianウィンドウに対して、アルファパラメータ(標準偏差の逆数)を指定します。
</p>
</td></tr>
<tr>
<td>ベータ値
</td>
<td>beta
</td>
<td>
<p>入力
</p><p>double
</p>
</td>
<td><center>0</center>
</td>
<td>
<p>ウィンドウ法がKaiserの場合のみ利用できます。Kaiserウィンドウに対して、ベータパラメータを指定します。
</p>
</td></tr>
<tr>
<td>ウィンドウの補正
</td>
<td>correct
</td>
<td>
<p>入力
</p><p>int
</p>
</td>
<td><center>amplitude</center>
</td>
<td>
<p>入力データに適用したウィンドウによって生じた変更を補正するためのウィンドウ補正因子です。
</p><p>オプションリスト
</p>
<ul><li><i>none:なし</i>
<dl><dd>補正なしが適用されます。</dd></dl></li>
<li><i>amp:振幅</i>
<dl><dd>振幅補正が適用されます。 </dd></dl></li>
<li><i>power:パワー</i>
<dl><dd>エネルギー補正が適用されます。</dd></dl></li></ul>
</td></tr>
<tr>
<td>予約
</td>
<td>Reserved
</td>
<td>
<p>入力
</p><p>int
</p>
</td>
<td> <center>0</center>
</td>
<td>
<p>予約変数です。計算には影響しません。
</p>
</td></tr>
<tr>
<td>実数、虚数、強度の規格化
</td>
<td>norma
</td>
<td>
<p>入力
</p><p>int
</p>
</td>
<td> <center>0</center>
</td>
<td>
<p>複素数、実数、虚数、マグニチュード、二乗マグニチュードの正規化を行うかどうかを指定します。デフォルトはFalseです。振幅のようなその他の出力は、この変数によって影響を受けません。詳細についてはアルゴリズムのセクションをご覧下さい。 
</p>
</td></tr>
<tr>
<td>結果の移動
</td>
<td>shift
</td>
<td>
<p>入力
</p><p>int
</p>
</td>
<td> <center>1</center>
</td>
<td>
<p>低周波数成分を中央にするために結果を再配置するか指定します。
</p>
</td></tr>
<tr>
<td>位相の巻き解消
</td>
<td>unwrap
</td>
<td>
<p>入力
</p><p>int
</p>
</td>
<td> <center>1</center>
</td>
<td>
<p>位相の巻き解消するかどうかを指定します。巻きがあると、位相角度が+-180度間でモジュロ減算されます。
</p>
</td></tr>
<tr>
<td>因子
</td>
<td>factor
</td>
<td>
<p>入力
</p><p>int
</p>
</td>
<td> <center>ee</center>
</td>
<td>
<p>工学分野または科学分野で使われる指数位相ファクターの符号を指定します。
</p><p>オプションリスト
</p>
<ul><li><i>ee:-1 (電子工学分野)</i>
<dl><dd>位相ファクターの符号は科学分野とは逆になります。</dd></dl></li>
<li><i>science:+1 (科学分野)</i>
<dl><dd>位相ファクターは『Numerical Recipes in C, 2nd edition』の503ページに記載の公式に従って設定されます。</dd></dl></li></ul>
</td></tr>
<tr>
<td>スペクトルの種類
</td>
<td>st
</td>
<td>
<p>入力
</p><p>int
</p>
</td>
<td> <center>auto</center>
</td>
<td>
<p>パワーが計算されるナイキスト間隔を指定します。他の結果の計算に影響を与えるので注意してください。
</p><p>オプションリスト
</p>
<ul><li><i>auto:&lt;自動&gt;</i>
<dl><dd>入力信号が実数の場合、片側が選択されます。そうでなければ両側が選択されます。このオプションが選択されると、入力データを見て複素数かどうかを決定します。入力データがComplexデータ型の列に保存されていてもデータには実数部しかない場合、複素数ではなく、実数とみなし、片側スペクトルに結果を入れます。  あるいは、入力データが虚数部としてすべてゼロを持つ場合、Originはこの入力データを実数とみなし、片側スペクトル生成します。</dd></dl></li>
<li><i>oneside:片側</i>
<dl><dd>片側のパワーが計算されます。</dd></dl></li>
<li><i>twoside:両側</i>
<dl><dd>両側のパワーが計算されます。</dd></dl></li></ul>
</td></tr>
<tr>
<td>パワーの規格化
</td>
<td>norm
</td>
<td>
<p>入力
</p><p>int
</p>
</td>
<td> <center>msa</center>
</td>
<td>
<p>パワー密度規格化の手法を指定します。詳細はアルゴリズムをご覧下さい。
</p><p>オプションリスト
</p>
<ul><li><i>msa:MSA-平均二乗振幅</i>
<dl><dd>平均平方振幅法</dd></dl></li>
<li><i>ssa:SSA-二乗和振幅</i>
<dl><dd>二乗和振幅法</dd></dl></li>
<li><i>tisa:TISA-時間間隔二乗振幅</i>
<dl><dd>時間間隔二乗振幅法</dd></dl></li></ul>
</td></tr>
<tr>
<td>プレビュー
</td>
<td>pre
</td>
<td>
<p>入力
</p><p>int
</p>
</td>
<td> <center>ap</center>
</td>
<td>
<p>ダイアログでのプレビュー表示を指定します。
</p><p>オプションリスト
</p>
<ul><li><i>none:なし</i>
<dl><dd>なし</dd></dl></li>
<li><i>ap:振幅 /位相</i>
<dl><dd>振幅と位相の両方</dd></dl></li>
<li><i>pp:パワー /位相</i>
<dl><dd>パワーと位相の両方</dd></dl></li>
<li><i>amp:振幅</i>
<dl><dd>振幅</dd></dl></li>
<li><i>img:虚数</i>
<dl><dd>変換データの虚数部</dd></dl></li>
<li><i>mag:マグニチュード</i>
<dl><dd>マグニチュード</dd></dl></li>
<li><i>phase:位相</i>
<dl><dd>位相</dd></dl></li>
<li><i>power:パワー</i>
<dl><dd>パワースペクトルまたはパワー密度</dd></dl></li>
<li><i>real:実数</i>
<dl><dd>変換データの実数部</dd></dl></li>
<li><i>ri:実数 /虚数</i>
<dl><dd>変換データの実数部と虚数部の両方</dd></dl></li>
<li><i>db:dB</i>
<dl><dd>dB単位での振幅 </dd></dl></li>
<li><i>ndb:正規化dB</i>
<dl><dd>dB単位で正規化された振幅 </dd></dl></li>
<li><i>rms</i>:RMS振幅
<dl><dd>RMS振幅 </dd></dl></li>
<li><i>sqamp:方形振幅</i>
<dl><dd>二乗振幅 </dd></dl></li>
<li><i>sqmag:方形強度</i>
<dl><dd>二乗マグニチュード</dd></dl></li></ul>
</td></tr>
<tr>
<td>実数
</td>
<td>re
</td>
<td>
<p>入力
</p><p>int
</p>
</td>
<td> <center>1</center>
</td>
<td>
<p>FFT結果の実数部のグラフを出力するかどうかを指定します。
</p>
</td></tr>
<tr>
<td>虚数
</td>
<td>im
</td>
<td>
<p>入力
</p><p>int
</p>
</td>
<td> <center>1</center>
</td>
<td>
<p>FFT結果の虚数部のグラフを出力するかどうかを指定します。
</p>
</td></tr>
<tr>
<td>振幅 /位相
</td>
<td>ap
</td>
<td>
<p>入力
</p><p>int
</p>
</td>
<td> <center>1</center>
</td>
<td>
<p>振幅と位相を組み合わせたグラフを出力するかどうか指定します。
</p>
</td></tr>
<tr>
<td>位相
</td>
<td>phase
</td>
<td>
<p>入力
</p><p>int
</p>
</td>
<td> <center>0</center>
</td>
<td>
<p>位相のグラフを出力するかどうか指定します。
</p>
</td></tr>
<tr>
<td>パワー /位相
</td>
<td>pp
</td>
<td>
<p>入力
</p><p>int
</p>
</td>
<td> <center>0</center>
</td>
<td>
<p>位相のグラフを出力するかどうか指定します。
</p>
</td></tr>
<tr>
<td>実数/虚数
</td>
<td>ri
</td>
<td>
<p>入力
</p><p>int
</p>
</td>
<td> <center>1</center>
</td>
<td>
<p>パワーと位相を組み合わせたグラフを出力するかどうか指定します。
</p>
</td></tr>
<tr>
<td>マグニチュード
</td>
<td>mag
</td>
<td>
<p>入力
</p><p>int
</p>
</td>
<td> <center>1</center>
</td>
<td>
<p>マグニチュードのグラフを出力するかどうか指定します。
</p>
</td></tr>
<tr>
<td>振幅
</td>
<td>amp
</td>
<td>
<p>入力
</p><p>int
</p>
</td>
<td> <center>0</center>
</td>
<td>
<p>振幅のグラフを出力するかどうか指定します。
</p>
</td></tr>
<tr>
<td>パワー
</td>
<td>psd
</td>
<td>
<p>入力
</p><p>int
</p>
</td>
<td> <center>1</center>
</td>
<td>
<p>パワーのグラフを出力するかどうか指定します。
</p>
</td></tr>
<tr>
<td>dB
</td>
<td>db
</td>
<td>
<p>入力
</p><p>int
</p>
</td>
<td> <center>1</center>
</td>
<td>
<p>dBの結果のグラフを出力するかどうか指定します。
</p>
</td></tr>
<tr>
<td>規格化dB
</td>
<td>ndb
</td>
<td>
<p>入力
</p><p>int
</p>
</td>
<td> <center>0</center>
</td>
<td>
<p>正規化dBの結果のグラフを出力するかどうか指定します。
</p>
</td></tr>
<tr>
<td>RMS振幅
</td>
<td>rms
</td>
<td>
<p>入力
</p><p>int
</p>
</td>
<td> <center>0</center>
</td>
<td>
<p>RMS振幅のグラフを出力するかどうか指定します。
</p>
</td></tr>
<tr>
<td>二乗振幅
</td>
<td>sqr_amp
</td>
<td>
<p>入力
</p><p>int
</p>
</td>
<td> <center>0</center>
</td>
<td>
<p>二乗振幅のグラフを出力するかどうか指定します。
</p>
</td></tr>
<tr>
<td>二乗マグニチュード
</td>
<td>sqr_mag
</td>
<td>
<p>入力
</p><p>int
</p>
</td>
<td> <center>0</center>
</td>
<td>
<p>二乗マグニチュードのグラフを出力するかどうか指定します。
</p>
</td></tr>
<tr>
<td>結果データシート
</td>
<td>rd
</td>
<td>
<p>出力
</p><p>ReportData
</p>
</td>
<td> <center>[&lt;input&gt;]&lt;new&gt;</center>
</td>
<td>
<p>出力データシートを指定します。
</p>
</td></tr>
<tr>
<td>結果グラフシート
</td>
<td>rt
</td>
<td>
<p>出力
</p><p>ReportTree
</p>
</td>
<td> <center>[&lt;input&gt;]&lt;new template:=graph&gt;</center>
</td>
<td>
<p>出力グラフシートを指定します。
</p>
</td></tr></table>
<h2><a name="Examples"></a><span class="mw-headline">サンプル</span></h2>
<ul><li> アクティブワークシートの2列目のデータについてデフォルトの設定で1D FFTを実行するには、次のスクリプトを使用します。</li></ul>
<p><code>fft1 col(2)</code>
</p>
<ul><li> コードサンプル</li></ul>
<pre>
// このサンプルでは、太陽黒点データの2つの日付範囲から2つの異なるFFT振幅をプロットして、約11年の太陽黒点周期を示します
// データインポート
string fname$ = system.path.program$ + &quot;Samples\Signal Processing\dayssn.dat&quot;;
//col(1) = year, col(2)=month, col(3)=day, 
//col(4) = date values in contiguous year with fractions
//col(5) = observation
// 5列のcol(4)=X、col(5)=Yに設定したシートを用意
newbook s:=0;newsheet cols:=5 xy:=&quot;NNNXY&quot;; 
impasc;
// 欠損値を置き換えるために補間して結果をcol(6)に入れる
interp1q 4 (4,5) 6;
// データ用移管料
range rData1 = 6[1:14609];// yearの行範囲 1818 から 1858
range rData2 = 6[54057:end];// yearの行範囲1966 - 2006

// 次に、fft1を使用してFFTを開始し、ReportDataシートとReportTableシートを作成
fft1 rData1;
//XFを実行後、同じ名前のツリーが作成される。ここでは、fft1.rdを使用してReportDataノードを作成
range rReportData1=fft1.rd$;//FFT結果からのレポートデータを保持する範囲
range rAmp1=%(rReportData1.getlayer()$)col(Amplitude);
rAmp1[C]$=&quot;1818 - 1858&quot;; // コメントを変更してグラフの凡例を改善
fft1 rData2;
range rReportData2=fft1.rd$;
range rAmp2=%(rReportData2.getlayer()$)col(Amplitude);
rAmp2[C]$=&quot;1966 - 2006&quot;;
 
// 新規の空のグラフを開く。必要に応じてテンプレートを指定
win -t plot;
// アクティブなグラフレイヤにプロットを出力
plotxy rAmp1 plot:=200 color:=color(red) o:=&lt;active&gt;;
plotxy rAmp2 plot:=200 color:=color(blue) o:=&lt;active&gt;;
// ピークを表示するために拡大
x1=0;x2=0.5;y1=0;y2=100;
// 縦線で11年をマーク 
draw -n peakval -l -v 1/11; 
peakval.linewidth = 3;
peakval.color = color(orange);
// テキストラベル追加
label -n peaklabel \b(11 Year Cycle of Sunspots);
peaklabel.x = peakval.x + 1.1 * peaklabel.dx / 2;
peaklabel.y = (y1 + y2) / 2;
peaklabel.fsize = 30;
</pre>
<ul><li> ほかのサンプルは、XFスクリプトダイアログを参照してください（F11を押す）。</li></ul>
<h2><a name="More_Information"></a><span class="mw-headline">詳細な情報</span></h2>
<p>詳細は、ユーザガイドをご覧下さい。
</p>
<dl><dd><ul><li><a class="external text" href="../../UserGuide/Category/Fast_Fourier_Transform_(FFT).html">説明</a></li>
<li><a class="external text" href="../../UserGuide/UserGuide/Algorithm_(FFT1).html">アルゴリズム</a></li>
<li><a class="external text" href="../../UserGuide/UserGuide/Reference_(FFT1).html">参考文献</a></li></ul></dd></dl>
<h2><a name="Related_X-Functions"></a><span class="mw-headline">関連するXファンクション</span></h2>
<p><a href="../../XFunction/X-Function/Ifft1.html" title="Xファンクション:Ifft1">ifft1</a>, <a href="../../XFunction/X-Function/Fft2.html" title="Xファンクション:Fft2">fft2</a>, <a href="../../XFunction/X-Function/Ifft2.html" title="Xファンクション:Ifft2">ifft2</a>
</p>
<hr class='keywordshr'><p><span class='keywords'>キーワード:</span><span class='keywordsInput'>離散, 振幅, 位相, パワー, ウィンドウの補正</span></p>







    