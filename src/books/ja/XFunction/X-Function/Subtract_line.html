<h1 class="firstheading">subtract_line</h1><div id="toc" class="toc"><div id="toctitle"><h2>目次</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Menu_Information"><span class="tocnumber">1</span> <span class="toctext">メニュー情報</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Brief_Information"><span class="tocnumber">2</span> <span class="toctext">概要</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Command_Line_Usage"><span class="tocnumber">3</span> <span class="toctext">コマンドラインでの使用法</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#X-Function_Execution_Options"><span class="tocnumber">4</span> <span class="toctext">Xファンクションの実行オプション</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Variables"><span class="tocnumber">5</span> <span class="toctext">変数</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Description"><span class="tocnumber">6</span> <span class="toctext">説明</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#Examples"><span class="tocnumber">7</span> <span class="toctext">サンプル</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#Related_X-Functions"><span class="tocnumber">8</span> <span class="toctext">関連するXファンクション</span></a></li>
</ul>
</div>

<h2><a name="Menu_Information"></a><span class="mw-headline">メニュー情報</span></h2>
<p>解析：数学：直線の減算
</p>
<h2><a name="Brief_Information"></a><span class="mw-headline">概要</span></h2>
<p>データプロットから直線を減算
</p>
<h2><a name="Command_Line_Usage"></a><span class="mw-headline">コマンドラインでの使用法</span></h2>
<p><code>
subtract_line x1:=0 y1:=0.5 x2:=200 y2:=3.5;
</code>
</p>
<h2><a name="X-Function_Execution_Options"></a><span class="mw-headline">Xファンクションの実行オプション</span></h2>
<p><a class="external text" href="../../LabTalk/LabTalk/X-Function_Execution_Options.html">スクリプトからXファンクションにアクセスする場合、追加のオプションスイッチについてのページを参照してください。</a>
</p>
<h2><a name="Variables"></a><span class="mw-headline">変数</span></h2>
<table class="xfvar">
<tr>
<th width="8%">表示<br />名
</th>
<th width="8%">変数<br />名
</th>
<th width="8%">I/O<br />と<br />データ型
</th>
<th width="8%">デフォルト<br />値
</th>
<th>説明
</th></tr>
<tr>
<td>入力
</td>
<td>iy
</td>
<td>
<p>入力
</p><p>XYRange
</p>
</td>
<td> <center>&lt;active&gt;</center>
</td>
<td>
<p>減算する入力データを指定します。
</p>
</td></tr>
<tr>
<td>X1
</td>
<td>x1
</td>
<td>
<p>入力
</p><p>double
</p>
</td>
<td> <center>0</center>
</td>
<td>
<p>最初のポイントのX値を指定します。
</p>
</td></tr>
<tr>
<td>Y1
</td>
<td>y1
</td>
<td>
<p>入力
</p><p>double
</p>
</td>
<td> <center>0</center>
</td>
<td>
<p>最初のポイントのY値を指定します。
</p>
</td></tr>
<tr>
<td>X2
</td>
<td>x2
</td>
<td>
<p>入力
</p><p>double
</p>
</td>
<td> <center>&lt;unassigned&gt;</center>
</td>
<td>
<p>2番目のポイントのX値を指定します。
</p>
</td></tr>
<tr>
<td>Y2
</td>
<td>y2
</td>
<td>
<p>入力
</p><p>double
</p>
</td>
<td> <center>&lt;unassigned&gt;</center>
</td>
<td>
<p>2番目のポイントのY値を指定します。
</p>
</td></tr>
<tr>
<td>出力
</td>
<td>oy
</td>
<td>
<p>出力
</p><p>XYRange
</p>
</td>
<td> <center>&lt;input&gt;</center>
</td>
<td>
<p>減算データの出力先範囲を指定します。
</p><p><a class="external text" href="../../XFunction/X-Function/Output_Notations.html">このシンタックス</a>を参照してください。
</p>
</td></tr></table>
<h2><a name="Description"></a><span class="mw-headline">説明</span></h2>
<p>このXファンクションはデータセットから直線を減算します。直線は二点で定義します。グラフがアクティブで、メニューからこのXファンクションを使用する場合、グラフ上でクリックしてこの2点を選択できます。スクリプトからこのXファンクションを使用する場合、2点のXおよびY値を指定します。
</p>
<h2><a name="Examples"></a><span class="mw-headline">サンプル</span></h2>
<ul><li> コードサンプル</li></ul>
<pre class="lt" style="font-family:monospace;"><span style="color: #008000;">// このsubtract_line X-Functionの例では、曲線の端点によって作成された直線を減算します</span>
<span style="color: #008000;">// サンプルデータセットをインポート</span>
newbook;
path<span style="color: #000080;">$</span> <span style="color: #000080;">=</span> system.<span style="color: #000080;">path</span>.<span style="color: #000080;">program</span><span style="color: #000080;">$</span> <span style="color: #000080;">+</span> <span style="color: #ff00ff;">&quot;Samples\Spectroscopy\Raman Baseline.dat&quot;</span>;
impasc fname<span style="color: #000000;">:</span><span style="color: #000080;">=</span>path<span style="color: #000080;">$</span>;
<span style="color: #008000;">// XとYの範囲とXY 範囲を定義</span>
range rx <span style="color: #000080;">=</span> <span style="color: #0000dd;">1</span>;
range ry <span style="color: #000080;">=</span> <span style="color: #0000dd;">2</span>;
range rxy <span style="color: #000080;">=</span> <span style="color: #000000;">(</span><span style="color: #0000dd;">1</span>,<span style="color: #0000dd;">2</span><span style="color: #000000;">)</span>;
range rxynew <span style="color: #000080;">=</span> <span style="color: #000000;">(</span><span style="color: #0000dd;">3</span>,<span style="color: #0000dd;">4</span><span style="color: #000000;">)</span>; <span style="color: #008000;">// 列は存在しない</span>
<span style="color: #008000;">// データをプロット</span>
plotxy rxy plot<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">201</span> color<span style="color: #000000;">:</span><span style="color: #000080;">=</span>color<span style="color: #000000;">(</span>blue<span style="color: #000000;">)</span>;

<span style="color: #008000;">// XとYの範囲を使用して端点を取得し、新しい列に減算してプロット</span>
subtract_line iy<span style="color: #000000;">:</span><span style="color: #000080;">=</span>rxy x1<span style="color: #000000;">:</span><span style="color: #000080;">=</span>rx<span style="color: #000000;">[</span><span style="color: #0000dd;">1</span><span style="color: #000000;">]</span> y1<span style="color: #000000;">:</span><span style="color: #000080;">=</span>ry<span style="color: #000000;">[</span><span style="color: #0000dd;">1</span><span style="color: #000000;">]</span> x2<span style="color: #000000;">:</span><span style="color: #000080;">=</span>rx<span style="color: #000000;">[</span>rx.<span style="color: #000080;">nrows</span><span style="color: #000000;">]</span> y2<span style="color: #000000;">:</span><span style="color: #000080;">=</span>ry<span style="color: #000000;">[</span>ry.<span style="color: #000080;">nrows</span><span style="color: #000000;">]</span> oy<span style="color: #000000;">:</span><span style="color: #000080;">=&lt;</span>new<span style="color: #000080;">&gt;</span>;
plotxy rxynew color<span style="color: #000000;">:</span><span style="color: #000080;">=</span>color<span style="color: #000000;">(</span>orange<span style="color: #000000;">)</span> plot<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">201</span> ogl<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">1</span>;

<span style="color: #008000;">// 減算に使用した線を減算の前後に追加</span>
draw <span style="color: #000080;">-</span>n subline1 <span style="color: #000080;">-</span>l <span style="color: #000000;">{</span>rx<span style="color: #000000;">[</span><span style="color: #0000dd;">1</span><span style="color: #000000;">]</span>,ry<span style="color: #000000;">[</span><span style="color: #0000dd;">1</span><span style="color: #000000;">]</span>,rx<span style="color: #000000;">[</span>rx.<span style="color: #000080;">nrows</span><span style="color: #000000;">]</span>,ry<span style="color: #000000;">[</span>ry.<span style="color: #000080;">nrows</span><span style="color: #000000;">]</span><span style="color: #000000;">}</span>;
subline1.<span style="color: #000080;">color</span><span style="color: #000080;">=</span><span style="color: #0000dd;">2</span>;
draw <span style="color: #000080;">-</span>n subline2 <span style="color: #000080;">-</span>l <span style="color: #000000;">{</span>rx<span style="color: #000000;">[</span><span style="color: #0000dd;">1</span><span style="color: #000000;">]</span>,<span style="color: #0000dd;">0</span>,rx<span style="color: #000000;">[</span>rx.<span style="color: #000080;">nrows</span><span style="color: #000000;">]</span>,<span style="color: #0000dd;">0</span><span style="color: #000000;">}</span>;
subline2.<span style="color: #000080;">color</span><span style="color: #000080;">=</span><span style="color: #0000dd;">1</span>;</pre>
<h2><a name="Related_X-Functions"></a><span class="mw-headline">関連するXファンクション</span></h2>
<p><a href="../../XFunction/X-Function/Subtract_ref.html" title="Xファンクション:Subtract ref">subtract_ref</a>
</p>
<hr class='keywordshr'><p><span class='keywords'>キーワード:</span><span class='keywordsInput'>ベースライン補正, 減算</span></p>







    