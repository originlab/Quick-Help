<h1 class="\&quot;firstheading\&quot;">imgSubtractInterpBG</h1>
<table id="toc" class="toc" summary="Contents">
<tr>
<td>
<div id="toctitle">
<h2>内容</h2>
</div>
<ol>
<li class="kadov-p"><a href="#Menu_Information"><span class="tocnumber">1</span> <span class="toctext">メニュー情報</span></a></li>
<li class="kadov-p"><a href="#Brief_Information"><span class="tocnumber">2</span> <span class="toctext">概要</span></a></li>
<li class="kadov-p"><a href="#Additional_Information"><span class="tocnumber">3</span> <span class="toctext">追加の情報</span></a></li>
<li class="kadov-p"><a href="#Variables"><span class="tocnumber">4</span> <span class="toctext">変数</span></a></li>
<li class="kadov-p"><a href="#Description"><span class="tocnumber">5</span> <span class="toctext">説明</span></a></li>
<li class="kadov-p"><a href="#Examples"><span class="tocnumber">6</span> <span class="toctext">サンプル</span></a></li>
<li class="kadov-p"><a href="#Algorithm"><span class="tocnumber">7</span> <span class="toctext">アルゴリズム</span></a></li>
<li class="kadov-p"><a href="#References"><span class="tocnumber">8</span> <span class="toctext">参考文献</span></a></li>
<li class="kadov-p"><a href="#Related_X-Functions"><span class="tocnumber">9</span> <span class="toctext">関連のXファンクション</span></a></li>
</ol>
</td>
</tr>
</table>
<a name="Menu_Information" id="Menu_Information"></a>
<h2><span class="mw-headline">メニュー情報</span></h2>
<p>補間した背景を除去します。</p>
<a name="Brief_Information" id="Brief_Information"></a>
<h2><span class="mw-headline">概要</span></h2>
<p>補間を使って作成した背景を消去します。</p>
<a name="Additional_Information" id="Additional_Information"></a>
<h2><span class="mw-headline">追加の情報</span></h2>
<p>このコマンドはスクリプトからアクセスできません。これはOriginProのみの機能です。</p>
<a name="Variables" id="Variables"></a>
<h2><span class="mw-headline">変数</span></h2>
<table class="NormalTable" style="border-collapse: separate; border-collapse: separate;" border="1">
<tr>
<td>
<p><b style="font-weight: bold;">入力画像</b></p>
</td>
<td>
<p>操作する入力画像を指定します。デフォルトの入力はアクティブイメージです。</p>
</td>
</tr>
<tr>
<td>
<p><b style="font-weight: bold;">アンカー値</b></p>
</td>
<td>
<p>画像のアンカー番号を指定します。アンカーは補間した背景を作成するのに使用されます。</p>
</td>
</tr>
<tr>
<td>
<p><b style="font-weight: bold;">背景</b></p>
</td>
<td>
<p>背景が前景よりも暗いかどうかを指定します。</p>
</td>
</tr>
<tr>
<td>
<p><b style="font-weight: bold;">出力行列</b></p>
</td>
<td>
<p>出力行列を指定します。デフォルトで、新しい画像が作成され、出力として使われます。</p>
</td>
</tr>
<tr>
<td>
<p><b style="font-weight: bold;">アンカー形状</b></p>
</td>
<td>
<p>アンカーの形状(楕円または矩形)を指定します。</p>
</td>
</tr>
<tr>
<td>
<p><b style="font-weight: bold;">自動レベルの適用</b></p>
</td>
<td>
<p>このチェックボックスは、補間した背景を減算した後、画像への自動色レベルを適用するかかどうかを指定します。</p>
</td>
</tr>
<tr>
<td>
<p><b style="font-weight: bold;">明るさを調整</b></p>
</td>
<td>
<p>補間した背景の明るさの増減を指定します。この値は－10から10までの整数値です。負の値は画像を暗くし、正の値は画像を明るくします。</p>
</td>
</tr>
</table>
<p><br /></p>
<a name="Description" id="Description"></a>
<h2><span class="mw-headline">説明</span></h2>
<p>この関数は、補間ｓた背景を作成し、画像からそれを取り除きます。</p>
<p>この関数は、<b>Xファンクションパネル</b>内に表示されます。アンカーの数を増やしたり、減らしたり、画像のアンカーを移動したり、サイズ変更して、背景を補間します。</p>
<p>この関数をグレースケールのみをサポートします。</p>
<a name="Examples" id="Examples"></a>
<h2><span class="mw-headline">サンプル</span></h2>
<p>次のサンプルは、入力画像から補間した背景を減算する方法を示しています。</p>
<p>1. 新しい行列を作成し、\Samples\Image Processing and Analysisフォルダにある <b>Flower.jpg</b> ファイルをインポートします。</p>
<p>2. メニューから「<b>イメージ：変換：カラーからグレーへ</b>」を選択し、グレースケールを8にセットして、画像を8ビットグレースケールに変換します。</p>
<p>3. メニューから「<b>イメージ：代数的変換：補間背景の除去</b>」を選択し、入力画像の隣にXファンクションパネルを開きます。</p>
<p>4. 画像の<b>anchors</b> を移動、サイズ変更し、下のように設定を変更します。</p>
<dl>
<dd><img src="../images/ImgSubtractInterpBG/BKSubMethod2Setting.png" alt="" style="border: none;" width="584" height="416" border="0" /></dd>
</dl>
<p>補間した背景と減算した画像のプレビューが<b>imgSubtractIn</b>という名前の新しい行列ブックに表示されます。</p>
<dl>
<dd>
<table class="NormalTable" style="border-collapse: separate; border-collapse: separate;" border="1">
<tr>
<td>
<p style="text-align: center;"><a href=""><img alt="Image:BKSubMethod2Input.png" src="../images/ImgSubtractInterpBG/BKSubMethod2Input.png" title="Image:BKSubMethod2Input.png" width="271" height="258" border="0" /></a></p>
</td>
<td>
<p style="text-align: center;"><a href=""><img alt="Image:BKSubMethod2Ouput.png" src="../images/ImgSubtractInterpBG/BKSubMethod2Ouput.png" title="Image:BKSubMethod2Ouput.png" width="273" height="257" border="0" /></a></p>
</td>
</tr>
<tr>
<td>
<p style="text-align: center;"><b style="font-weight: bold;">元の画像</b></p>
</td>
<td>
<p style="text-align: center;"><b style="font-weight: bold;">減算した後のプレビュー出力</b></p>
</td>
</tr>
</table>
</dd>
</dl>
<p>5. 　<b>OK</b> ボタンをクリックし、出力画像は、<b>SubtractedBG</b>という名前の新しい行列ブックに出力されます。<br /></p>
<a name="Algorithm" id="Algorithm"></a>
<h2><span class="mw-headline">アルゴリズム</span></h2>
<p>補間した背景を作成するには、アンカーエリア内のX, Y, Z (強度)の平均値が計算され、そして、背景画像がランダムグリッディング変換のアルゴリズム <b>TPS(Thin Plain Spline )</b> により、これらのXYZ値からグリッディングされます。</p>
<p>補間した画像を減算する計算は、主にLEADTOOLS Main APIの <b>L_CombineBitmapExt</b> 関数を使用しています。Backgroundとして<i>Brighter than the Foreground</i> <b>が選択されると、背景の色が反転され、背景と入力画像が加算されます。</b> <b>Background</b>として <i>Darker than the Foreground</i> が選択されると、背景と入力画像が減算されます。</p>
<p>画像がどのように逆になり、2つの画像がどのように組み合わせられるかについては、LEADTOOLS Main API Version 14 ヘルプファイルを参照し、トピックL_InvertBitmapおよび L_CombineBitmapExtを読んでください。</p>
<a name="References" id="References"></a>
<h2><span class="mw-headline">参考文献</span></h2>
<p>LEADTOOLS Main API Help file, Version 14</p>
<a name="Related_X-Functions" id="Related_X-Functions"></a>
<h2><span class="mw-headline">関連のXファンクション</span></h2>
<p><a href="ImgSubtractBg.html" title="X-Function:ImgSubtractBg">imgSubtractBg</a>, <a href="ImgReplaceBg.html" title="X-Function:ImgReplaceBg">imgReplaceBg</a>, <a href="ImgAutoLevel.html" title="X-Function:ImgAutoLevel">imgAutoLevel</a>, <a href="ImgBrightness.html" title="X-Function:ImgBrightness">imgBrightness</a></p>
