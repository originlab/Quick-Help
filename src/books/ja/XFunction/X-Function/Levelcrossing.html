<h1 class="firstheading">levelcrossing</h1>
<table id="toc" class="toc" summary="Contents">
	<tr>
		<td><div id="toctitle">
			<h2>内容</h2>
		</div>
		<ol>
			<li class="toclevel-1"><a href="#Brief_Information"><span class="tocnumber">1</span> 
			 <span class="toctext">概要</span></a></li>
			<li class="toclevel-1"><a href="#Additional_Information"><span 
			 class="tocnumber">2</span> <span class="toctext">追加の情報</span></a></li>
			<li class="toclevel-1"><a href="#Command_Line_Usage"><span 
			 class="tocnumber">3</span> <span class="toctext">コマンドラインでの使用法</span></a></li>
			<li class="toclevel-1"><a href="#Variables"><span class="tocnumber">4</span> 
			 <span class="toctext">変数</span></a></li>
			<li class="toclevel-1"><a href="#Description"><span class="tocnumber">5</span> 
			 <span class="toctext">説明</span></a></li>
			<li class="toclevel-1"><a href="#Examples"><span class="tocnumber">6</span> 
			 <span class="toctext">サンプル</span></a></li>
		</ol></td>
	</tr>
</table>

<a name="Brief_Information" id="Brief_Information"></a> 
<h2><span class="mw-headline">概要</span></h2>
<p>指定したレベルと交差するX座標を取得します。</p>
<a name="Additional_Information" id="Additional_Information"></a> 
<h2><span class="mw-headline">追加の情報</span></h2>
<p>必要なOriginのバージョン:8.1 SR0, updated in 8.6</p>
<a name="Command_Line_Usage" id="Command_Line_Usage"></a> 
<h2><span class="mw-headline">コマンドラインでの使用法</span></h2>
<ol>
	<li style="font-family: monospace;"><code style="font-family: monospace;">levelcrossing 
	 iy:=col(2) level:=2;</code></li>
	<li style="font-family: monospace;"><code style="font-family: monospace;">levelcrossing 
	 iy:=col(2) level:=500 direction:=&lt;new&gt; xindex:=&lt;new&gt; type:=left 
	 pts:=2;</code></li>
</ol>
<a name="Variables" id="Variables"></a> 
<h2><span class="mw-headline">変数</span></h2>
<table class="xfvar">
	<tr>
		<th style="width: 8%;">表示<br />
		名</th>
		<th style="width: 8%;">変数<br />
		名</th>
		<th style="width: 8%;">I/O<br />
		と<br />
		データ型</th>
		<th style="width: 8%;">デフォルト<br />
		値</th>
		<th>説明</th>
	</tr>
	<tr>
		<td>入力</td>
		<td>iy</td>
		<td><p>入力</p>
		<p>XYRange</p></td>
		<td><p style="text-align: center;">&lt;active&gt;</p></td>
		<td>入力データセットを指定します。</td>
	</tr>
	<tr>
		<td>交差レベル</td>
		<td>level</td>
		<td><p>入力</p>
		<p>double</p></td>
		<td><p style="text-align: center;">0</p></td>
		<td>レベルとしてY値を指定します。そして、Xファンクションがこのレベルを交差するポイントを検出します。</td>
	</tr>
	<tr>
		<td><p>&#160;</p></td>
		<td>ncrossing</td>
		<td><p>出力</p>
		<p>int</p></td>
		<td><p style="text-align: center;">&lt;新規&gt;</p></td>
		<td>交差ポイントの出力数を指定します。この変数は、ダイアログボックスに表示されません。しかし、この変数の値は、このXファンクションを実行した後、コマンドウィンドウで<code>levelcrossing.ncrossing=;</code>と実行することで変数の値を取得できます。</td>
	</tr>
	<tr>
		<td>交差ポイントのX値</td>
		<td>oy</td>
		<td><p>出力</p>
		<p>vector</p></td>
		<td><p style="text-align: center;">&lt;新規&gt;</p></td>
		<td>交差ポイントのX値の出力を指定し、X列として設定します。</td>
	</tr>
	<tr>
		<td>方向</td>
		<td>direction</td>
		<td><p>出力</p>
		<p>vector</p></td>
		<td><p style="text-align: center;">&lt;新規&gt;</p></td>
		<td>交差のの方向の出力を指定します。1は上方向、-1は下方向、0は差が0、Y列として設定します。</td>
	</tr>
	<tr>
		<td>Xインデックス</td>
		<td>xindex</td>
		<td><p>出力</p>
		<p>vector</p></td>
		<td><p style="text-align: center;">&lt;新規&gt;</p></td>
		<td>交差ポイントのX値の出力を指定し、ラベル列として設定します。</td>
	</tr>
	<tr>
		<td>Y交差値</td>
		<td>yval</td>
		<td><p>出力</p>
		<p>vector</p></td>
		<td><p style="text-align: center;">&lt;新規&gt;</p></td>
		<td>Y列として設定している入力レベルの交差値と同じであるY値の出力を指定します。</td>
	</tr>
	<tr>
		<td>最も近いタイプ</td>
		<td>type</td>
		<td><p>入力</p>
		<p>int</p></td>
		<td><p style="text-align: center;">0</p></td>
		<td>交差ポイントが補間され元のデータではないとき、交差ポイントのXインデックスを出力する方法を指定します。 
		<p>オプションリスト:</p>
		<ul>
			<li><i style="font-style: italic;">any:Any</i> 
			<dl>
				<dd>交差ポイントに最も近いポイントのインデックスが出力されます。</dd>
			</dl></li>
			<li><i style="font-style: italic;">Left:Left</i> 
			<dl>
				<dd>交差ポイントの左側へのポイントのインデックスが出力されます。</dd>
			</dl></li>
			<li><i style="font-style: italic;">Right:Right</i> 
			<dl>
				<dd>交差ポイントの右側へのポイントのインデックスが出力されます。</dd>
			</dl></li>
		</ul></td>
	</tr>
	<tr>
		<td>ポイント間</td>
		<td>pts</td>
		<td><p>入力</p>
		<p>int</p></td>
		<td><p style="text-align: center;">1</p></td>
		<td>この変数は、対の交差ポイントのレベルの出力を制御するのに使われます。対のポイントの距離(インデックス)は、指定した期間より小さくてはなりません。または両方のポイントが無視されます。整数のみが受け入れられます。</td>
	</tr>
</table>
<a name="Description" id="Description"></a> 
<h2><span class="mw-headline">説明</span></h2>
<p>このXファンクションは、入力曲線は指定したレベルと交差する位置(X値)を見つけます。例えば、レベルを0とセットすると、0での交差ポイント(曲線が0を通る)が出力されます。0での交差ポイントは、いくつかの特別な曲線では意味があります。X値、Xインデックス、交差の方向、Y交差値を含む出力は選択可能です。また、期間はノイズを取り除くために指定できます。</p>
<p>位置を取得するために線形補間が行われます。</p>
<a name="Examples" id="Examples"></a> 
<h2><span class="mw-headline">サンプル</span></h2>
<p>次の例では、500で交差する曲線の位置を探します。</p>
<dl>
	<dd><a style="color: #0000ff; text-decoration: underline; "><img alt="Image:levelcrossing_1.png" 
	 src="../images/Levelcrossing/Levelcrossing_1.png" title="Image:levelcrossing_1.png" 
	 width="421" height="325" border="0" /></a></dd>
</dl>
<ol>
	<li>インポートウィザードを使って、データ <i>&lt;Origin Installation Directory&gt;\Samples\graphing\waterfall.dat</i> 
	 を空のワークシートにインポートします。</li>
	<li>col(B)を選択し、コマンドウィンドウに<code>levelcrossing -d;</code>と入力し、<b>levelcrossing</b> 
	 ダイアログを開きます。</li>
	<li><b style="font-weight: bold;">交差レベル</b>に<b>500</b> と入力します。次の図のように設定を変更します。 
	 
	<dl>
		<dd><img src="../images/Levelcrossing/Levelcrossing_2.png" alt="" 
				 style="border: none;" width="412" height="372" border="0" /></dd>
	</dl></li>
	<li><b style="font-weight: bold;">OK</b> ボタンをクリックすると、4つの新しい列がワークシートに追加され、500レベルに対応するX座標、交差の方向XインデックスとY交差値がそこに出力されます。 
	 
	<dl>
		<dd><a style="color: #0000ff; text-decoration: underline; "><img 
		 alt="Image:Levelcrossing_3.png" src="../images/Levelcrossing/Levelcrossing_3.png" 
		 title="Image:Levelcrossing_3.png" width="293" height="217" border="0" /></a></dd>
	</dl></li>
	<li>コマンドウィンドウに <code>levelcrossing.ncrossing=;</code> を実行し、交差ポイントの数が次のように表示されます。</li>
</ol>
<pre>
LEVELCROSSING.NCROSSING=8</pre>
