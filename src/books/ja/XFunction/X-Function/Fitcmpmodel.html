<h1 class="firstheading">fitcmpmodel(Pro)</h1>
<table id="toc" class="toc">
<tr>
<td>
<div id="toctitle">
<h2>内容</h2>
</div>
<ol>
<li class="toclevel-1 tocsection-1"><a href="#Menu_Information"><span class="tocnumber">1</span> <span class="toctext">メニュー情報</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Brief_Information"><span class="tocnumber">2</span> <span class="toctext">概要</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Additional_Information"><span class="tocnumber">3</span> <span class="toctext">追加の情報</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Variables"><span class="tocnumber">4</span> <span class="toctext">変数</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Description"><span class="tocnumber">5</span> <span class="toctext">説明</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Examples"><span class="tocnumber">6</span> <span class="toctext">サンプル</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#Algorithm"><span class="tocnumber">7</span> <span class="toctext">アルゴリズム</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#References"><span class="tocnumber">8</span> <span class="toctext">参考文献</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="#Related_X-Functions"><span class="tocnumber">9</span> <span class="toctext">関連のXファンクション</span></a></li>
</ol>
</td>
</tr>
</table>
<h2><a name="Menu_Information" id="Menu_Information"></a><span class="mw-headline">メニュー情報</span></h2>
<p>モデルの比較</p>
<h2><a name="Brief_Information" id="Brief_Information"></a><span class="mw-headline">概要</span></h2>
<p>同じデータセット内にある、2つのフィットモデルを比較します。</p>
<h2><a name="Additional_Information" id="Additional_Information"></a><span class="mw-headline">追加の情報</span></h2>
<p>このコマンドはスクリプトからアクセスできません。これはOrigin Proのみの機能です。</p>
<h2><a name="Variables" id="Variables"></a><span class="mw-headline">変数</span></h2>
<table class="xfvar">
<tr>
<th style="width: 8%;">表示名</th>
<th style="width: 8%;">変数名</th>
<th style="width: 8%;">I/Oとタイプ</th>
<th style="width: 8%;">デフォルト値</th>
<th>説明</th>
</tr>
<tr>
<td>フィット結果1</td>
<td>result1</td>
<td>
<p>入力</p>
<p>範囲</p>
</td>
<td>&#160;</td>
<td>異なるモデルで同じデータセットをフィットしたレポートシートを指定します。</td>
</tr>
<tr>
<td>フィット結果2</td>
<td>result2</td>
<td>
<p>入力</p>
<p>範囲</p>
</td>
<td>&#160;</td>
<td>異なるモデルで同じデータセットをフィットしたレポートシートを指定します。</td>
</tr>
<tr>
<td>AIC(赤池情報量規準)</td>
<td>aic</td>
<td>
<p>入力</p>
<p>int</p>
</td>
<td>1</td>
<td>赤池情報量基準(AIC)の結果を比較の為に出力するかどうか指定します。この方法はモデルの比較に関して、制限が少なくなります。</td>
</tr>
<tr>
<td>BIC(ベイズ情報量基準)</td>
<td>bic</td>
<td>
<p>入力</p>
<p>int</p>
</td>
<td>0</td>
<td>ベイズ情報量基準(BIC)の結果を比較の為に出力するかどうか選択して判断します。BICはAICに比べて大きなペナルティが課せられ、これはデータの加重フィットを解決するために使用します。</td>
</tr>
<tr>
<td>F検定</td>
<td>ftest</td>
<td>
<p>入力</p>
<p>int</p>
</td>
<td>0</td>
<td>F検定の結果を比較の為に出力するかどうか指定します。F検定は階層（ネスト）モデルでないと意味を成しません。</td>
</tr>
<tr>
<td>フィットパラメータ</td>
<td>param</td>
<td>
<p>入力</p>
<p>int</p>
</td>
<td>1</td>
<td>比較に対してフィットパラメータを出力するか判断します。</td>
</tr>
<tr>
<td>フィット統計</td>
<td>statics</td>
<td>
<p>入力</p>
<p>int</p>
</td>
<td>1</td>
<td>比較に対してフィット統計表を出力するか判断します。</td>
</tr>
<tr>
<td>第1モデル名</td>
<td>name1</td>
<td>
<p>入力</p>
<p>文字列</p>
</td>
<td>Model1</td>
<td>レポートシートの最初のモデルの表示名を指定します。</td>
</tr>
<tr>
<td>第2モデル名</td>
<td>name2</td>
<td>
<p>入力</p>
<p>文字列</p>
</td>
<td>Model2</td>
<td>レポートシートの2つ目のモデルの表示名を指定します。</td>
</tr>
<tr>
<td>結果</td>
<td>rt</td>
<td>
<p>出力</p>
<p>ReportTree</p>
</td>
<td>&lt;新規&gt;</td>
<td>出力レポートの保存場所を指定します。</td>
</tr>
</table>
<h2><a name="Description" id="Description"></a><span class="mw-headline">説明</span></h2>
<p>このツールは同じデータセットに対して、どのフィットが最適かを確認するのに使用できます。</p>
<p>通常、最もよいフィットかどうかを確認するのに、自由度あたりのカイ二乗の値を比較するように習います。これは当てはまりの良さを確認する、とてもよい方法です。数値が1.0に近ければ近いほど、モデルはデータを良く表しています。しかし、それぞれのポイントで分散が入力されるため、カイ二乗の計算値は正確に分かりません。カイ二乗検定は統計的に意味をなさないことになります。</p>
<p>よって、次の2通りの方法でモデル比較を行います。</p>
<p><b style="font-weight: bold;">F検定</b></p>
<p>F検定は残差の二乗和のそれぞれのモデルの値が異なることを利用して、この値の差からどのモデルが一番いいのかを調べます。F検定は残差の二乗和をよりシンプルなモデルで取り除かれた要素とより複雑なモデルで取り除かれた要素を加えて比較します。よって、2つのモデルが階層(ネスト)しているのは理にかなっています。この方法は次のような状況で使用してください。</p>
<p>1.2つのモデルの数式は同じような構造である必要があります。例えば、</p>
<dl>
<dd><a class="image" style="color: #0000ff; text-decoration: underline;"><img alt="Fitcmpmodel help English files image002.gif" src="../images/Fitcmpmodel/Fitcmpmodel_help_English_files_image002.gif" width="125" height="25" border="0" /></a> <i>vs</i>. <a class="image"><img alt="Fitcmpmodel help English files image004.gif" src="../images/Fitcmpmodel/Fitcmpmodel_help_English_files_image004.gif" width="208" height="25" border="0" /></a></dd>
</dl>
<p>2.パラメータが固定されたモデル vs. パラメータを固定していないモデル</p>
<p><b style="font-weight: bold;">AIC(赤池情報量規準)</b></p>
<p>赤池情報量基準はどのモデルが最もデータを元に現実的な値を推定できるのか検索します。ネストしたモデルでもネストの無いモデルでも、同時に比較できます。有意に関するコンセプトに依存しないため、AICは最大尤度とランクモデルで構築されています。つまり、AICを元にした不特定要素を追加したモデルでは堅牢で細かい推定結果が取得できます。</p>
<p>このツールを使用するには、次の事に気をつけてください。</p>
<ul>
<li>このツールの入力はフィットレポートシート(線形フィット、多項式、非線形曲線フィットなど)です。つまりフィットツールはこのツールを実行する前に行う必要があります。</li>
</ul>
<ul>
<li>レポートシートの最初の結果のみを使用します。つまり、複数のデータセットをフィットする時、それぞれ異なるシートに結果が入力されている事が必要です。</li>
</ul>
<p><br /></p>
<p><b style="font-weight: bold;">BIC(ベイズ情報量基準)</b></p>
<p>ベイズ情報量基準はモデルセクションの項目で、Schwarz (1978)に由来します。これはAICのベイズ修正を加えた項目です。BIC検定に課されるペナルティはAIC数式と似ていますが、定数2の代わりに<i>k</i>に対する<i>ln(n)</i> を乗数として使い、サンプルサイズ<i>n</i>を要素に加えます。 これはデータフィットに関するオーバーフィットの問題を回避できます。</p>
<p>2つのモデルを比較する時、BICの値が低い方がデータによって好まれます。</p>
<h2><a name="Examples" id="Examples"></a><span class="mw-headline">サンプル</span></h2>
<p>例えば、データセットがありそれにもっともよくフィットするモデルを探したいとします。</p>
<p>比較の候補モデルは次の通りです。</p>
<p>ExpDec1 <a class="image"><img alt="Fitcmpmodel help English files image006.gif" src="../images/Fitcmpmodel/Fitcmpmodel_help_English_files_image006.gif" width="99" height="31" border="0" /></a></p>
<p>ExpDec2 <a class="image"><img alt="Fitcmpmodel help English files image008.gif" src="../images/Fitcmpmodel/Fitcmpmodel_help_English_files_image008.gif" width="168" height="33" border="0" /></a></p>
<p><b style="font-weight: bold;">操作</b></p>
<p>1．\<i>Samples</i>\<i>Curve Fitting</i> フォルダ内にある、 <i>Exponential Decay.dat</i> をインポートします。</p>
<p>2．列Bを選択し、<b>解析：フィット：非線形曲線フィット</b>を選択してダイアログを開きます。<b>関数</b>を<b>ExpDec1</b>にセットします。<b>OK</b> をクリックすると結果シートができます。</p>
<p>3．<b>非線形曲線フィット</b>ダイアログを再び開き、関数としては<b>ExpDec2</b>をセットします。<b>OK</b> をクリックすると結果シートができます。</p>
<p>4．メニューから、<b>解析：フィット：モデルの比較</b>を選択してダイアログを開きます。</p>
<p>5．参照ボタンをクリックして<b>レポートツリーブラウザ</b>を開き、<b>フィット結果1</b>のために項目を一つ選びます。</p>
<p>6．同じ操作をして<b>フィット結果2</b>にもう一つの項目を入力します。</p>
<p>7.GUIの中にある全てのオプションを選択して<b>OK</b>をクリックします。</p>
<p>8．F検定表とAIC結果テーブルから、ExpDec1関数が最も良くフィットするモデルだと結論付ける事ができます。</p>
<h2><a name="Algorithm" id="Algorithm"></a><span class="mw-headline">アルゴリズム</span></h2>
<p><b style="font-weight: bold;">1.F検定</b></p>
<p><b style="font-weight: bold;">F統計量</b></p>
<dl>
<dd>
<dl>
<dd><a class="image" style="color: #0000ff; text-decoration: underline;"><img alt="Fitcmpmodel help English files image010.gif" src="../images/Fitcmpmodel/Fitcmpmodel_help_English_files_image010.gif" width="213" height="48" border="0" /></a></dd>
</dl>
</dd>
</dl>
<dl>
<dd>
<dl>
<dd><i style="font-style: italic;">RSS</i>1 はシンプルな方の残差の二乗和で、 <i>RSS</i>2はもう片方のモデルの残差の二乗和です。</dd>
</dl>
</dd>
</dl>
<p><b style="font-weight: bold;">確率</b></p>
<dl>
<dd>
<dl>
<dd><a class="image" style="color: #0000ff; text-decoration: underline;"><img alt="Fitcmpmodel help English files image012.gif" src="../images/Fitcmpmodel/Fitcmpmodel_help_English_files_image012.gif" width="196" height="23" border="0" /></a></dd>
</dl>
</dd>
</dl>
<p><b style="font-weight: bold;">2.AIC(赤池情報量規準)</b></p>
<p><b style="font-weight: bold;">AIC</b></p>
<dl>
<dd>
<dl>
<dd><a class="image" style="color: #0000ff; text-decoration: underline;"><img alt="Fitcmpmodel help English files image014.gif" src="../images/Fitcmpmodel/Fitcmpmodel_help_English_files_image014.gif" width="336" height="96" border="0" /></a></dd>
</dl>
</dd>
</dl>
<dl>
<dd>
<dl>
<dd><i style="font-style: italic;">N</i>はデータポイントの数、<i>K</i>はパラメータの数＋1、<i>RSS</i>はフィットの残差の二乗になります。</dd>
</dl>
</dd>
</dl>
<p><b style="font-weight: bold;">重み</b></p>
<dl>
<dd>
<dl>
<dd><a class="image" style="color: #0000ff; text-decoration: underline;"><img alt="Fitcmpmodel help English files image016.gif" src="../images/Fitcmpmodel/Fitcmpmodel_help_English_files_image016.gif" width="192" height="44" border="0" /></a></dd>
</dl>
</dd>
</dl>
<dl>
<dd>
<dl>
<dd>ここで<a class="image"><img alt="Fitcmpmodel help English files image018.gif" src="../images/Fitcmpmodel/Fitcmpmodel_help_English_files_image018.gif" width="41" height="19" border="0" /></a>は、2つのAIC値間の差です。</dd>
</dl>
</dd>
</dl>
<p><b style="font-weight: bold;">3.Schwarz BIC(ベイズ情報量基準)</b></p>
<p><b style="font-weight: bold;">BIC</b></p>
<dl>
<dd>
<dl>
<dd><img src="../images/Fitcmpmodel/math-d02fad951640046d84cc422de3c2f0ca.png" title="BIC=N\ln \left(\frac{RSS}{N} \right)+K\ln \left(N \right)" alt="BIC=N\ln \left(\frac{RSS}{N} \right)+K\ln \left(N \right)" class="tex" border="0" /></dd>
</dl>
</dd>
</dl>
<dl>
<dd>
<dl>
<dd><i style="font-style: italic;">N</i>はデータポイントの数、<i>K</i>はパラメータの数＋1、<i>RSS</i>はフィットの残差の二乗になります。</dd>
<dd>
<p>&#160;</p>
</dd>
</dl>
</dd>
</dl>
<p><br /></p>
<h2><a name="References" id="References"></a><span class="mw-headline">参考文献</span></h2>
<p>1.<cite>Akaike</cite><cite>, Hirotsugu (1974). "A new look at the statistical model identification".</cite> <cite>IEEE Transactions on Automatic Control</cite><cite>19 (6): 716-723</cite></p>
<p>2.Burnham, K. R. and D. R. Anderson. 2002. <i>Model Selection and Multimodel Inference</i>. Springer, New York.</p>
<h2><a name="Related_X-Functions" id="Related_X-Functions"></a><span class="mw-headline">関連のXファンクション</span></h2>
<p><a href="../../XFunction/X-Function/Fitcmpdata.html" title="Xファンクション:Fitcmpdata">fitcmpdata</a></p>


