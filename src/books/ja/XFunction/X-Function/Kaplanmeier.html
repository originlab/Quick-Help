<h1 class="firstheading">kaplanmeier(Pro)</h1><p><br />
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>目次</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Menu_Information"><span class="tocnumber">1</span> <span class="toctext">メニュー情報</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Brief_Information"><span class="tocnumber">2</span> <span class="toctext">概要</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Additional_Information"><span class="tocnumber">3</span> <span class="toctext">追加の情報</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Command_Line_Usage"><span class="tocnumber">4</span><span class="toctext">コマンドラインでの使用法</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#X-Function_Execution_Options"><span class="tocnumber">5</span> <span class="toctext">Xファンクションの実行オプション</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Variables"><span class="tocnumber">6</span> <span class="toctext">変数</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#Examples"><span class="tocnumber">7</span> <span class="toctext">サンプル</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#More_Information"><span class="tocnumber">8</span> <span class="toctext">詳細な情報</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="#Related_X-Functions"><span class="tocnumber">9</span> <span class="toctext">関連するXファンクション</span></a></li>
</ul>
</div>

<h2><a name="Menu_Information"></a><span class="mw-headline">メニュー情報</span></h2>
<p><b>統計：生存分析：Kaplan-Meier法</b>
</p>
<h2><a name="Brief_Information"></a><span class="mw-headline">概要</span></h2>
<p>Kaplan-Meier (product-limit、積極限推定量) 法解析を実行します。
</p>
<h2><a name="Additional_Information"></a><span class="mw-headline">追加の情報</span></h2>
<p>これはOriginProのみの機能です。
</p>
<h2><a name="Command_Line_Usage"></a><span class="mw-headline">コマンドラインでの使用法</span></h2>
<pre>
1. kaplanmeier irng:=(1,2) censor:=0 
2. kaplanmeier irng:=(1,2,3) censor:=0 hazard:=1 
</pre>
<h2><a name="X-Function_Execution_Options"></a><span class="mw-headline">Xファンクションの実行オプション</span></h2>
<p><a class="external text" href="../../LabTalk/LabTalk/X-Function_Execution_Options.html">スクリプトからXファンクションにアクセスする場合、追加のオプションスイッチについてのページを参照してください。</a>
</p>
<h2><a name="Variables"></a><span class="mw-headline">変数</span></h2>
<table class="xfvar">
<tr>
<th width="8%">表示<br />名
</th>
<th width="8%">変数<br />名
</th>
<th width="8%">I/O<br />と<br />データ型
</th>
<th width="8%">デフォルト<br />値
</th>
<th>説明
</th></tr>
<tr>
<td>入力
</td>
<td>irng
</td>
<td>
<p>入力
</p><p>Range
</p>
</td>
<td> <center></center>
</td>
<td>
<p>時間データ範囲、打ち切りデータ範囲、グループ範囲を含む、分析のデータ範囲を指定します。
</p><p>時間データ範囲
</p><p>時間データ列の指定
</p><p>打ち切りデータ範囲
</p><p>打ち切りデータ列の指定
</p><p>グループ範囲
</p><p>グループデータ範囲の指定
</p>
</td></tr>
<tr>
<td>打ち切り値
</td>
<td>censor
</td>
<td>
<p>入力
</p><p>vector
</p>
</td>
<td> <center></center>
</td>
<td>
<p>観測データセット内のどの時間値が打ち切られているかを識別する打ち切り対象値を指定します。
</p>
</td></tr>
<tr>
<td>イベントと打ち切り値のサマリー
</td>
<td>summary
</td>
<td>
<p>入力
</p><p>int
</p>
</td>
<td> <center>1</center>
</td>
<td>
<p>イベントと打ち切り値のサマリーを出力するためのチェックボックスです。
</p>
</td></tr>
<tr>
<td>生存推定量	
</td>
<td>survfunc
</td>
<td>
<p>入力
</p><p>int
</p>
</td>
<td> <center>1</center>
</td>
<td>
<p>生存推定量結果を出力するチェックボックスです。
</p>
</td></tr>
<tr>
<td>四分位の推定量
</td>
<td>quartile
</td>
<td>
<p>入力
</p><p>int
</p>
</td>
<td> <center>0</center>
</td>
<td>
<p>四分位の結果を出力するチェックボックスです。
</p>
</td></tr>
<tr>
<td>平均の推定量
</td>
<td>mean
</td>
<td>
<p>入力
</p><p>int
</p>
</td>
<td> <center>0</center>
</td>
<td>
<p>平均の結果を出力するチェックボックスです。
</p>
</td></tr>
<tr>
<td>四分位/平均の推定量の信頼水準(%)
</td>
<td>conf
</td>
<td>
<p>入力
</p><p>double
</p>
</td>
<td> <center>95</center>
</td>
<td>
<p>生存関数に対する計算誤差および四分位数の上側および下側限界を推定するときに使用される信頼水準を入力するテキストボックスです。
</p>
</td></tr>
<tr>
<td>生存グラフ
</td>
<td>sf
</td>
<td>
<p>入力
</p><p>int
</p>
</td>
<td> <center>1</center>
</td>
<td>
<p>生存曲線を出力するチェックボックスです。
</p>
</td></tr>
<tr>
<td>信頼区間を追加
</td>
<td>sfci
</td>
<td>
<p>入力
</p><p>int
</p>
</td>
<td> <center>0</center>
</td>
<td>
<p>生存曲線に信頼区間を追加します。
</p>
</td></tr>
<tr>
<td>One Minus生存グラフ
</td>
<td>omsf
</td>
<td>
<p>入力
</p><p>int
</p>
</td>
<td> <center>0</center>
</td>
<td>
<p>One Minus生存グラフ、つまり、累積分布曲線を出力するためのチェックボックスです。
</p>
</td></tr>
<tr>
<td>ハザードグラフ
</td>
<td>hazard
</td>
<td>
<p>入力
</p><p>int
</p>
</td>
<td> <center>0</center>
</td>
<td>
<p>ハザード曲線を出力するチェックボックスです。
</p>
</td></tr>
<tr>
<td>対数生存グラフ
</td>
<td>lsf
</td>
<td>
<p>入力
</p><p>int
</p>
</td>
<td> <center>0</center>
</td>
<td>
<p>対数生存曲線を出力するチェックボックスです。
</p>
</td></tr>
<tr>
<td>打ち切り値をマーク
</td>
<td>cmark
</td>
<td>
<p>入力
</p><p>int
</p>
</td>
<td> <center>1</center>
</td>
<td>
<p>チェックを付けると打ち切り値をマークします。
</p>
</td></tr>
<tr>
<td>1つのグラフにすべての生存曲線をプロット
</td>
<td>plotinone
</td>
<td>
<p>入力
</p><p>int
</p>
</td>
<td> <center>1</center>
</td>
<td>
<p>1つのグラフウィンドウにすべての生存曲線をプロットするにはチェックを付けます。
</p>
</td></tr>
<tr>
<td>ログランク法
</td>
<td>logrank
</td>
<td>
<p>入力
</p><p>int
</p>
</td>
<td> <center>0</center>
</td>
<td>
<p>ログランク法を使って、異なるグループの生存分布が等しいかどうかを検定します。
</p>
</td></tr>
<tr>
<td>Breslow法
</td>
<td>breslow
</td>
<td>
<p>入力
</p><p>int
</p>
</td>
<td> <center>0</center>
</td>
<td>
<p>Breslow法を使って、異なるグループの生存分布が等しいかどうかを検定します。
</p>
</td></tr>
<tr>
<td>Tarone-Ware法
</td>
<td>tarone
</td>
<td>
<p>入力
</p><p>int
</p>
</td>
<td> <center>0</center>
</td>
<td>
<p>Tarone-Ware法を使って、異なるグループの生存分布が等しいかどうかを検定します。
</p>
</td></tr>
<tr>
<td>一対比較
</td>
<td>pairwise
</td>
<td>
<p>入力
</p><p>int
</p>
</td>
<td> <center>0</center>
</td>
<td>
<p>同等性検定のいずれかを選択すると、3つ以上のグループを比較するためのペアワイズ比較を有効にできます。
</p>
</td></tr>
<tr>
<td>生存関数
</td>
<td>rd
</td>
<td>
<p>出力
</p><p>ReportData
</p>
</td>
<td> <center>[&lt;入力&gt;]&lt;新規&gt;</center>
</td>
<td>
<p>生存曲線データの出力先を指定します。
</p>
</td></tr>
<tr>
<td>結果の出力
</td>
<td>rt
</td>
<td>
<p>出力
</p><p>ReportTree
</p>
</td>
<td> <center>[&lt;入力&gt;]&lt;新規&gt;</center>
</td>
<td>
<p>レポートワークシートの出力先を指定します。
</p>
</td></tr></table>
<h2><a name="Examples"></a><span class="mw-headline">サンプル</span></h2>
<ul><li> サンプルコード</li></ul>
<pre class="lt" style="font-family:monospace;"><span style="color: #008000; font-style: regular;">/*
この例は、積極限法を使用して生存率を推定する方法を示すものです。
OriginPath\Samples\Statisticsフォルダのサンプルデータを使用します。
1.サンプルデータをOriginのブックにインポート
2. kaplanmeier XFを使用して、生存関数の値を計算
3. 結果を新しいシートに出力
4.新しいグラフに生存関数をプロットします。
*/</span>
<span style="color: #008000; font-style: regular;">/*新しいブックにサンプルデータをインポート*/</span>
String fname<span style="color: #000080;">$</span><span style="color: #000080;">=</span>system.<span style="color: #000080;">path</span>.<span style="color: #000080;">program</span><span style="color: #000080;">$</span><span style="color: #000080;">+</span><span style="color: #ff00ff;">&quot;Samples\Statistics\Kaplan-Meier.dat&quot;</span>;
newbook;
impASC;
string bkn<span style="color: #000080;">$</span><span style="color: #000080;">=</span><span style="color: #000080;">%</span>H;

<span style="color: #008000; font-style: regular;">/*kaplanmeier XFを使用して生存関数の値を計算*/</span>
kaplanmeier irng<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #000000;">[</span>bkn<span style="color: #000080;">$</span><span style="color: #000000;">]</span><span style="color: #0000dd;">1</span><span style="color: #000080;">!</span><span style="color: #000000;">(</span>col<span style="color: #000000;">(</span><span style="color: #0000dd;">1</span><span style="color: #000000;">)</span>,col<span style="color: #000000;">(</span><span style="color: #0000dd;">2</span><span style="color: #000000;">)</span><span style="color: #000000;">)</span> censor<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">0</span> quartile<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">1</span> mean<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">1</span> rt<span style="color: #000000;">:</span><span style="color: #000080;">=&lt;</span>new name<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #ff00ff;">&quot;KaplanMeier&quot;</span><span style="color: #000080;">&gt;</span>;

<span style="color: #008000; font-style: regular;">/*「Survival Function Plot」という名前の新しいグラフに生存関数をプロット*/</span>
plotxy iy<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #000000;">[</span>bkn<span style="color: #000080;">$</span><span style="color: #000000;">]</span><span style="color: #0000dd;">2</span><span style="color: #000080;">!</span><span style="color: #000000;">(</span>col<span style="color: #000000;">(</span><span style="color: #0000dd;">1</span><span style="color: #000000;">)</span>,col<span style="color: #000000;">(</span><span style="color: #0000dd;">2</span><span style="color: #000000;">)</span><span style="color: #000000;">)</span> plot<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">202</span> ogl<span style="color: #000000;">:</span><span style="color: #000080;">=&lt;</span>new name<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #ff00ff;">&quot;Survival Function Plot&quot;</span><span style="color: #000080;">&gt;</span>;
<span style="color: #008000; font-style: regular;">/*Kaplan-Meier推定量の結果を保存する新しいシート*/</span>
newsheet book<span style="color: #000000;">:</span><span style="color: #000080;">=</span>bkn<span style="color: #000080;">$</span> name<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #ff00ff;">&quot;Result&quot;</span> label<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #ff00ff;">&quot;Parameter|Estimate|95% CI_Lower|95% CI_Upper&quot;</span>;
wcolwidth <span style="color: #000000;">[</span>bkn<span style="color: #000080;">$</span><span style="color: #000000;">]</span><span style="color: #ff00ff;">&quot;Result&quot;</span><span style="color: #000080;">!</span><span style="color: #0000dd;">1</span> <span style="color: #0000dd;">12</span>;
range Para<span style="color: #000080;">=</span><span style="color: #000000;">[</span>bkn<span style="color: #000080;">$</span><span style="color: #000000;">]</span>Result<span style="color: #000080;">!</span>col<span style="color: #000000;">(</span><span style="color: #0000dd;">1</span><span style="color: #000000;">)</span>;
range Est<span style="color: #000080;">=</span><span style="color: #000000;">[</span>bkn<span style="color: #000080;">$</span><span style="color: #000000;">]</span>Result<span style="color: #000080;">!</span>col<span style="color: #000000;">(</span><span style="color: #0000dd;">2</span><span style="color: #000000;">)</span>;
range Lower<span style="color: #000080;">=</span><span style="color: #000000;">[</span>bkn<span style="color: #000080;">$</span><span style="color: #000000;">]</span>Result<span style="color: #000080;">!</span>col<span style="color: #000000;">(</span><span style="color: #0000dd;">3</span><span style="color: #000000;">)</span>;
range Upper<span style="color: #000080;">=</span><span style="color: #000000;">[</span>bkn<span style="color: #000080;">$</span><span style="color: #000000;">]</span>Result<span style="color: #000080;">!</span>col<span style="color: #000000;">(</span><span style="color: #0000dd;">4</span><span style="color: #000000;">)</span>;
getresults iw<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #000000;">[</span>bkn<span style="color: #000080;">$</span><span style="color: #000000;">]</span><span style="color: #0000dd;">3</span> tr<span style="color: #000000;">:</span><span style="color: #000080;">=</span>mytree;
Para<span style="color: #000000;">[</span><span style="color: #0000dd;">1</span><span style="color: #000000;">]</span><span style="color: #000080;">$</span><span style="color: #000080;">=</span><span style="color: #ff00ff;">&quot;25% of survival time&quot;</span>;
Para<span style="color: #000000;">[</span><span style="color: #0000dd;">2</span><span style="color: #000000;">]</span><span style="color: #000080;">$</span><span style="color: #000080;">=</span><span style="color: #ff00ff;">&quot;50% of survival time&quot;</span>;
Para<span style="color: #000000;">[</span><span style="color: #0000dd;">3</span><span style="color: #000000;">]</span><span style="color: #000080;">$</span><span style="color: #000080;">=</span><span style="color: #ff00ff;">&quot;75% of survival time&quot;</span>;
Para<span style="color: #000000;">[</span><span style="color: #0000dd;">4</span><span style="color: #000000;">]</span><span style="color: #000080;">$</span><span style="color: #000080;">=</span><span style="color: #ff00ff;">&quot;mean of survival time&quot;</span>;
Est<span style="color: #000000;">[</span><span style="color: #0000dd;">1</span><span style="color: #000000;">]</span><span style="color: #000080;">=</span>mytree.<span style="color: #000080;">sa</span>.<span style="color: #000080;">quan</span>.<span style="color: #000080;">Quan1</span>.<span style="color: #000080;">Estim</span>;
Est<span style="color: #000000;">[</span><span style="color: #0000dd;">2</span><span style="color: #000000;">]</span><span style="color: #000080;">=</span>mytree.<span style="color: #000080;">sa</span>.<span style="color: #000080;">quan</span>.<span style="color: #000080;">Quan2</span>.<span style="color: #000080;">Estim</span>;
Est<span style="color: #000000;">[</span><span style="color: #0000dd;">3</span><span style="color: #000000;">]</span><span style="color: #000080;">=</span>mytree.<span style="color: #000080;">sa</span>.<span style="color: #000080;">quan</span>.<span style="color: #000080;">Quan3</span>.<span style="color: #000080;">Estim</span>;
Est<span style="color: #000000;">[</span><span style="color: #0000dd;">4</span><span style="color: #000000;">]</span><span style="color: #000080;">=</span>mytree.<span style="color: #000080;">sa</span>.<span style="color: #000080;">mean</span>.<span style="color: #000080;">Mean</span>.<span style="color: #000080;">Estim</span>;
Lower<span style="color: #000000;">[</span><span style="color: #0000dd;">1</span><span style="color: #000000;">]</span><span style="color: #000080;">=</span>mytree.<span style="color: #000080;">sa</span>.<span style="color: #000080;">quan</span>.<span style="color: #000080;">Quan1</span>.<span style="color: #000080;">LCI</span>;
Lower<span style="color: #000000;">[</span><span style="color: #0000dd;">2</span><span style="color: #000000;">]</span><span style="color: #000080;">=</span>mytree.<span style="color: #000080;">sa</span>.<span style="color: #000080;">quan</span>.<span style="color: #000080;">Quan2</span>.<span style="color: #000080;">LCI</span>;
Lower<span style="color: #000000;">[</span><span style="color: #0000dd;">3</span><span style="color: #000000;">]</span><span style="color: #000080;">=</span>mytree.<span style="color: #000080;">sa</span>.<span style="color: #000080;">quan</span>.<span style="color: #000080;">Quan3</span>.<span style="color: #000080;">LCI</span>;
Lower<span style="color: #000000;">[</span><span style="color: #0000dd;">4</span><span style="color: #000000;">]</span><span style="color: #000080;">=</span>mytree.<span style="color: #000080;">sa</span>.<span style="color: #000080;">mean</span>.<span style="color: #000080;">Mean</span>.<span style="color: #000080;">LCI</span>;
Upper<span style="color: #000000;">[</span><span style="color: #0000dd;">1</span><span style="color: #000000;">]</span><span style="color: #000080;">=</span>mytree.<span style="color: #000080;">sa</span>.<span style="color: #000080;">quan</span>.<span style="color: #000080;">Quan1</span>.<span style="color: #000080;">UCI</span>;
Upper<span style="color: #000000;">[</span><span style="color: #0000dd;">2</span><span style="color: #000000;">]</span><span style="color: #000080;">=</span>mytree.<span style="color: #000080;">sa</span>.<span style="color: #000080;">quan</span>.<span style="color: #000080;">Quan2</span>.<span style="color: #000080;">UCI</span>;
Upper<span style="color: #000000;">[</span><span style="color: #0000dd;">3</span><span style="color: #000000;">]</span><span style="color: #000080;">=</span>mytree.<span style="color: #000080;">sa</span>.<span style="color: #000080;">quan</span>.<span style="color: #000080;">Quan3</span>.<span style="color: #000080;">UCI</span>;
Upper<span style="color: #000000;">[</span><span style="color: #0000dd;">4</span><span style="color: #000000;">]</span><span style="color: #000080;">=</span>mytree.<span style="color: #000080;">sa</span>.<span style="color: #000080;">mean</span>.<span style="color: #000080;">Mean</span>.<span style="color: #000080;">UCI</span>;</pre>
<h2><a name="More_Information"></a><span class="mw-headline">詳細な情報</span></h2>
<p>詳細は、ユーザガイドをご覧下さい。
</p>
<dl><dd><ul><li><a class="external text" href="../../UserGuide/Category/Kaplan-Meier_Estimator.html">説明</a> </li>
<li><a class="external text" href="../../Tutorial/Tutorial/Kaplan-Meier_Estimator.html">チュートリアル:</a></li>
<li><a class="external text" href="../../UserGuide/UserGuide/Algorithm_(kaplanmeier).html">アルゴリズム</a></li>
<li><a class="external text" href="../../UserGuide/UserGuide/References_(kaplanmeier).html">参考文献</a></li></ul></dd></dl>
<p><b> </b>
</p>
<h2><a name="Related_X-Functions"></a><span class="mw-headline">関連するXファンクション</span></h2>
<p><a href="../../XFunction/X-Function/Phm_Cox.html" title="Xファンクション:Phm Cox">phm_Cox</a>, <a href="../../XFunction/X-Function/Weibullfit.html" title="Xファンクション:Weibullfit">weibullfit</a>
</p>






    