<h1 class="firstheading">addtool_rise_time</h1>
<table id="toc" class="toc" summary="Contents">
<tr>
<td>
<div id="toctitle">
<h2>内容</h2>
</div>
<ol>
<li class="toclevel-1"><a href="#Menu_Information"><span class="tocnumber">1</span> <span class="toctext">メニュー情報</span></a></li>
<li class="toclevel-1"><a href="#Brief_Information"><span class="tocnumber">2</span> <span class="toctext">概要</span></a></li>
<li class="toclevel-1"><a href="#Additional_Information"><span class="tocnumber">3</span> <span class="toctext">追加の情報</span></a></li>
<li class="toclevel-1"><a href="#Command_Line_Usage"><span class="tocnumber">4</span> <span class="toctext">コマンドラインでの使用法</span></a></li>
<li class="toclevel-1"><a href="#Variables"><span class="tocnumber">5</span> <span class="toctext">変数</span></a></li>
<li class="toclevel-1"><a href="#Description"><span class="tocnumber">6</span> <span class="toctext">説明</span></a>
<ol>
<li class="toclevel-2"><a href="#Details_for_Dialog_Settings"><span class="tocnumber">6.1</span> <span class="toctext">ダイアログ設定の詳細</span></a>
<ol>
<li class="toclevel-3"><a href="#Settings.28trGUI.29"><span class="tocnumber">6.1.1</span> <span class="toctext">設定(trGUI)</span></a></li>
<li class="toclevel-3"><a href="#Rise_Range.2FFall_Range_Subtree"><span class="tocnumber">6.1.2</span> <span class="toctext">立ち上がり範囲/下降範囲サブツリー</span></a></li>
<li class="toclevel-3"><a href="#Quantities_Subtree"><span class="tocnumber">6.1.3</span> <span class="toctext">Quantitiesサブツリー</span></a></li>
<li class="toclevel-3"><a href="#Output_To_Subtree"><span class="tocnumber">6.1.4</span> <span class="toctext">出力先サブツリー</span></a></li>
<li class="toclevel-3"><a href="#Display_on_Graph_Subtree"><span class="tocnumber">6.1.5</span> <span class="toctext">グラフ上の表示サブツリー</span></a></li>
<li class="toclevel-3"><a href="#Advanced_Subtree"><span class="tocnumber">6.1.6</span> <span class="toctext">詳細サブツリー</span></a></li>
</ol>
</li>
</ol>
</li>
<li class="toclevel-1"><a href="#Examples"><span class="tocnumber">7</span> <span class="toctext">サンプル</span></a></li>
<li class="toclevel-1"><a href="#Algorithm"><span class="tocnumber">8</span> <span class="toctext">アルゴリズム</span></a>
<ol>
<li class="toclevel-2"><a href="#Linear_Search"><span class="tocnumber">8.1</span> <span class="toctext">線形探索</span></a></li>
<li class="toclevel-2"><a href="#Histogram"><span class="tocnumber">8.2</span> <span class="toctext">ヒストグラム</span></a></li>
<li class="toclevel-2"><a href="#Largest_Triangle"><span class="tocnumber">8.3</span> <span class="toctext">最大の三角形</span></a></li>
</ol>
</li>
</ol>
</td>
</tr>
</table>
<a name="Menu_Information" id="Menu_Information"></a>
<h2><span class="mw-headline">メニュー情報</span></h2>
<p>クィックツール：立ち上がり時間</p>
<a name="Brief_Information" id="Brief_Information"></a>
<h2><span class="mw-headline">概要</span></h2>
<p>グラフに四角形を表示して、上昇時間と降下時間を分析します。</p>
<a name="Additional_Information" id="Additional_Information"></a>
<h2><span class="mw-headline">追加の情報</span></h2>
<p>これはOriginProのみの機能です。V8.1 SR1で改良されています。</p>
<a name="Command_Line_Usage" id="Command_Line_Usage"></a>
<h2><span class="mw-headline">コマンドラインでの使用法</span></h2>
<p><code style="font-family: monospace;">addtool_rise_time trGUI.rectcolor:=21 trGUI.tool:=1 trGUI.method:=1 trGUI.output_to.reslog:=1 trGUI.display.risetime:=1;</code></p>
<a name="Variables" id="Variables"></a>
<h2><span class="mw-headline">変数</span></h2>
<table class="xfvar">
<tr>
<th style="width: 8%;">表示<br />
名</th>
<th style="width: 8%;">変数<br />
名</th>
<th style="width: 8%;">I/O<br />
と<br />
データ型</th>
<th style="width: 8%;">デフォルト<br />
値</th>
<th>説明</th>
</tr>
<tr>
<td>設定</td>
<td>trGUI</td>
<td>
<p>入力</p>
<p>TreeNode</p>
</td>
<td>
<p style="text-align: center;">&lt;unassigned&gt;</p>
</td>
<td>
<p>計算オプションをカスタマイズするのに使用できます。</p>
<p>詳細は以下の説明をご覧下さい。</p>
</td>
</tr>
</table>
<a name="Description" id="Description"></a>
<h2><span class="mw-headline">説明</span></h2>
<p>立ち上がり時間(または下降時間)は、指定した低状態レベルから指定した高状態レベル(または指定した高状態レベルから指定した低状態レベル)に信号が変化するのに必要な時間を参照します。通常、これらの値は、ステップ高さの10%と90%です。この関数を使って、グラフに追加された四角形で直感的にグラフの領域を選択し、領域内の立ち上がり時間または下降時間を計算することができます。</p>
<p>ステップ状の信号で、低状態レベルと高状態レベルが計算されます。そして、ステップ高は、高状態レベルから低状態レベルを差し引くことで計算することができます。そして、低参照レベルと高参照レベルは、ステップ高の2つの指定したパーセントで計算されます。最後に、立ち上がり時間(または下降時間)の区間に位置付け、信号が低参照レベルから高参照レベルに立ち上がる(または高参照レベルから低参照レベルに下降する)のに必要な時間を計算します。これらのパラメータの関係は、下図の通りです。</p>
<dl>
<dd><a style="color: #0000ff; text-decoration: underline;"><img alt="Image:Addtool_rise_time-5.png" src="../images/Addtool_rise_time/Addtool_rise_time-5.png" width="500" height="286" border="0" /></a></dd>
</dl>
<a name="Details_for_Dialog_Settings" id="Details_for_Dialog_Settings"></a>
<h3><span class="mw-headline">ダイアログ設定の詳細</span></h3>
<a name="Settings.28trGUI.29" id="Settings.28trGUI.29"></a>
<h4><span class="mw-headline">設定(trGUI)</span></h4>
<p><b style="font-weight: bold;">trGUI</b> ツリーはXファンクション<b>addtool_rise_time</b> のすべての設定オプションを指定します。</p>
<p>シンタックス：<b>trGUI.<i>Treenode:=&lt;value&gt;</i></b></p>
<p>サンプル:<b>trGUI.rectcolor:=23</b></p>
<table>
<tr>
<th>Treenode</th>
<th>ラベル</th>
<th>データ型</th>
<th>デフォルト</th>
<th>説明</th>
</tr>
<tr>
<td>rectcolor</td>
<td>塗り色</td>
<td>入力 int</td>
<td>21</td>
<td>グラフに追加する矩形の色を指定します。この矩形で、グラフ状の領域を選択し、立ち上がり時間または下降時間の分析を適用します。色の選択は、 <a href="../../LabTalk/LabTalk/List_of_Colors.html" title="http://wiki.originlab.com/~originla/wiki/index.php?title=LabTalk:List_of_Colors" rel="nofollow">色のリスト</a>をご覧下さい。</td>
</tr>
<tr>
<td>tool</td>
<td>ツール</td>
<td>入力 int</td>
<td>0</td>
<td>立ち上がり時間または下降時間のどちらを計算するかを指定します。以下のオプションがあります。
<ul>
<li>0:立ち上がり時間</li>
</ul>
<dl>
<dd>立ち上がり時間の分析が適用されます。ツールは、信号が低参照レベルから高参照レベルに立ち上がるのに必要な時間を計算します。</dd>
</dl>
<ul>
<li>1:下降時間</li>
</ul>
<dl>
<dd>下降時間の分析が適用されます。ツールは、信号が高参照レベルから低参照レベルに下降するのに必要な時間を計算します。</dd>
</dl>
</td>
</tr>
<tr>
<td>method</td>
<td>方法</td>
<td>入力 int</td>
<td>0</td>
<td>立ち上がり時間または下降時間の区間に適用される手法を指定します。高状態レベルと低状態レベルの両方が手動で設定されている場合には利用できません。以下のオプションがあります。
<ul>
<li>0:線形探索</li>
</ul>
<dl>
<dd>線形探索法を使って、立ち上がり時間または下降時間の分析を行います。詳細は、下記のアルゴリズムをご覧下さい。</dd>
</dl>
<ul>
<li>1:ヒストグラム</li>
</ul>
<dl>
<dd>ヒストグラム法を使って、立ち上がり時間または下降時間の分析を行います。詳細は、下記のアルゴリズムをご覧下さい。</dd>
</dl>
<ul>
<li>2:最大の三角形</li>
</ul>
<dl>
<dd>最大三角形法を使って、立ち上がり時間または下降時間の分析を行います。詳細は、下記のアルゴリズムをご覧下さい。この手法が選択されているとき、<b>高状態レベル</b> と <b>低状態レベル</b> は手動では設定できません。</dd>
</dl>
</td>
</tr>
<tr>
<td>input</td>
<td>立ち上がり範囲/下降範囲</td>
<td>入力 TreeNode</td>
<td>&lt;unassigned&gt;</td>
<td>高/低状態レベルとステップ高に対する高/低参照レベルの比率を指定します。詳細は、下記の立ち上がり範囲/下降範囲サブツリーの表をご覧下さい。</td>
</tr>
<tr>
<td>output</td>
<td>量</td>
<td>入力 TreeNode</td>
<td>&lt;unassigned&gt;</td>
<td>出力する量を指定します。詳細は、下記の量サブツリーの表をご覧下さい。</td>
</tr>
<tr>
<td>output_to</td>
<td>出力先</td>
<td>入力 TreeNode</td>
<td>&lt;unassigned&gt;</td>
<td>結果を出力する場所を指定します。詳細は、下記の出力先サブツリーの表をご覧下さい。</td>
</tr>
<tr>
<td>display</td>
<td>グラフ上の表示</td>
<td>入力 TreeNode</td>
<td>&lt;unassigned&gt;</td>
<td>インディケータ表示、状態レベル、立ち上がり/下降時間とグラフ上の立ち上がり/下降範囲のプロパティを指定します。詳細は、下記のグラフ上の表示サブツリーの表をご覧下さい。</td>
</tr>
<tr>
<td>adv</td>
<td>詳細</td>
<td>入力 TreeNode</td>
<td>&lt;unassigned&gt;</td>
<td>分析を実行する前に行うスムージング操作についての詳細設定、線形探索法で使われるパラメータ、グラフのスケールが変わったときの結果を制御する方法詳細は、下記の詳細サブツリーの表をご覧下さい。</td>
</tr>
</table>
<a name="Rise_Range.2FFall_Range_Subtree" id="Rise_Range.2FFall_Range_Subtree"></a>
<h4><span class="mw-headline">立ち上がり範囲/下降範囲サブツリー</span></h4>
<p>高/低状態レベルと参照レベルを指定します。<b>ツール</b>ドロップダウンリストで、<b>立ち上がり時間</b>が選択されている場合、このサブツリーのラベルは<b>立ち上がり範囲</b>となり、下降時間が選択されている場合は、<b>下降範囲</b>となります。</p>
<p>シンタックス：<b>trGUI.input.<i>Treenode:=&lt;value&gt;</i></b></p>
<p>サンプル:<b>trGUI.input.from:=20</b></p>
<table class="treetable">
<tr>
<th>ツリーノード</th>
<th>ラベル</th>
<th>データ型</th>
<th>デフォルト</th>
<th>説明</th>
</tr>
<tr>
<td>highVolt</td>
<td>高状態レベル</td>
<td>入力 double</td>
<td>&lt;unassigned&gt;</td>
<td>高状態レベルを指定します。<b>自動</b>チェックボックスにチェックが付いている場合、この値は指定した手法で計算され、チェックが付いていない場合、値を手動で指定できます。<b>方法</b> が <b>最大の三角形</b> の場合、この変数はGUIには表示されず、値が自動的に計算されます。</td>
</tr>
<tr>
<td>lowVolt</td>
<td>低状態レベル</td>
<td>入力 double</td>
<td>&lt;unassigned&gt;</td>
<td>低状態レベルを指定します。<b>自動</b>チェックボックスにチェックが付いている場合、この値は指定した手法で計算され、チェックが付いていない場合、値を手動で指定できます。<b>方法</b> が <b>最大の三角形</b> の場合、この変数はGUIには表示されず、値が自動的に計算されます。</td>
</tr>
<tr>
<td>from</td>
<td>開始 (ステップ高の%)</td>
<td>入力 double</td>
<td>10</td>
<td>値 n を指定します。低参照レベルがステップ高のn%となります。</td>
</tr>
<tr>
<td>to</td>
<td>終了 (ステップ高の%)</td>
<td>入力 double</td>
<td>90</td>
<td>値 m を指定します。高参照レベルがステップ高のm%となります。</td>
</tr>
</table>
<a name="Quantities_Subtree" id="Quantities_Subtree"></a>
<h4><span class="mw-headline">量サブツリー</span></h4>
<p>出力する量を指定します。</p>
<p>シンタックス：<b>trGUI.output.<i>Treenode:=&lt;value&gt;</i></b></p>
<p>サンプル:<b>trGUI.output.name:=0</b></p>
<table class="treetable">
<tr>
<th>ツリーノード</th>
<th>ラベル</th>
<th>データ型</th>
<th>デフォルト</th>
<th>説明</th>
</tr>
<tr>
<td>name</td>
<td>データセット名(名前)</td>
<td>入力 int</td>
<td>1</td>
<td>元のデータセットの名前を出力するかどうかを指定します。以下のオプションがあります。
<ul>
<li>0:チェックなし</li>
</ul>
<dl>
<dd>元のデータセットの名前を出力しません。</dd>
</dl>
<ul>
<li>1:チェックあり</li>
</ul>
<dl>
<dd>元のデータセットの名前を出力します。</dd>
</dl>
</td>
</tr>
<tr>
<td>VMin</td>
<td>低状態レベル(VMin)</td>
<td>入力 int</td>
<td>1</td>
<td>低状態レベルを出力するかどうかを指定します。以下のオプションがあります。
<ul>
<li>0:チェックなし</li>
</ul>
<dl>
<dd>低状態レベルを出力しません。</dd>
</dl>
<ul>
<li>1:チェックあり</li>
</ul>
<dl>
<dd>低状態レベルを出力します。</dd>
</dl>
</td>
</tr>
<tr>
<td>VMax</td>
<td>高状態レベル(VMax)</td>
<td>入力 int</td>
<td>1</td>
<td>高状態レベルを出力するかどうかを指定します。以下のオプションがあります。
<ul>
<li>0:チェックなし</li>
</ul>
<dl>
<dd>高状態レベルを出力しません。</dd>
</dl>
<ul>
<li>1:チェックあり</li>
</ul>
<dl>
<dd>高状態レベルを出力します。</dd>
</dl>
</td>
</tr>
<tr>
<td>dV</td>
<td>ステップ高さ(dV)</td>
<td>入力 int</td>
<td>0</td>
<td>ステップ高さを出力するかどうかを指定します。以下のオプションがあります。
<ul>
<li>0:チェックなし</li>
</ul>
<dl>
<dd>ステップ高さを出力しません。</dd>
</dl>
<ul>
<li>1:チェックあり</li>
</ul>
<dl>
<dd>ステップ高さを出力します。</dd>
</dl>
</td>
</tr>
<tr>
<td>VrefMin</td>
<td>低参照レベル(VrefMin)</td>
<td>入力 int</td>
<td>1</td>
<td>低参照レベルを出力するかどうかを指定します。以下のオプションがあります。
<ul>
<li>0:チェックなし</li>
</ul>
<dl>
<dd>低参照レベルを出力しません。</dd>
</dl>
<ul>
<li>1:チェックあり</li>
</ul>
<dl>
<dd>低参照レベルを出力します。</dd>
</dl>
</td>
</tr>
<tr>
<td>VrefMax</td>
<td>高参照レベル(VrefMax)</td>
<td>入力 int</td>
<td>1</td>
<td>高参照レベルを出力するかどうかを指定します。以下のオプションがあります。
<ul>
<li>0:チェックなし</li>
</ul>
<dl>
<dd>高参照レベルを出力しません。</dd>
</dl>
<ul>
<li>1:チェックあり</li>
</ul>
<dl>
<dd>高参照レベルを出力します。</dd>
</dl>
</td>
</tr>
<tr>
<td>dVref</td>
<td>立ち上がり範囲(dVref)/下降範囲(dVref)</td>
<td>入力 int</td>
<td>0</td>
<td>立ち上がり範囲/下降範囲を出力するかどうかを指定します。<b>ツール</b>ドロップダウンリストで、<b>立ち上がり時間</b>が選択されている場合、このラベルは<b>立ち上がり範囲(dVref)</b>となり、下降時間が選択されている場合は、<b>下降範囲(dVref)</b>となります。以下のオプションがあります。
<ul>
<li>0:チェックなし</li>
</ul>
<dl>
<dd>立ち上がり範囲/下降範囲を出力しません。</dd>
</dl>
<ul>
<li>1:チェックあり</li>
</ul>
<dl>
<dd>立ち上がり範囲/下降範囲を出力します。</dd>
</dl>
</td>
</tr>
<tr>
<td>T1</td>
<td>低参照レベルの時間(T1)</td>
<td>入力 int</td>
<td>1</td>
<td>低参照レベルの時間を出力するかどうかを指定します。以下のオプションがあります。
<ul>
<li>0:チェックなし</li>
</ul>
<dl>
<dd>低参照レベルの時間を出力しません。</dd>
</dl>
<ul>
<li>1:チェックあり</li>
</ul>
<dl>
<dd>低参照レベルの時間を出力します。</dd>
</dl>
</td>
</tr>
<tr>
<td>T2</td>
<td>高参照レベルの時間(T2)</td>
<td>Inupt int</td>
<td>1</td>
<td>高参照レベルの時間を出力するかどうかを指定します。以下のオプションがあります。
<ul>
<li>0:チェックなし</li>
</ul>
<dl>
<dd>高参照レベルの時間を出力しません。</dd>
</dl>
<ul>
<li>1:チェックあり</li>
</ul>
<dl>
<dd>高参照レベルの時間を出力します。</dd>
</dl>
</td>
</tr>
<tr>
<td>dT</td>
<td>立ち上がり時間(dT)/下降時間(dT)</td>
<td>入力 int</td>
<td>1</td>
<td>立ち上がり時間/下降時間を出力するかどうかを指定します。<b>ツール</b>ドロップダウンリストで、<b>立ち上がり時間</b>が選択されている場合、このラベルは<b>立ち上がり時間(dT)</b>となり、下降時間が選択されている場合は、<b>下降時間(dT)</b>となります。以下のオプションがあります。
<ul>
<li>0:チェックなし</li>
</ul>
<dl>
<dd>立ち上がり時間/下降時間を出力しません。</dd>
</dl>
<ul>
<li>1:チェックあり</li>
</ul>
<dl>
<dd>立ち上がり時間/下降時間を出力します。</dd>
</dl>
</td>
</tr>
<tr>
<td>速度</td>
<td>立ち上がり/降下速度 (速度)</td>
<td>入力 int</td>
<td>0</td>
<td>スムージングされたデータに基づくdVref/dTによって計算された立ち上がり/降下速度を出力するかどうかを指定します。以下のオプションがあります。
<ul>
<li>0:チェックなし</li>
</ul>
<dl>
<dd>立ち上がり/降下速度を出力しません。</dd>
</dl>
<ul>
<li>1:チェックあり</li>
</ul>
<dl>
<dd>立ち上がり/降下速度を出力します。</dd>
</dl>
</td>
</tr>
<tr>
<td>最大速度</td>
<td>最大立ち上がり/降下速度 (最大速度)</td>
<td>入力 int</td>
<td>0</td>
<td>T1とT2の間のは最大微分値である、最大立ち上がり時間/下降速度を出力するかどうかを指定します。最大速度はスムージングされたデータに基づき計算されます。以下のオプションがあります。
<ul>
<li>0:チェックなし</li>
</ul>
<dl>
<dd>最大立ち上がり時間/下降速度を出力しません。</dd>
</dl>
<ul>
<li>1:チェックあり</li>
</ul>
<dl>
<dd>最大立ち上がり/降下速度を出力します。</dd>
</dl>
</td>
</tr>
<tr>
<td>e1</td>
<td>低ノイズレベル(e1)</td>
<td>入力 int</td>
<td>0</td>
<td>低レベルの基線領域でのノイズレベルを出力するかどうか指定します。以下のオプションがあります。
<ul>
<li>0:チェックなし</li>
</ul>
<dl>
<dd>低レベルの基線領域でのノイズレベルを出力しません。</dd>
</dl>
<ul>
<li>1:チェックあり</li>
</ul>
<dl>
<dd>低レベルの基線領域でのノイズレベルを出力します。</dd>
</dl>
</td>
</tr>
<tr>
<td>e2</td>
<td>高ノイズレベル(e2)</td>
<td>入力 int</td>
<td>0</td>
<td>高レベルの基線領域でのノイズレベルを出力するかどうか指定します。以下のオプションがあります。
<ul>
<li>0:チェックなし</li>
</ul>
<dl>
<dd>高レベルの基線領域でのノイズレベルを出力しません。</dd>
</dl>
<ul>
<li>1:チェックあり</li>
</ul>
<dl>
<dd>高レベルの基線領域でのノイズレベルを出力します。</dd>
</dl>
</td>
</tr>
</table>
<a name="Output_To_Subtree" id="Output_To_Subtree"></a>
<h4><span class="mw-headline">出力先サブツリー</span></h4>
<p>結果を出力する場所を指定します。</p>
<p>シンタックス：<b>trGUI.output_to.<i>Treenode:=&lt;value&gt;</i></b></p>
<p>サンプル:<b>trGUI.output_to.reslog:=1</b></p>
<table class="treetable">
<tr>
<th>ツリーノード</th>
<th>ラベル</th>
<th>データ型</th>
<th>デフォルト</th>
<th>説明</th>
</tr>
<tr>
<td>script</td>
<td>スクリプトウィンドウ</td>
<td>入力 int</td>
<td>1</td>
<td>スクリプトウィンドウに結果を出力します。以下のオプションがあります。
<ul>
<li>0:チェックなし</li>
</ul>
<dl>
<dd>スクリプトウィンドウに結果を出力しません。</dd>
</dl>
<ul>
<li>1:チェックあり</li>
</ul>
<dl>
<dd>スクリプトウィンドウに結果を出力します。</dd>
</dl>
</td>
</tr>
<tr>
<td>reslog</td>
<td>結果ログ</td>
<td>入力 int</td>
<td>0</td>
<td>結果ログに結果を出力します。以下のオプションがあります。
<ul>
<li>0:チェックなし</li>
</ul>
<dl>
<dd>結果ログに結果を出力しません。</dd>
</dl>
<ul>
<li>1:チェックあり</li>
</ul>
<dl>
<dd>結果ログに結果を出力します。</dd>
</dl>
</td>
</tr>
<tr>
<td>appendwks</td>
<td>ワークシートに追加</td>
<td>入力 int</td>
<td>0</td>
<td>ワークシートに出力結果を追加します。以下のオプションがあります。
<ul>
<li>0:チェックなし</li>
</ul>
<dl>
<dd>ワークシートに出力結果を追加しません。</dd>
</dl>
<ul>
<li>1:チェックあり</li>
</ul>
<dl>
<dd>ワークシートに結果を追加します。</dd>
</dl>
</td>
</tr>
<tr>
<td>wbkName</td>
<td>結果のワークシート名</td>
<td>入力 string</td>
<td>QkRiseTime</td>
<td><b style="font-weight: bold;">ワークシートに追加</b>チェックボックスが選択されているときのみ利用できます。結果が追加されるワークシートの名前を指定しします。</td>
</tr>
</table>
<a name="Display_on_Graph_Subtree" id="Display_on_Graph_Subtree"></a>
<h4><span class="mw-headline">グラフ上の表示サブツリー</span></h4>
<p>シンタックス：<b>trGUI.display.<i>Treenode:=&lt;value&gt;</i></b></p>
<p>サンプル:<b>trGUI.display.risetime:=1</b></p>
<table class="treetable">
<tr>
<th>ツリーノード</th>
<th>ラベル</th>
<th>データ型</th>
<th>デフォルト</th>
<th>説明</th>
</tr>
<tr>
<td>indicator</td>
<td>インディケータ</td>
<td>入力 TreeNode</td>
<td>&lt;unassigned&gt;</td>
<td>インジケータの設定を指定します。詳細は、下記のインジケーターの表をご覧下さい。</td>
</tr>
<tr>
<td>statelevel</td>
<td>状態レベル</td>
<td>入力 int</td>
<td>1</td>
<td>低/高状態レベルを作成する2つの水平線を表示するかどうかを指定します。</td>
</tr>
<tr>
<td>risetime</td>
<td>立ち上がり時間/下降時間</td>
<td>入力 int</td>
<td>0</td>
<td>立ち上がり時間/下降時間を作成するために2つのインジケータを通じて2つの垂直線を表示するかどうかを指定します。<b>ツール</b>ドロップダウンリストで、<b>立ち上がり時間</b>が選択されている場合、このラベルは<b>立ち上がり時間</b>となり、下降時間が選択されている場合は、<b>下降時間</b>となります。</td>
</tr>
<tr>
<td>riserange</td>
<td>立ち上がり範囲/下降範囲</td>
<td>入力 int</td>
<td>0</td>
<td>立ち上がり範囲/下降範囲を作成する2つのインジケータを通る2つの水平線を表示するかどうかを指定します。<b>ツール</b>ドロップダウンリストで、<b>立ち上がり時間</b>が選択されている場合、このサブツリーのラベルは<b>立ち上がり範囲</b>となり、下降時間が選択されている場合は、<b>下降範囲</b>となります。</td>
</tr>
</table>
<p><b style="font-weight: bold;">インジケータテーブル</b></p>
<p>シンタックス：<b>trGUI.display.indicator.<i>Treenode:=&lt;value&gt;</i></b></p>
<p>サンプル:<b>trGUI.display.indicator.size:=11</b></p>
<table class="treetable">
<tr>
<th>ツリーノード</th>
<th>ラベル</th>
<th>データ型</th>
<th>デフォルト</th>
<th>説明</th>
</tr>
<tr>
<td>size</td>
<td>サイズ</td>
<td>入力 int</td>
<td>10</td>
<td>インジケータサイズを選択します。</td>
</tr>
<tr>
<td>shape</td>
<td>シンボル</td>
<td>入力 int</td>
<td>0</td>
<td>インジケータのシンボルを選択します。シンボルについての詳細は、 <a href="../../UserGuide/UserGuide/The_%28Plot_Details%29_Symbol_Tab.html" title="http://docwiki.originlab.com/index.php?title=UserGuide:The_%28Plot_Details%29_Symbol_Tab" rel="nofollow">作図の詳細のシンボルタブ</a>を参照して下さい。</td>
</tr>
<tr>
<td>edgecolor</td>
<td>縁の色</td>
<td>入力 int</td>
<td>0</td>
<td>低/高参照レベルを示すインジケータの縁の色を指定します。色の選択は、 <a href="../../LabTalk/LabTalk/List_of_Colors.html" title="http://wiki.originlab.com/~originla/wiki/index.php?title=LabTalk:List_of_Colors" rel="nofollow">色のリスト</a>をご覧下さい。</td>
</tr>
<tr>
<td>fillcolor</td>
<td>塗り色</td>
<td>入力 int</td>
<td>1</td>
<td>低/高参照レベルを示すインジケータを塗りつぶす色を指定します。色の選択は、 <a href="../../LabTalk/LabTalk/List_of_Colors.html" title="http://wiki.originlab.com/~originla/wiki/index.php?title=LabTalk:List_of_Colors" rel="nofollow">色のリスト</a>をご覧下さい。</td>
</tr>
</table>
<a name="Advanced_Subtree" id="Advanced_Subtree"></a>
<h4><span class="mw-headline">詳細なサブツリー</span></h4>
<p>立ち上がり時間/下降時間の分析を実行する前のスムージングについての詳細な設定</p>
<p>シンタックス：<b>trGUI.adv.<i>Treenode:=&lt;value&gt;</i></b></p>
<p>サンプル:<b>trGUI.adv.pts:=60</b></p>
<table class="treetable">
<tr>
<th>ツリーノード</th>
<th>ラベル</th>
<th>データ型</th>
<th>デフォルト</th>
<th>説明</th>
</tr>
<tr>
<td>lnsearch</td>
<td>高低レベルの決定項目</td>
<td>入力 int</td>
<td>0</td>
<td><b style="font-weight: bold;">手法</b>が<b>線形探索</b>にセットされている場合のみ利用できます。低/高状態レベルをどのように探索するかを指定する際に使用します。以下のオプションがあります。
<ul>
<li>0:平均
<dl>
<dd>高/低状態レベルとして、隣接平均スムージングデータの平均と見なします。下記のアルゴリズムで <a href="#Linear_Search" title="">線形探索</a> 手法をご覧下さい。</dd>
</dl>
</li>
<li>1:最大平均
<dl>
<dd>高/低状態レベルとして、隣接平均スムージングデータの最小/最大と見なします。下記のアルゴリズムで <a href="#Linear_Search" title="">線形探索</a> 手法をご覧下さい。</dd>
</dl>
</li>
</ul>
</td>
</tr>
<tr>
<td>pts</td>
<td>スムージングポイント</td>
<td>入力 int</td>
<td>50</td>
<td><b style="font-weight: bold;">手法</b>が<b>線形探索</b>にセットされている場合のみ利用できます。立ち上がり時間/下降時間の分析を実行する前にデータセット全体に実行されるスムージングで使われるポイント数を指定するのに使われます。この値は1から200までの整数値です。</td>
</tr>
<tr>
<td>pts2</td>
<td>立ち上がり/下降領域でのスムーズポイント数</td>
<td>入力 int</td>
<td>1</td>
<td>立ち上がり領域/下降領域に適用されるスムージングで使われるポイント数を指定します。この値は1から50までの整数値です。</td>
</tr>
<tr>
<td>tol</td>
<td>許容値(パーセント)</td>
<td>入力 double</td>
<td>0.03</td>
<td>レベル値の許容値を指定します。この値より小さい値は、ノイズとして扱われます。<b>手法</b>が<b>線形探索</b>または<b>ヒストグラム</b>にセットされている場合のみ利用できます。</td>
</tr>
<tr>
<td>bins</td>
<td>ビンの数</td>
<td>入力 int</td>
<td>256</td>
<td><b style="font-weight: bold;">方法</b>が<b>ヒストグラム</b>にセットされている場合のみ利用できます。ヒストグラム法で使用されるビンの数を指定します。</td>
</tr>
<tr>
<td>onrescale</td>
<td>グラフのスケールの変化時</td>
<td>入力 int</td>
<td>0</td>
<td>グラフスケールが変わったときに実行される操作を指定します。以下のオプションがあります。
<ul>
<li>結果の更新
<dl>
<dd>グラフスケールが変わったとき、結果を更新します。</dd>
</dl>
</li>
<li>結果を無効にする
<dl>
<dd>グラフスケールが変わったとき、結果を無効にします。結果が無効になると、グラフ上に十字が表示されます。</dd>
</dl>
</li>
</ul>
</td>
</tr>
<tr>
<td>noiseUnit</td>
<td>ノイズレベル単位</td>
<td>入力 int</td>
<td>0</td>
<td>ノイズレベルの単位を指定します。以下のオプションがあります。
<ul>
<li>絶対値
<dl>
<dd>ノイズレベルは絶対値となります。</dd>
</dl>
</li>
<li>ステップサイズに対する相対値
<dl>
<dd>ノイズレベルはステップ高さの相対値となります。</dd>
</dl>
</li>
</ul>
</td>
</tr>
</table>
<a name="Examples" id="Examples"></a>
<h2><span class="mw-headline">サンプル</span></h2>
<p>次のステップは、グラフにあるステップ状信号の立ち上がり時間を計算するものです。</p>
<ol>
<li>新しいプロジェクトを作成し、ファイル&lt;Originフォルダ&gt;\Samples\Signal Processing\Step Signal with Random Noise.datをインポートします。
<dl>
<dd><a style="color: #0000ff; text-decoration: underline;"><img alt="Image:Addtool_rise_time-5.png" src="../images/Addtool_rise_time/Addtool_rise_time_1.png" width="302" height="294" border="0" /></a></dd>
</dl>
</li>
<li>列Bを選択し、<b>2Dグラフギャラリー</b>ツールバーで<b>折れ線</b>グラフボタンをクリックし、グラフを作成します。</li>
<li><b style="font-weight: bold;">プロット操作・オブジェクト作成</b>ツールバーの<b>スケール拡大</b>ボタンをクリックし、グラフ上の700から800の時間範囲を拡大します。
<dl>
<dd><a style="color: #0000ff; text-decoration: underline;"><img alt="Image:Addtool_rise_time_2.png" src="../images/Addtool_rise_time/Addtool_rise_time_2.png" width="458" height="347" border="0" /></a></dd>
</dl>
</li>
<li>Originメニューから<b>ガジェット：立ち上がり時間ROIツール</b>を選択(または、コマンドウィンドウでスクリプト <code>addtool_rise_time -d;</code> を実行)し、このXファンクションのダイアログボックスを開きます。</li>
<li>ROIボックスタブで、色を緑に変更します。<b>ツール</b>ドロップダウンリストから<b>立ち上がり時間</b>を選び、<b>方法</b>ドロップダウンリストから<b>ヒストグラム</b>を選びます。<b>立ち上がり時間</b>グループのデフォルト設定はそのままにし、<b>量</b>グループを次のようにします。<b>出力先</b>グループで、<b>結果ログ</b>チェックボックスだけを選択します。<b>グラフ上の表示</b>グループ、<b>詳細</b>グループはデフォルトのままにします。
<dl>
<dd><a style="color: #0000ff; text-decoration: underline;"><img alt="Image:Addtool_rise_time_3.png" src="../images/Addtool_rise_time/Addtool_rise_time_3.png" width="399" height="381" border="0" /></a></dd>
</dl>
</li>
<li><b style="font-weight: bold;">OK</b>ボタンをクリックします。緑の四角形がグラフに追加されます。四角形を水平に移動し、信号のステップが四角形の中に収まるようにします。（Note:(Note: 四角形が下図と一致していないと、異なる結果になる場合があります。)
<dl>
<dd><a style="color: #0000ff; text-decoration: underline;"><img alt="Image:Addtool_rise_time_4.png" src="../images/Addtool_rise_time/Addtool_rise_time_4.png" width="458" height="347" border="0" /></a></dd>
</dl>
</li>
<li>四角形の右上付近にある <a><img alt="Image:Arrow_button.png" src="../images/Addtool_rise_time/Arrow_button.png" width="25" height="26" border="0" /></a> ボタンをクリックし、<b>新しい出力</b>を選択します。結果が結果ログに出力されます。(Note: 四角形が上図と一致していないと、異なる結果になる場合があります。)
<dl>
<dd><a style="color: #0000ff; text-decoration: underline;"><img alt="Image:Addtool_rise_time_6.png" src="../images/Addtool_rise_time/Addtool_rise_time_6.png" width="798" height="298" border="0" /></a></dd>
</dl>
</li>
</ol>
<a name="Algorithm" id="Algorithm"></a>
<h2><span class="mw-headline">アルゴリズム</span></h2>
<p>この関数は、立ち上がり/下降時間を計算する3つの手法を提供しています。線形探索とヒストグラムの2つです。</p>
<a name="Linear_Search" id="Linear_Search"></a>
<h3><span class="mw-headline">線形探索</span></h3>
<p>立ち上がり時間の計算を例に取ります。ステップ高さの<b>dTol1</b>%からステップ高さの<b>dTol2</b>%まで信号が立ち上がる時間を計算します。(ここで 0&lt;dTol1&lt;dTol2&lt;100です。)</p>
<p>ステップ：</p>
<ol>
<li><a href="../../XFunction/X-Function/Smooth.html#Algorithm" title="X-Function:Smooth">隣接平均法によるスムージング</a>が元のデータに適用されます。</li>
<li>高状態レベルと低状態レベルに位置づけます。低/高状態レベルを得るには2つの方法があります。1つ目は、高状態レベルと低状態レベルが最初の1%のデータポイントと最後の1%のデータポイントそれぞれの平均から計算されます。(<b>詳細</b>ブランチで、<b>高低レベルの決定項目</b>を<b>平均</b>と設定します。)2つ目は、隣接平均、最小と最大がそれぞれ低状態レベルと高状態レベルと見なされます。 (<b>詳細</b>ブランチで、<b>高低レベルの決定項目</b>を<b>最大平均</b>と設定します。)</li>
<li>線形探索が実行され、次のように左から右へ2つのポイント<b>t1</b> および <b>t2</b>を見つけます。
<dl>
<dd><img class="tex" src="../images/Addtool_rise_time/math-9bec398bc8ce0063f19476ffcf4e33d2.png" alt="y(t1) &gt; lowerbase + (upperbase-lowerbase)*dTol1\," width="387" height="18" border="0" /></dd>
<dd><img class="tex" src="../images/Addtool_rise_time/math-b39fb7a9d677fed0762e8d78c55412d3.png" alt="y(t2) &lt; lowerbase + (upperbase-lowerbase)*dTol2\," width="388" height="18" border="0" />.</dd>
<dd>ここで、上面は高状態レベルで、下面は低状態レベルです。</dd>
</dl>
</li>
</ol>
<p>そして、t1とt2の間の領域が立ち上がり領域で、 <img class="tex" src="../images/Addtool_rise_time/math-43930072b4221044decff43b7816621b.png" alt="risetime = t2 - t1\," width="133" height="13" border="0" />.</p>
<a name="Histogram" id="Histogram"></a>
<h3><span class="mw-headline">ヒストグラム</span></h3>
<p>この手法が使われるとき、状態レベルのヒストグラムがデータから作成されます。このヒストグラムの限界値は、データセットの最小値と最大値でセットされ、ビン数はデフォルトで256となります。そして、各ビンに入るデータ標本の数が数えられます。次の図は、ヒストグラムのサンプルです。このグラフから下側40%のビンの中に入る最大数を持つビン(グラフの下側ビン)の平均値が低状態レベルとして計算されます。上側の40%にあるビン(グラフの上側ビン)対して同じ計算で高状態レベルを計算します。</p>
<dl>
<dd><a style="color: #0000ff; text-decoration: underline;"><img alt="Image:Addtool_rise_time_7.PNG" src="../images/Addtool_rise_time/Addtool_rise_time_7.PNG" width="500" height="412" border="0" /></a></dd>
</dl>
<p>ヒストグラムを使って低状態レベルと高状態レベルの位置を決めた後、線形探索のステップ3方法で、立ち上がり時間または下降時間を計算します。</p>
<a name="Largest_Triangle" id="Largest_Triangle"></a>
<h3><span class="mw-headline">最大の三角形</span></h3>
<p>下図から、開始点と終了点を通る線が構築されます。この線は、ベースラインと呼ばれます。そして、ベースラインの左上にある点を探します。点とベースラインによって構築された三角形が最大の領域を持つとき、この点の垂直な座標は高状態レベルとなります。同じような探索が、低状態レベルの値を見つけるためにベースラインの右下にある点にも実行されます。</p>
<dl>
<dd><a style="color: #0000ff; text-decoration: underline;"><img alt="Image:Addtool_rise_time_8.png" src="../images/Addtool_rise_time/Addtool_rise_time_8.png" width="449" height="329" border="0" /></a></dd>
</dl>
<p>低状態レベルと高状態レベルの位置を決めた後、線形探索のステップ3方法で、立ち上がり時間または下降時間を計算します。</p>
