<h1 class="firstheading">等高線図を作成する</h1><p class='urlname' style='display: none'>等高線図を作成する</p>
<div style="text-align: left; direction: ltr; margin-left: 1em;"><p><a  class="image"><img alt="Video Image.png" src="../images/Creating_Contour_Graphs/Video_Image.png" width="33"  /></a> 関連する動画は<a class="external text" href="http://www.originlab.com/index.aspx?go=Products/Origin/Graphing/Contour&amp;ss=chm&amp;pid=1551" target="_blank">こちら</a>
</p></div>
<p>等高線図は2Dで表される表面グラフです。  等高線図の表示は、XY平面から垂直な点で3D曲面図を表示するのと同じです。  等高線図では、Z値の範囲は、異なる色またはグレースケールレベル、等高線ラベルで区別されます。  
</p>
<dl><dd><a  class="image"><img alt="A Note about Contour Graphs-01.png" src="../images/Creating_Contour_Graphs/A_Note_about_Contour_Graphs-01.png" width="302"  /></a></dd></dl>
<div id="toc" class="toc"><div id="toctitle"><h2>目次</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Contour_Graph_Types"><span class="tocnumber">1</span> <span class="toctext">等高線グラフの種類</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#How_to_Create_and_Customize_Contour_Graphs"><span class="tocnumber">2</span> <span class="toctext">等高線グラフの作成および編集方法</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#The_Highlight_Features_for_Contour_Graphs"><span class="tocnumber">3</span> <span class="toctext">等高線グラフの主な機能</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#Generate_Grid_from_XYZ_Contour_Plot"><span class="tocnumber">3.1</span> <span class="toctext">XYZ等高線図からグリッドを作成</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Dialog_Controls_of_the_Generate_Grid_Dialog"><span class="tocnumber">3.2</span> <span class="toctext"><i>グリッドを作成</i> ダイアログのダイアログコントロール</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Adding_or_Removing_Contour_Labels"><span class="tocnumber">3.3</span> <span class="toctext">等高線レベルの追加と削除</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Extracting_Contour_Lines"><span class="tocnumber">3.4</span> <span class="toctext">等高線データの抽出</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-8"><a href="#Algorithm_for_Creating_a_Contour_from_a_Worksheet"><span class="tocnumber">4</span> <span class="toctext">ワークシートから等高線を作成するアルゴリズム</span></a>
<ul>
<li class="toclevel-2 tocsection-9"><a href="#Triangulation"><span class="tocnumber">4.1</span> <span class="toctext">三角分割法</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Linear_interpolation"><span class="tocnumber">4.2</span> <span class="toctext">線形補間</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Drawing_of_contour_lines"><span class="tocnumber">4.3</span> <span class="toctext">等高線の描画</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#Connecting_and_smoothing"><span class="tocnumber">4.4</span> <span class="toctext">接続とスムージング</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-13"><a href="#Algorithm_for_Creating_a_Contour_from_a_Matrix"><span class="tocnumber">5</span> <span class="toctext">行列から等高線を作成するアルゴリズム</span></a></li>
</ul>
</div>
<h2><a name="Contour_Graph_Types"></a><span class="mw-headline">等高線グラフの種類</span></h2>
<p>Originは7種類の等高線図を提供しています。  
</p>
<table class="simple">
<tr>
<th>グラフの種類
</th>
<th>ワークシートのXYZ列
</th>
<th>行列ウィンドウ
</th>
<th>ワークシートの仮想行列
</th></tr>
<tr>
<td>
<ul><li><b>等高線 - カラーマップ</b></li>
<li><b>等高線：線＋ラベル</b></li>
<li><b>グレースケール等高線</b></li>
<li> <b>ヒートマップ</b></li></ul>
</td>
<td>はい (ヒートマップ以外)
</td>
<td>はい
</td>
<td>はい
</td></tr>
<tr>
<td>
<ul><li><b>θrZ極座標等高線</b></li></ul>
</td>
<td>はい
</td>
<td>はい
</td>
<td>いいえ
</td></tr>
<tr>
<td>
<ul><li><b>rθZ極座標等高線</b></li>
<li><b>三点等高線図</b></li></ul>
</td>
<td>可
</td>
<td>不可
</td>
<td>いいえ
</td></tr></table>
<p>『(作図の詳細) <a href="../../UserGuide/UserGuide/The_(Plot_Details)_Color_Map_Contours_Tab.html" title="ユーザガイド:(作図の詳細) 「カラーマップ/等高線」タブ"><b>カラーマップ/等高線</b></a>』、『<a href="../../UserGuide/UserGuide/The_(Plot_Details)_Label4_Tab.html" title="ユーザガイド:(作図の詳細)ラベル4 タブ"><b>ラベル</b></a>』タブを使って、等高線図を編集します。  
</p><p>Originの等高線図は、行列データとワークシートデータ、つまり仮想行列データから作成できます。ワークシートから直接等高線図を作成するよりも、行列から等高線図を作成するほうが高速なので、大きなデータを扱うには行列の手法の方がおすすめです。一方、XYZワークシートから等高線グラフを作成する場合、三角分割法を使って等高線を生成するので、行列を生成する必要はありません。
</p>
<table class="note">
<tr>
<td><b>Note:</b> 生のＸＹでプロットする等高線の三角法アルゴリズムはOrigin 2016で実行されました。以前のバージョンでは、X,Yデータに対する正規化が作図の前にいくつか行われていました。バージョン2016以降、XYZワークシートデータでの等高線図及び3D曲面は、 以前のバージョンで作成された同じデータとは、異なっています。この変更は、X値とY値の間でスケール範囲が大きく異なる場合に顕著に現れてきます。詳細は <a class="external text" href="../../QuickHelp/QuickHelp/Contour_surface_from_XYZ_look_different_in_2016.html">FAQ-822</a> をご覧ください
</td></tr></table>
<p><br />
他に、XYZワークシートから等高線を作成することには次のようなメリットがあります。
</p>
<ol><li>レイヤ境界、データ境界、カスタム境界, をサポート
<dl><dd><a  class="image"><img alt="A Note about Contour Graphs-03.png" src="../images/Creating_Contour_Graphs/A_Note_about_Contour_Graphs-03.png" width="435"  /></a></dd></dl></li>
<li>三点等高線図をサポート
<dl><dd><a  class="image"><img alt="Contour Graphs 10.png" src="../images/Creating_Contour_Graphs/Contour_Graphs_10.png" width="255"  /></a></dd></dl></li></ol>
<p>XYZデータあるいは仮想行列から作成された等高線図は非線形のX/Y軸をサポートしています。行列ウィンドウから作成された等高線図は線形軸のみサポートします。
</p>
<table class="noborder"><tr>
	<td style="vertical-align:top" width="60"><img src="../images/Creating_Contour_Graphs/Tip_icon.png" width="57"  border="0" /></td><td><p>Origin 2018より前は、カスタム境界を適用すると境界マージンに不完全な色塗りが生成されることがありました。これはバージョン2018で改善されました。<a class="external text" href="../../LabTalk/LabTalk/System_Variable_List.html#T">システム変数 @TCSM</a>を使って、以前の不具合現象を修正することが可能です。
</p>
<dl><dd><a  class="image"><img alt="Tri contour smooth mode.png" src="../images/Creating_Contour_Graphs/Tri_contour_smooth_mode.png" width="297"  /></a></dd></dl>
</td></tr></table>
<h2><a name="How_to_Create_and_Customize_Contour_Graphs"></a><span class="mw-headline">等高線グラフの作成および編集方法</span></h2>
<p>行列データから等高線図を作成するには、対応するボタンをクリックするか、<b><b>作図</b></b>メニューから対応する項目を選択します。  XYZデータから等高線図を作成するには、Z列を作成するかどの列も選択しない状態で上記2つの方法のうち、片方を実行します。仮想行列で等高線図を作成するには、ワークシート内の全ての元データを選択してから上記方法の片方を実行します。すると、Originは内部的仮想行列とグラフを作成するダイアログを開きます。  仮想行列からグラフを作成することについての詳細は、<a href="../../UserGuide/UserGuide/Creating_3D_and_Contour_Graphs_from_Virtual_Matrix.html" title="ユーザガイド:仮想行列から3Dおよび等高線グラフを作成する。"><b>仮想行列から3Dおよび等高線図を作成する</b></a>をご覧ください。  各等高線図の種類については、<a href="../../UserGuide/Category/Contour_Graphs.html" title="カテゴリー:等高線図"><b>等高線図</b></a>で詳細を参照してください。 
</p><p>等高線図の編集に関しては<b>軸</b>ダイアログと<b><b>作図の詳細</b></b>ダイアログで行われます。<b><b>軸</b></b>ダイアログの詳細については、<a href="../../UserGuide/Category/Graph_Axes.html" title="カテゴリー:グラフの軸"><b>グラフ軸</b></a>をご確認ください。<b><b><b>作図の詳細</b></b></b>ダイアログについての詳細は、 <a href="../../UserGuide/Category/Customizing_Your_Graph.html" title="カテゴリー:グラフを編集する"><b>グラフを編集する</b></a>をご覧ください。
</p>
<h2><a name="The_Highlight_Features_for_Contour_Graphs"></a><span class="mw-headline">等高線グラフの主な機能</span></h2>
<p>等高線図には特殊な機能がいくつかあります。 
</p>
<h3><a name="Generate_Grid_from_XYZ_Contour_Plot"></a><span class="mw-headline">XYZ等高線図からグリッドを作成</span></h3>
<p>XYZデータから等高線図を作成すると、等高線上で右クリックして<b><b>グリッドを作成</b></b>を選択すると、<b>グリッドを作成: xyzgrid</b>ダイアログを利用できます。X、Y方向のグリッドサイズと範囲を指定して、指定したポイントでの補間データを、XYZまたは行列形式で新しいブックに出力できます。
<br /><br />
<a href="../../UserGuide/UserGuide/Creating_Contour_Graphs.html#Algorithm_for_Creating_a_Contour_from_a_Worksheet" title="ユーザガイド:等高線図を作成する">アルゴリズム</a>にあるように、指定されたグリッド点は三角分割法で計算され線形補間されます。
入力データ範囲の外側にある等高線の値は欠損値に設定されます。
</p>
<dl><dd><dl><dd><a  class="image"><img alt="Generate Grid XYZ Contour.png" src="../images/Creating_Contour_Graphs/Generate_Grid_XYZ_Contour.png" width="677"  /></a></dd></dl></dd></dl>
<h3><a name="Dialog_Controls_of_the_Generate_Grid_Dialog"></a><span class="mw-headline"><i><i>グリッドを作成</i></i>ダイアログのダイアログコントロール</span></h3>
<table class="dialogcontroltable">
<tr>
<th>Xグリッドサイズ
</th>
<td>X方向のグリッド点の数を指定します。
</td></tr>
<tr>
<th>Yグリッドサイズ
</th>
<td>Y方向のグリッド点の数を指定します。
</td></tr>
<tr>
<th> グリッド範囲
</th>
<td>
<p>入力データ範囲の境界を指定します。デフォルトでは、すべてのデータポイントが含まれています。不良データポイントどを除外するために、最小と最大のXY座標を編集することで入力データの制限が可能です（<b>Note:</b> 入力データ範囲外の等高線値は欠損値として扱われます。） 
</p>
<dl><dd><b>X最小</b> 
<dl><dd>出力XYZ/行列データの最小のX値</dd></dl></dd>
<dd><b>X最大</b>
<dl><dd>出力XYZ/行列データの最大のX値</dd></dl></dd>
<dd><b>Y最小</b> 
<dl><dd>出力XYZ/行列データの最小のY値</dd></dl></dd>
<dd><b>Y最大</b> 
<dl><dd>出力XYZ/行列データの最大のY値</dd></dl></dd></dl>
</td></tr>
<tr>
<th>出力先
</th>
<td>
<p>出力データの形式を指定します。
</p>
<dl><dd><b>XYZデータ</b>
<dl><dd>補間された等高線値をXYZデータ形式で出力します。</dd></dl></dd>
<dd><b>行列</b>
<dl><dd>補間された等高線値を行列形式で出力します。</dd></dl></dd></dl>
</td></tr></table>
<h3><a name="Adding_or_Removing_Contour_Labels"></a><span class="mw-headline">等高線レベルの追加と削除</span></h3>
<ul><li> 複数の等高線にラベルを追加するには、<b>作図の詳細</b>ダイアログにある、<b>カラーマップ/</b> タブを使います。または、等高線図をクリックし、ミニツールバーの<b>等高線ラベルを表示</b>ボタン<a  class="image"><img alt="Button MT add label.png" src="../images/Creating_Contour_Graphs/Button_MT_add_label.png" width="24"  /></a>から、<a href="../../UserGuide/UserGuide/The_(Plot_Details)_Color_Map_Contours_Tab.html#Editing_Display_of_Labels" title="ユーザガイド:(作図の詳細) 「カラーマップ/等高線」タブ"><b>主レベル上のみ表示</b></a>をオンにします。</li></ul>
<ul><li> 1つまたは2つの等高線のみに追加する場合は、次のように行います。</li></ul>
<dl><dd><ol><li> Ctrl + Shiftキーを押しながら、ラベルを付ける等高線を正確にクリックします。選択した等高線を右クリックして、 <b>等高線ラベルの付加</b> を選択します。 </li>
<li> ドラッグしてラベルの位置を調整します。</li></ol></dd></dl>
<dl><dd><dl><dd><a  class="image"><img alt="A Note about Contour Graphs-09.png" src="../images/Creating_Contour_Graphs/A_Note_about_Contour_Graphs-09.png" width="627"  /></a></dd></dl></dd></dl>
<p><br />
<i><b>等高線ラベルの削除（非表示）：</b></i>
</p>
<ul><li> <a href="../../UserGuide/UserGuide/The_(Plot_Details)_Color_Map_Contours_Tab.html#Level.2C_Fill.2C_Line_and_Labels" title="ユーザガイド:(作図の詳細) 「カラーマップ/等高線」タブ"><b>カラーマップ/等高線</b>タブ</a>を使います。ミニツールバーの<b>等高線ラベルを表示</b>ボタン<a  class="image"><img alt="Button MT add label.png" src="../images/Creating_Contour_Graphs/Button_MT_add_label.png" width="24"  /></a>をクリックして、等高線ラベルの表示を切り替えることもできます。</li>
<li> または、等高線<i>レベル</i>から<i>すべて</i>のラベルを削除するには、Ctrlキーを押しながらレベルを正確にクリックし、右クリックして<b>等高線ラベルの削除</b>を選択します。<i>１つの等高線</i>から（等高線レベル内で）ラベルを削除するには、CTRL + SHIFTを押して等高線を選択し、右クリックして<b>等高線ラベルの削除</b>を選択します。</li></ul>
<h3><a name="Extracting_Contour_Lines"></a><span class="mw-headline">等高線データの抽出</span></h3>
<p><b>等高線データの抽出</b> では、Z値とXY座標、等高線に囲まれた面積を新規のワークシートに出力します。この面積は、 <a class="external text" href="../../XFunction/X-Function/Polyarea.html">the Polygon Area (polyarea) X-Function</a> によって計算されます。Polygon Area は同じZ値の等高線で囲まれた面積を返します。等高線に囲まれた面積の減算はありません。
</p><p><i><b><b>等高線データを抽出</b>するには：</b></i>
</p>
<ul><li> <i>１回</i> クリックすると、全ての等高線が選択されます。</li>
<li> ２回クリックすると、同じZ値にある全ての等高線が選択されます。</li>
<li> <i>３回</i> 目のクリックでは、１つの等高線が選択されます。</li></ul>
<p>選択した等高線で右クリックし、 <b>等高線データの抽出</b> を選択します。多角形面積を含むデータが、新規のワークブックに出力されます。
</p>
<h2><a name="Algorithm_for_Creating_a_Contour_from_a_Worksheet"></a><span class="mw-headline">ワークシートから等高線を作成するアルゴリズム</span></h2>
<p>等高線図は、グリッディングせずに (x, y, z) 座標(直交座標)または (r, <img src="../images/Creating_Contour_Graphs/math-2554a2bb846cffd697389e5dc8912759.png" title="\theta" alt="\theta" class="tex"/>, z) 座標(極座標)から直接作成することができます。  データが (r, <img src="../images/Creating_Contour_Graphs/math-2554a2bb846cffd697389e5dc8912759.png" title="\theta" alt="\theta" class="tex"/>, z) 座標にある場合、Originは、まず、等高線を作成する前にデータをXYZ空間に変換します。(x, y, z)座標 と (r, <img src="../images/Creating_Contour_Graphs/math-2554a2bb846cffd697389e5dc8912759.png" title="\theta" alt="\theta" class="tex"/>, z) 座標の変換は、次式で行われます。
</p><p><img src="../images/Creating_Contour_Graphs/math-61febb77345b37187b22748d6067c0e2.png" title="r=\sqrt{x^2+y^2}  " alt="r=\sqrt{x^2+y^2}  " class="tex"/>
</p><p><img src="../images/Creating_Contour_Graphs/math-87f75753be7b90956e8cbf94e617ee91.png" title="\theta =\tan ^{-1}\left( \frac yx\right) " alt="\theta =\tan ^{-1}\left( \frac yx\right) " class="tex"/>  
</p><p><img src="../images/Creating_Contour_Graphs/math-94b13fe3745d335642bef42d08cdb53f.png" title="z=z\,\! " alt="z=z\,\! " class="tex"/>
</p><p>さらに
</p><p><img src="../images/Creating_Contour_Graphs/math-797a12cd399ef739fb94c85592e26754.png" title="x=r\cos\theta \,\!" alt="x=r\cos\theta \,\!" class="tex"/>  
</p><p><img src="../images/Creating_Contour_Graphs/math-dfe5ea7156b6e6a5dd2ae849223af0f8.png" title="y=r\sin\theta\,\! " alt="y=r\sin\theta\,\! " class="tex"/>  
</p><p><img src="../images/Creating_Contour_Graphs/math-bae36dfd0a610aaa3acd7afe612ec9c9.png" title="z=z\,\!" alt="z=z\,\!" class="tex"/>
</p>
<dl><dd><a  class="image"><img alt="A Note about Contour Graphs-04.png" src="../images/Creating_Contour_Graphs/A_Note_about_Contour_Graphs-04.png" width="296"  /></a></dd></dl>
<p>直交座標では、4つのステップで等高線を作成します。
</p>
<ul><li>三角分割</li></ul>
<ul><li>線形補間</li></ul>
<ul><li>等高線の描画</li></ul>
<ul><li>接続とスムージング</li></ul>
<h3><a name="Triangulation"></a><span class="mw-headline">三角分割法</span></h3>
<p>すべてのデータポイントは接続され、XY平面上でティーセン(ドローネー)の三角形を作成します。三角形は、出来る限り等角になるように作成されます。さらに、2つの三角形が交わることはありません。  三角形の辺がメッシュの端でなければ、それは2つの三角形で共有されます。
</p>
<dl><dd><a  class="image"><img alt="A Note about Contour Graphs-05.png" src="../images/Creating_Contour_Graphs/A_Note_about_Contour_Graphs-05.png" width="262"  /></a></dd></dl>
<h3><a name="Linear_interpolation"></a><span class="mw-headline">線形補間</span></h3>
<p>等高線と三角形の辺の交点を見つけるために線形補間が行われます。
</p><p>等高線レベルzcを指定すると、Originは、すべての三角形を横断し、このレベルの等高線が三角形と交わるかどうかを調べます。三角形の一辺が、等高線と交わると、それが指標の辺として印が付けられます。そして、交点の座標は、この文書内で指標の点として参照され、線形補間で計算されます。
</p><p>三角形の2つの頂点 I(xi, yi, zi) と J(xj, yj, zj)を結ぶ三角形の辺に対して、以下のことが真であるかどうかを調べます。
</p><p><img src="../images/Creating_Contour_Graphs/math-cf5d1acb338af77e8ad34b6fb4871194.png" title="\left( z_i-z_c\right) *\left( z_j-z_c\right) &lt;0" alt="\left( z_i-z_c\right) *\left( z_j-z_c\right) &lt;0" class="tex"/>
</p><p><img src="../images/Creating_Contour_Graphs/math-f6714df598d8753be5b38a2a9779e809.png" title="z_i=z_i-\varepsilon" alt="z_i=z_i-\varepsilon" class="tex"/>
</p><p><img src="../images/Creating_Contour_Graphs/math-2b2d82d2d78a756ea0c9461724256d05.png" title="z_j=z_j-\varepsilon" alt="z_j=z_j-\varepsilon" class="tex"/>
</p><p>真の場合、この辺が指標の辺であるということができます。  さらに、不等式の左側の積が0の場合、等高線が少なくとも頂点の1つを通るということになります。この場合、zi と zj は、小さな値 <img src="../images/Creating_Contour_Graphs/math-f8b1c5a729a09649c275fca88976d8dd.png" title="\varepsilon" alt="\varepsilon" class="tex"/> を減算することによって調整され、指標の点は頂点ではなくなります。調整は以下のように行われます。
</p><p>上記において、<img src="../images/Creating_Contour_Graphs/math-551ea57b9b440e6d4401a506eddbaa49.png" title="\varepsilon = 1e^{-15}" alt="\varepsilon = 1e^{-15}" class="tex"/>です。 
</p>
<dl><dd><a  class="image"><img alt="A Note about Contour Graphs-06.png" src="../images/Creating_Contour_Graphs/A_Note_about_Contour_Graphs-06.png" width="269"  /></a></dd></dl>
<p>この辺が指標の辺の場合、その上にある指標の点の座標は次の方法で線形補間され計算されます。
</p><p><img src="../images/Creating_Contour_Graphs/math-d74bc76a69ec5229bc4c430912ee2e15.png" title="x_c=x_i+\frac{x_j-x_i}{z_j-z_i}\left( z_c-z_i\right)" alt="x_c=x_i+\frac{x_j-x_i}{z_j-z_i}\left( z_c-z_i\right)" class="tex"/>
</p><p><img src="../images/Creating_Contour_Graphs/math-ea50fab94e38e55a7096aab926b1713f.png" title="y_c=y_i+\frac{y_j-y_i}{z_j-z_i}\left( z_c-z_i\right)" alt="y_c=y_i+\frac{y_j-y_i}{z_j-z_i}\left( z_c-z_i\right)" class="tex"/>
</p><p>Originは、今後利用するために、すべての指標の辺と指標の点の座標を記録します。
</p><p>三角形が等高線と交わる場合、2つの指標の辺があるということです。
</p>
<h3><a name="Drawing_of_contour_lines"></a><span class="mw-headline">等高線の描画</span></h3>
<p>等高線を描画するには、その上にすべての指標の点をトレースする必要があります。
</p><p>三角メッシュの境界線上に指標の点がある場合、その点からトレースを開始します。  それ以外の場合、いずれかの指標の点からトレースを開始します。
</p><p>等高線で遮断する三角形は2つの指標の辺を持ち、メッシュの端にない辺は2つの三角形で共有されなければならないことを思い出して下さい。ですから、ある指標の一辺(次の図でSide A)から同じ三角形の別の指標の辺(次の図でSide B)にトレースすることができます。後者が、三角メッシュの端にない場合、現在の三角形 (次の図のTriangle 1)でこの辺を共有する別の三角形(次の図のTriangle 2)を見つけます。そして、この新しい三角形の別の辺(次の図でSide C)の指標の点を見つけることができます。  このようにして、メッシュの端または既にトレースを行った指標の点に達するまで、トレースを続けます。（前者の場合、等高線は閉じませんが、後者の場合、等高線は閉じます。)トレースされる指標の点の数がこのレベルでの指標の点の合計数と比較されます。  それらが等しくない場合、いくつかの指標の点がトレースされていないということになります。  すべての指標の点がトレースされるまでトレースが続きます。
</p>
<dl><dd><a  class="image"><img alt="A Note about Contour Graphs-071.png" src="../images/Creating_Contour_Graphs/A_Note_about_Contour_Graphs-071.png" width="339"  /></a></dd></dl>
<h3><a name="Connecting_and_smoothing"></a><span class="mw-headline">接続とスムージング</span></h3>
<p>トレースが終わったら、指標の点が直線で接続されます。スムージングは、<b>作図の詳細</b>ダイアログの<a href="../../UserGuide/UserGuide/The_(Plot_Details)_Contouring_Info_Tab.html" title="ユーザガイド:(作図の詳細) 『等高線設定』タブ"><b>等高線設定</b></a>で<b><b>スムージング</b></b>のチェックが付いているワークシートからの等高線図で利用可能です。<a href="../../UserGuide/UserGuide/The_(Plot_Details)_Contouring_Info_Tab.html#Smoothing" title="ユーザガイド:(作図の詳細) 『等高線設定』タブ">スムージングパラメータ</a>や、ワークシートから作成された等高線図に使用される<a href="../../UserGuide/UserGuide/Gridding_Methods_for_Randomly_Spaced_Data.html#Thin_Plate_Spline_.28TPS.29" title="ユーザガイド:ランダム配置データのグリッディング法"> <b>TPSアルゴリズム</b></a>についての情報を確認してください。
</p><p><br />
</p>
<dl><dd><a  class="image"><img alt="A Note about Contour Graphs-08.png" src="../images/Creating_Contour_Graphs/A_Note_about_Contour_Graphs-08.png" width="276"  /></a></dd></dl>
<h2><a name="Algorithm_for_Creating_a_Contour_from_a_Matrix"></a><span class="mw-headline">行列から等高線を作成するアルゴリズム</span></h2>
<p>行列（または仮想行列）から等高線図を作図する際も同様ですが、アルゴリズムはよりシンプルで、次の3つのステップで行われます。
</p>
<ul><li>線形補間</li></ul>
<ul><li>等高線の描画</li></ul>
<ul><li>線の接続</li></ul>
<p>線形補間において、等高線の描画は、ワークブックから等高線図を作図するのと同じアルゴリズムが使用されます。 
</p><p>行列から作成される等高線図の線の接続では、直線で特性点を結びます。後にスムージングは実行されません。
</p><p><br />
<i><b>参考</b></i>
</p>
<ol><li>Robert J. Renka.Interpolation of Data on the Surface of a Sphere.ACM Transactions on Mathematical Software, Vol. 10, No. 4, December 1984, Pages 417-436.</li>
<li>Fen Yuan, Automatic Drawing of Equal Quantity Curve.Computer Aided Engineering, No. 3 Sept. 1998.</li></ol>


    