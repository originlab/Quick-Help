<h1 class="firstheading">誤差と重み付けを使ってフィットする</h1>
<p class="urlname" style="display: none;">FIt-with-Err-Weight</p>
<p>場合によっては、フィッティング計算に特定のデータポイントを他のものよりも重視したい場合があります。したがって、フィッティングのデータセットを選択するときは、<b>設定</b>タブの<a href="../../UserGuide/UserGuide/Settings_Tab_Upper_Panel.html#Data_Selection" title="ユーザガイド:『設定』タブ (上側パネル)"><b>データ選択</b>ページ</a>の重み付け設定を行って、加重フィッティングを実行することもできます。</p>
<dl>
<dd><a class="image" style="color: #0000ff; text-decoration: underline;"><img alt="Fitting with Errors and Weighting 01.png" src="../images/Fitting_with_Errors_and_Weighting/500px-Fitting_with_Errors_and_Weighting_01.png" width="889" height="452" border="0" /></a></dd>
</dl>
<p>フィッティング後、次のような重み付けのある結果を得られます。</p>
<dl>
<dd><a class="image" style="color: #0000ff; text-decoration: underline;"><img alt="Fitting with Errors and Weighting 02.png" src="../images/Fitting_with_Errors_and_Weighting/500px-Fitting_with_Errors_and_Weighting_02.png" width="781" height="583" border="0" /></a></dd>
</dl>
<p><br /></p>
<table class="noborder">
<tr>
<td style="vertical-align: top;" width="60"><img src="../images/Fitting_with_Errors_and_Weighting/Tip_icon.png" alt="" width="57" border="0" /></td>
<td>
<p><a href="../../UserGuide/UserGuide/Settings_Tab_Upper_Panel.html#Function_Selection" title="ユーザガイド:『設定』タブ (上側パネル)"><b>反復アルゴリズム</b></a>が <b>Levenberg Marquardt</b>の場合、Yの重み付けのみ可能ですが、<b>直交距離回帰</b>（Orthogonal Distance Regression、Pro版のみ）の場合、XとYの重み付けがサポートされています。</p>
</td>
</tr>
</table>
<p>複数の入力データセットがあるとき、各Y（またはX）データに異なる重み付け法を指定することが出来ます。重み付けは、カイ二乗が減少する手続きで使用されます。異なるケースで使用される式については、<a href="../../UserGuide/Category/Theory_of_Nonlinear_Curve_Fitting.html#Iteration_Algorithm" title="カテゴリー：非線形曲線フィットの理論">反復アルゴリズム</a>を参照してください。</p>
<p>Originは、複数の重み付け法をサポートしており、いくつかはL-Mアルゴリズムでのみ使用できます。下表は各オプションで使用される式の一覧です。ここで、<i>y</i> は、関数パラメータ名を示し、従属変数を示すものではありません。</p>
<table class="simple">
<caption><a class="image"><img alt="Mini bulb.png" src="../images/Fitting_with_Errors_and_Weighting/Mini_bulb.png" width="24" border="0" /></a> <b><img src="../images/Fitting_with_Errors_and_Weighting/math-8d62e469fb30ed435a668eb5c035b1f6.png" title="y_i" alt="y_i" class="tex" border="0" /> はフィットする独立変数のy値、<img src="../images/Fitting_with_Errors_and_Weighting/math-7f9658a8611d26374a7798b5cad44c84.png" title="\hat y_i" alt="\hat y_i" class="tex" border="0" /> はフィットした曲線のy値です。</b></caption>
<tr>
<th><a href="../../UserGuide/Category/Theory_of_Nonlinear_Curve_Fitting.html#Levenberg-Marquardt_.28L-M.29_Algorithm" title="カテゴリー：非線形曲線フィットの理論" style="color: #0000ff; text-decoration: underline;">L-M</a> と <a href="../../UserGuide/Category/Theory_of_Nonlinear_Curve_Fitting.html#Orthogonal_Distance_Regression_.28ODR.29_Algorithm" title="カテゴリー：非線形曲線フィットの理論">ODR</a> アルゴリズムで使用可能なオプション</th>
<th>重み付け式</th>
</tr>
<tr>
<td>
<p>重み付けなし</p>
</td>
<td>
<p><img src="../images/Fitting_with_Errors_and_Weighting/math-73af736d7cac2c4968992f609669c479.png" title="w_{i}=1\,\!" alt="w_{i}=1\,\!" class="tex" border="0" /></p>
</td>
</tr>
<tr>
<td>
<p>機械的</p>
</td>
<td>
<p><img src="../images/Fitting_with_Errors_and_Weighting/math-5b7d75fa84cbc9a0796caa1f99158372.png" title="w_{i}=\frac 1{\sigma _{i}^2}\,\!" alt="w_{i}=\frac 1{\sigma _{i}^2}\,\!" class="tex" border="0" />ここで<img src="../images/Fitting_with_Errors_and_Weighting/math-033e2942bc4ed53a65cc8499474b5b9c.png" title="\sigma _i\ " alt="\sigma _i\ " class="tex" border="0" /> は、エラーバー列に保存されるエラーバーの大きさです。</p>
</td>
</tr>
<tr>
<td>
<p>統計的重み付け</p>
</td>
<td>
<p><img src="../images/Fitting_with_Errors_and_Weighting/math-66fde7cf3b65b3a10e007fae0ef25a84.png" title="w_{i}=\frac 1{y_{i}}\,\!" alt="w_{i}=\frac 1{y_{i}}\,\!" class="tex" border="0" /></p>
</td>
</tr>
<tr>
<td>
<p>任意データセット</p>
</td>
<td>
<p><img src="../images/Fitting_with_Errors_and_Weighting/math-079938f0156b18d41e9894c01c6b839d.png" title="w_{i}=\frac 1{c_{i}^2}\,\!" alt="w_{i}=\frac 1{c_{i}^2}\,\!" class="tex" border="0" /> ここで <img src="../images/Fitting_with_Errors_and_Weighting/math-e0fde5e2678dcb14eb764b19c009a00e.png" title="c _{i}\,\!" alt="c _{i}\,\!" class="tex" border="0" /> はその任意に指定されたデータセットの値</p>
</td>
</tr>
<tr>
<td>
<p>直接的重み付け</p>
</td>
<td>
<p><img src="../images/Fitting_with_Errors_and_Weighting/math-9012c8aea8fb09e2751f1a2a89585256.png" title="w_{i}=c_{i}\,\!" alt="w_{i}=c_{i}\,\!" class="tex" border="0" /></p>
</td>
</tr>
<tr>
<td>
<p>分散 ~ y^2</p>
</td>
<td>
<p><img src="../images/Fitting_with_Errors_and_Weighting/math-321ce6155ebbd6e191b0b307a8b377ad.png" title="w_i=\frac 1{y_i^2}\,\!" alt="w_i=\frac 1{y_i^2}\,\!" class="tex" border="0" /></p>
</td>
</tr>
<tr>
<td>
<p>分散 = a*y^b</p>
</td>
<td>
<p><img src="../images/Fitting_with_Errors_and_Weighting/math-57e80e74657d8b449174ee5a8cf314fc.png" title="w_i=\frac 1{ay_i^b}\,\!" alt="w_i=\frac 1{ay_i^b}\,\!" class="tex" border="0" /></p>
</td>
</tr>
<tr>
<td>
<p>分散 = c^b+a*y^b</p>
</td>
<td>
<p><img src="../images/Fitting_with_Errors_and_Weighting/math-edc5ce678b8c66fc7a809d4f7ecc8545.png" title="w_i=\frac 1{c^b+ay^b}\,\!" alt="w_i=\frac 1{c^b+ay^b}\,\!" class="tex" border="0" /></p>
</td>
</tr>
<tr>
<th><a href="../../UserGuide/Category/Theory_of_Nonlinear_Curve_Fitting.html#Levenberg-Marquardt_.28L-M.29_Algorithm" title="カテゴリー：非線形曲線フィットの理論" style="color: #0000ff; text-decoration: underline;">L-M</a> アルゴリズムのみで使用可能なオプション</th>
<th>重み付け式</th>
</tr>
<tr>
<td>分散 = a*y^b*c^(tlast−t)</td>
<td>
<p><img src="../images/Fitting_with_Errors_and_Weighting/math-72be1170bb8e47672b77003dad1c3413.png" title="w_i=\frac 1{ay_i^bc^{t_{last}-t_i}}" alt="w_i=\frac 1{ay_i^bc^{t_{last}-t_i}}" class="tex" border="0" /> ここで <img src="../images/Fitting_with_Errors_and_Weighting/math-7f1844697b04020b015d155a29af0f16.png" title="t_{last}" alt="t_{last}" class="tex" border="0" />、<img src="../images/Fitting_with_Errors_and_Weighting/math-d56c9dcd61c244d4dd826760402f0251.png" title="t _{i}" alt="t _{i}" class="tex" border="0" /> はその任意に指定されたデータセットの値</p>
</td>
</tr>
<tr>
<td>
<p>分散 ~ yfit</p>
</td>
<td>
<p><img src="../images/Fitting_with_Errors_and_Weighting/math-ce16aedd914f0c8dd4af99c9dc1132bc.png" title="w_i=\frac 1{\hat y_i}" alt="w_i=\frac 1{\hat y_i}" class="tex" border="0" /></p>
</td>
</tr>
<tr>
<td>
<p>分散 ~ yfit^2</p>
</td>
<td>
<p><img src="../images/Fitting_with_Errors_and_Weighting/math-b923f842ff4b3bce242de8ef62a1d39a.png" title="w_i=\frac 1{\hat y_i^2}" alt="w_i=\frac 1{\hat y_i^2}" class="tex" border="0" /></p>
</td>
</tr>
<tr>
<td>
<p>分散 = a*yfit^b</p>
</td>
<td>
<p><img src="../images/Fitting_with_Errors_and_Weighting/math-74b4d65e8fe08e1a13f15b8443996ef8.png" title="w_i=\frac 1{a\hat y_i^b}" alt="w_i=\frac 1{a\hat y_i^b}" class="tex" border="0" /></p>
</td>
</tr>
<tr>
<td>
<p>分散 = c^b+a*yfit^b</p>
</td>
<td>
<p><img src="../images/Fitting_with_Errors_and_Weighting/math-eba83278a2685780e897dc35b5c2d01e.png" title="w_i=\frac 1{c^b+a\hat y_i^b}" alt="w_i=\frac 1{c^b+a\hat y_i^b}" class="tex" border="0" /></p>
</td>
</tr>
<tr>
<td>
<p>分散 = a*yfit^b*c^(tlast−t)</p>
</td>
<td>
<p><img src="../images/Fitting_with_Errors_and_Weighting/math-ccf4a20e07453ce857b43d97b7a68917.png" title="w_i=\frac 1{a\hat y_i^bc^{t_{last}-t_i}}" alt="w_i=\frac 1{a\hat y_i^bc^{t_{last}-t_i}}" class="tex" border="0" /> ここで <img src="../images/Fitting_with_Errors_and_Weighting/math-7f1844697b04020b015d155a29af0f16.png" title="t_{last}" alt="t_{last}" class="tex" border="0" />、<img src="../images/Fitting_with_Errors_and_Weighting/math-d56c9dcd61c244d4dd826760402f0251.png" title="t _{i}" alt="t _{i}" class="tex" border="0" /> はその任意に指定されたデータセットの値</p>
</td>
</tr>
</table>
