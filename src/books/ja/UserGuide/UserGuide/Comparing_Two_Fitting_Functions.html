<h1 class="firstheading">2つのフィット関数を比較する(OriginProのみ)</h1><p class="urlname" style='display: none'>PostFit-CompareFitFunc</p>
<p>「fitcmpmodel」Xファンクション (メニューから<B>解析：フィット：モデルの比較</B>を選択) は、2つの異なるフィット関数を使って1つのデータセットをフィットするために結果を比較します。これは、どのモデルがよりよいかを決定する機能です。
</p><p>フィット比較ツールは、データセットから直接結果を計算しません。これは、フィット結果のワークシートを入力とします。つまり、2つのモデルを比較するには、最初にデータセットを2つの異なるモデルで別々にフィットし、そして、フィットレポートワークシートをXファンクションの入力として選択します。モデルの比較は3つの異なる検定、 <B>F検定</B>、2次の<B>AIC(赤池情報量基準)検定</B>、<B>BIC(ベイズ情報量基準)検定</B>を使って行われます。 
</p><p><B>F検定</B>は、2つのモデルがネストしていると仮定し、2次多項式と3次多項式のようにあるモデルがもう一方のモデルを単純化したものだとして計算します。F値は次のように計算されます。
</p><p><img src="../images/Comparing_Two_Fitting_Functions/math-fde396d85718ed120f6bfa76ff8d3888.png" title="F=\frac{(RSS_1-RSS_2)\;/\;(df_1-df_2)}{RSS_2\;/\;df_2} \,\!" alt="F=\frac{(RSS_1-RSS_2)\;/\;(df_1-df_2)}{RSS_2\;/\;df_2} \,\!" class="tex"/>
</p><p>ここで RSS1 と df1 は、単純化したモデルの残差平方和と自由度です。そして、次式によって、確率pを計算することができます。
</p><p><img src="../images/Comparing_Two_Fitting_Functions/math-6680838ff4abbed2ac306d646591ffa8.png" title="P=fcdf(F,df_1-df_2) \,\!" alt="P=fcdf(F,df_1-df_2) \,\!" class="tex"/>
</p><p>モデルがネストしていない場合、F検定の結果は使用しないでください。例えば、モデルが同じ自由度を持つ場合、df1-df2は0になり、F値を計算することはできません。
</p><p><br /> 一方で、<B>AIC</B>検定は2つのモデルがネストしている必要はありません。ですから、どのモデルでもこの方法で比較することができます。 
</p><p>各モデルに対して、Originは次式でAICの値を計算します。
</p><p><img src="../images/Comparing_Two_Fitting_Functions/math-db911abdd32aa5c0ddc461c6ffacdcdc.png" title="AIC=\,\!" alt="AIC=\,\!" class="tex"/> <img src="../images/Comparing_Two_Fitting_Functions/math-d0ceff07213e2b8f7cbfe66cfb1c3d2b.png" title="\begin{cases} 
  N\ln(\frac{RSS}N)+2K,  &amp; \mbox{when }\frac NK\geq 40 \\
  N\ln(\frac{RSS}N)+2K+\frac{2K(K+1)}{N-K-1}, &amp; \mbox{when}\frac NK&lt; 40  
\end{cases}" alt="\begin{cases} 
  N\ln(\frac{RSS}N)+2K,  &amp; \mbox{when }\frac NK\geq 40 \\
  N\ln(\frac{RSS}N)+2K+\frac{2K(K+1)}{N-K-1}, &amp; \mbox{when}\frac NK&lt; 40  
\end{cases}" class="tex"/>
</p><p>2つのフィットモデルに対して、より小さいAIC値を持つモデルが、そのデータセットに対してはより良いモデルであると言うことができます。 
</p><p>また、次式で計算できるAkaikeの重みの値に基づいて判断することもできます。
</p><p><img src="../images/Comparing_Two_Fitting_Functions/math-b9ab16272a2a668fdcd67bf85fef6b84.png" title="Akaike's weights=\frac{e^{-0.5\triangle AIC}}{1+e^{-0.5\triangle AIC}} \,\!" alt="Akaike's weights=\frac{e^{-0.5\triangle AIC}}{1+e^{-0.5\triangle AIC}} \,\!" class="tex"/>
</p><p>ここで ∆AIC は、2つのAIC値間の差です。Akaikeの重みは、良いモデルの確率を示しています。
</p><p><br /> <B>ベイズ情報基準</B>はモデル選択基準で、AIC検定から修正されたものです。 
</p><p>BIC検定に課されるペナルティはAIC数式と似ていますが、定数2の代わりに<I>k</I>に対する<i>ln(n)</i> を乗数として使い、サンプルサイズ<I>n</I>を要素に加えます。 これはデータフィットに関するオーバーフィットの問題を回避できます。
</p><p><img src="../images/Comparing_Two_Fitting_Functions/math-d02fad951640046d84cc422de3c2f0ca.png" title="BIC=N\ln \left(\frac{RSS}{N} \right)+K\ln \left(N \right)" alt="BIC=N\ln \left(\frac{RSS}{N} \right)+K\ln \left(N \right)" class="tex"/>
</p><p><br /> <B>Note:</B> フィット比較モデルは、RSS, df, Nの値が必要です。フィットの際にこれらの結果を出力するようにしてください。
</p>




    