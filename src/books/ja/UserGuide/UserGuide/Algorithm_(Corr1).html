<h1 class="firstheading">アルゴリズム (Corr1)</h1>
<a name="Fast_algorithm_for_Correlation" id="Fast_algorithm_for_Correlation"></a>
<h2><span class="mw-headline">相関の高速アルゴリズム</span></h2>
<p>相関は、相関定理に基づく高速アルゴリズムを使って計算されます。</p>
<p><i style="font-style: italic;">f(n)</i> と <i>g(n)</i> を入力信号とし、<i>y(m)</i>を出力とすると、次式のようになります:</p>
<p><img class="tex" alt="y(m)=\sum_{n=0}^{M-1}f(n)g(n-m)=ifft(FG^{*})\,\!" src="../images/Algorithm_(Corr1)/math-cf1861c67e54acb5b00ddd00138e64b8.png" width="290" height="48" border="0" /></p>
<p>ここで <i>F</i> は <i>f(n)</i>のフーリエ変換、 <i>G</i> は <i>g(n)</i> のフーリエ変換で、 * は複素共役を表します。そのため、相関の計算は、実際には次のように実行されます。</p>
<ol>
<li>1) <i>f(n)</i> および <i>g(n)</i> の離散フーリエ変換がFFTを使って計算されます。</li>
<li>2) <i>f(n)</i> のフーリエ係数と <i>g(n)</i>の共役係数を乗算します。</li>
<li>積に逆離散フーリエ変換を実行します。</li>
</ol>
<p><b style="font-weight: bold;">正規化</b>チェックボックスが選択されていると、相関の計算の前にまず2つの信号が正規化されます。</p>
<p>正規化は次の式で求められます。</p>
<p><img class="tex" alt="f_{norm}(n)=\frac{f(n)}{\sqrt{\sum _{i=0}^{M-1}(f(n))^2}}\,\!" src="../images/Algorithm_(Corr1)/math-0f7a85db1250c0060b4a240f381b70ed.png" width="209" height="55" border="0" />および <img class="tex" alt=" g_{norm}(n)=\frac{g(n)}{\sqrt{\sum_{i=0}^{M-1}(g(n))^2}} \,\!" src="../images/Algorithm_(Corr1)/math-d68e694bb0e18081ef32068839a362bb.png" width="207" height="55" border="0" /></p>
<p>正規化された相関は次式で計算できます。</p>
<p><img class="tex" alt="y(m)=\sum_{i=0}^{M-1}f_{norm}(n)g_{norm}(n)=ifft(F_{norm}G_{norm}^{*}) \,\!" src="../images/Algorithm_(Corr1)/math-252c4133aeac1e08706c4f3d5576a699.png" width="378" height="49" border="0" /></p>
<p>ここで <span class="texhtml"><i>F</i><sub><i>n</i><i>o</i><i>r</i><i>m</i></sub></span> は <i>f‧norm(n)</i>のフーリエ変換、<span class="texhtml"><i>G</i><sub><i>n</i><i>o</i>r</sub></span><i>m</i>は、 <span class="texhtml"><i>g</i><i>n</i><i>o</i><i>r</i><i>m</i>(<i>n</i>)</span> のフーリエ変換で、*はは複素共役を表します。</p>
<p>線形の相関が計算される場合、FFTの計算の前に0付加は実行されます。</p>
<a name="Automatic_Computation_of_Sampling_Interval" id="Automatic_Computation_of_Sampling_Interval"></a>
<h2><span class="mw-headline">サンプリング間隔の自動計算</span></h2>
<p><b style="font-weight: bold;">サンプリング間隔</b>で&lt;<b>自動</b>&gt;が選択されていると、計算で必要なサンプリング間隔はOriginが自動的に計算します。</p>
<p>自動的に計算されるサンプリング間隔は、時間データの増加の平均で、これは通常入力信号と結びついているXデータが使われます。結びついているX列が無ければ、行番号が使われます。Originが増加の平均を取得するのに失敗した場合、サンプリング間隔は1にセットされます。</p>
<p>&#160;</p>
