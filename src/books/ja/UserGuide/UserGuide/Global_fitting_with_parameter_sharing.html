<h1 class="firstheading">パラメータ共有でのグローバルフィット<br /></h1>
<div style="text-align: left; direction: ltr; margin-left: 1em;">
<p><img alt="Image:Video_Image.png" src="../images/Global_fitting_with_parameter_sharing/Video_Image.png" width="33" height="33" border="0" />関連する動画：<a href="http://www.originlab.com/index.aspx?go=Products/Origin/DataAnalysis/CurveFitting/GlobalFitting&amp;ss=chm&amp;pid=1175" class="external text" title="http://www.originlab.com/index.aspx?go=Products/Origin/DataAnalysis/CurveFitting/GlobalFitting&amp;ss=chm&amp;pid=1175" rel="nofollow" target="_blank">Global Fitting</a> (英語のみ)</p>
</div>
<p>Originのグローバルフィットは同じフィット関数を使って複数データセットをフィットします。フィット関数のパラメータは、任意ですべてのデータセット間で共有できます。パラメータが共有されると、フィット処理はすべてのデータセットに対してそのパラメータと同じ値になるように行われます。パラメータが共有されていないと、フィット処理は各データセットに対してそのパラメータ独自の値になるように行われます。</p>
<p><i style="font-style: italic;"><b style="font-weight: bold;">パラメータを共有してグローバルフィットを行うには</b></i></p>
<ol>
<li>「NLFit」ダイアログを開くときに、複数データセットを選択します。</li>
<li>フィッティング関数を選択します。</li>
<li>『データ選択』設定の『データモード』ドロップダウンリストで、「グローバルフィット」を選択します。
<dl>
<dd><img alt="Image:Global fitting with parameter sharing-1.png" src="../images/Global_fitting_with_parameter_sharing/Global_fitting_with_parameter_sharing-1.png" width="771" height="352" border="0" /></dd>
<dd>『パラメータ』タブで、共有したいパラメータの『パラメータ』列にあるチェックボックスを選択します。</dd>
<dd><img alt="Image:Global fitting with parameter sharing-2.png" src="../images/Global_fitting_with_parameter_sharing/Global_fitting_with_parameter_sharing-2.png" width="769" height="378" border="0" /></dd>
</dl>
</li>
<li>「フィット」またはOKボタンをクリックして、フィットを実行します。</li>
</ol>
<p>グローバルフィットのフィッティングレポートには、パラメータ、各データセットに対する統計値とANOVA表、すべてのデータセットに対するグローバルな統計値とANOVA表が出力されます。グローバルフィットが実行されると、データセットに対するカイ二乗値が次の式で計算されます。</p>
<dl>
<dd><img class="tex" alt="\chi ^2=\sum_{i=1}^m[\frac{Y1_i-f(x1_i^{\prime };\hat \theta 1)}{\sigma 1_i}]^2+\sum_{i=1}^m[\frac{Y2_i-f(x2_i^{\prime };\hat \theta 2)}{\sigma 2_i}]^2+\ldots +\sum_{i=1}^m[\frac{Yn_i-f(xn_i^{\prime };\hat \theta n)}{\sigma n_i}]^2" src="../images/Global_fitting_with_parameter_sharing/math-1f3cb19d3a7b4783b74da7037ddc8af0.png" border="0" /></dd>
</dl>
<p>および</p>
<dl>
<dd><img class="tex" alt="reduced X^2=\frac {X^2}{dof}=\frac {X^2}{n-p}" src="../images/Global_fitting_with_parameter_sharing/math-7b9a1141a384898be332cf95c37eb337.png" border="0" /></dd>
</dl>
<p>グローバルなANOVA表</p>
<table class="simple">
<tr>
<th>&#160;</th>
<th>df</th>
<th>平方和</th>
<th>二乗平均</th>
<th>F 値</th>
<th>Prob &gt; F</th>
</tr>
<tr>
<th>モデル</th>
<td>
<p><i style="font-style: italic;">p-1</i></p>
</td>
<td>
<p><i style="font-style: italic;"><span class="texhtml"><i style="font-style: italic;">S</i><i>S</i><sub><i>r</i><i>e</i><i>g</i></sub> = <i>S</i><i>Y</i><i>Y</i> - <i>R</i><i>S</i><i>S</i></span></i></p>
</td>
<td>
<p><i style="font-style: italic;"><span class="texhtml"><i style="font-style: italic;">M</i><i>S</i><sub><i>r</i><i>e</i><i>g</i></sub> = <i>S</i><i>S</i><sub><i>r</i><i>e</i><i>g</i></sub> / <i>p</i> - 1</span></i></p>
</td>
<td>
<p><i style="font-style: italic;"><span class="texhtml"><i style="font-style: italic;">M</i><i>S</i><sub><i>r</i><i>e</i><i>g</i></sub> / <i>M</i><i>S</i><i>E</i></span></i></p>
</td>
<td>
<p><i style="font-style: italic;">P値</i></p>
</td>
</tr>
<tr>
<th>誤差</th>
<td>
<p><i style="font-style: italic;">– p</i></p>
</td>
<td>
<p><i style="font-style: italic;">RSS</i></p>
</td>
<td>
<p><i style="font-style: italic;">MSE = RSS / (n-p)</i></p>
</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr>
<th>合計</th>
<td>
<p><i style="font-style: italic;">n-1</i></p>
</td>
<td>
<p><i style="font-style: italic;">SYY</i></p>
</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
</table>
<p>上の式で、nはデータポイントの合計数で、pはパラメータの合計数です。パラメータが共有されると、パラメータ数pを減らします。例えば、単純な線形関数y = a + bxで、パラメータを1つ共有して、2つのデータセットのフィットを実行すると、パラメータの数は1つ減って、3つになります。そのため p = 3となります。</p>
<p><br /></p>
