<h1 class="firstheading">非線形陰関数カーブフィット（Proのみ）</h1>
<p class="urlname" style="display: none;">Fitting-Implicit</p>
<p>OriginのNLFitツールは、X/Yエラーデータによるフィッティングを含む、直交距離回帰(ODR, orthogonal distance regression)アルゴリズムを使用した陰フィッティングをサポートしています。</p>
<p><a class="image"><img alt="NLFit Implicit Fit.png" src="../images/Nonlinear_Implicit_Curve_Fitting_(OriginPro_Only)/500px-NLFit_Implicit_Fit.png" width="500" height="370" border="0" /></a></p>
<p>陰関数（implicit function）でデータをフィットする場合、組み込まれている非線形陰関数カーブフィットを行うか、自分で陰フィット関数を作成します。</p>
<h2><a name="Fit_with_the_Implicit_Functions" id="Fit_with_the_Implicit_Functions"></a><span class="mw-headline">陰関数でフィットする</span></h2>
<p>陰関数でフィットするには</p>
<ol>
<li>メニューから<b>解析：フィット：非線形陰関数カーブフィット</b>を選択してダイアログを開きます。</li>
<li><b style="font-weight: bold;">Implicit</b>カテゴリ内の関数を選択します。<br /></li>
</ol>
<table class="note">
<tr>
<td><b style="font-weight: bold;">Note:</b> 陰フィット関数は<b>直交距離回帰</b>（<b>Orthogonal Distance Regression</b>、ODR）を使用します。</td>
</tr>
</table>
<table class="noborder">
<tr>
<td style="vertical-align: top;" width="60"><img src="../images/Nonlinear_Implicit_Curve_Fitting_(OriginPro_Only)/Tutorial_icon.png" alt="" width="57" border="0" /></td>
<td>
<p><b style="font-weight: bold;"><span style="color: #0000ff;">ミニチュートリアル: 楕円をフィット</span></b></p>
<ol>
<li><b style="font-weight: bold;">\Samples\Curve Fitting</b>フォルダのEllipse.dat ファイルを単一ASCIインポートします。</li>
<li>列AとBを選択して、<b>解析：フィット：非線形陰関数カーブフィット</b>を選択して<b>NLFit</b>ダイアログを開きます。</li>
<li>関数として、<b>Ellipse</b>を選択します。</li>
<li>「データ選択」を開き、ウェイトに「各範囲の設定を使用」が選択されていることを確認します。</li>
<li>「データ選択」の「入力データ」の項目を開き、「範囲1」を開きます。</li>
<li>「x」の下の「重み」に「任意データセット」を選択し、データとしてC(Weight X)を設定します。</li>
<li>「y」も同様に行い、データはD(Weight Y) を設定します。</li>
<li>「フィット」をクリックしてデータをフィットし、レポートシートを生成します。</li>
</ol>
</td>
</tr>
</table>
<h2><a name="Implicit_Fit_with_More_Than_Two_Variables" id="Implicit_Fit_with_More_Than_Two_Variables"></a><span class="mw-headline">2つ以上の変数を使用して陰関数フィットする</span></h2>
<p>2つ以上の独立した関数を使用して陰フィットモードを実行する場合は、以下のポイントに注意してください。</p>
<ul>
<li>入力データとしてワークシートデータを準備する必要があります。つまり、この場合、グラフからフィットを実行できません。</li>
<li>全ての変数に対して、<b>入力データのフィットしたポイント</b>が対応しています。<b>NLFit</b> ダイアログの選択肢を変更するには、<b>設定</b>タブ内にある<b>フィット曲線</b>を開いてください。<b>フィット曲線のプロット</b>ブランチを開き、<b><i>変数</i>のデータタイプ</b>を<b>入力データのフィットしたポイント</b>に設定します。</li>
<li>これは、自動的にフィット曲線を作成するようにはなっていません。しかし、レポートシート内でフィット曲線用のデータを入手できます。</li>
</ul>
<h2><a name="Create_a_User-Defined_Implicit_Function_for_Fitting" id="Create_a_User-Defined_Implicit_Function_for_Fitting"></a><span class="mw-headline">ユーザ定義の陰関数を作成してフィットを行う</span></h2>
<p>自分でフィット用の陰関数を作成するには、まず<b>フィット関数ビルダー</b>を以下のどちらかで開きます。</p>
<ol>
<li>メニューから<b>解析：フィット：非線形陰関数カーブフィット</b>を選択してダイアログを開きます。</li>
<li><b style="font-weight: bold;">関数</b>のドロップダウンリストで<b>&lt;新規&gt;</b>を選択します。</li>
</ol>
<p>または</p>
<p><b style="font-weight: bold;">ツール：フィット関数ビルダー</b>を選択するか、<b>F8</b>を押します。</p>
<p><b style="font-weight: bold;">フィット関数ビルダ―</b>が開いたら、次の操作を行います。</p>
<ol>
<li><b style="font-weight: bold;">新しい関数の作成</b>のラジオボタンを選択して<b>進む</b>をクリックします。</li>
<li><b style="font-weight: bold;">関数モデル</b>のグループで、<b>陰関数</b>のラジオボタンを選択します。</li>
</ol>
<p><br />
または</p>
<ol>
<li>メニューから<b>ツール: フィット関数</b><b>オーガナイザ</b> を選択、もしくは<b>F9</b>キーを押して<b>フィット関数</b><b>オーガナイザ</b>を開きます。</li>
<li>新しい関数を<b>Implicit</b>カテゴリ内に作成します。</li>
</ol>
<p>陰関数でのフィットはImplicitカテゴリ内の関数しか使用できません。つまり、何か陰関数を作成した場合、<b>フィット関数オーガナイザ</b>の<b>Implicit</b>カテゴリに移動する必要があります。</p>
<p>ユーザ定義関数を定義するには<a href="../../UserGuide/UserGuide/User-Defined_Fitting_Functions.html" title="ユーザガイド:ユーザ定義フィット関数">Origin ヘルプ</a>を参照してください。</p>
<table class="noborder">
<tr>
<td style="vertical-align: top;" width="60"><img src="../images/Nonlinear_Implicit_Curve_Fitting_(OriginPro_Only)/Tutorial_icon.png" alt="" width="57" border="0" /></td>
<td>
<p>以下はユーザ定義のフィット用陰関数を作成する方法とデータを実際にフィットする簡単なチュートリアルです。</p>
<ol>
<li>メニューから<b>ツール: フィット関数</b><b>オーガナイザ</b> を選択、もしくは<b>F9</b>キーを押して<b>フィット関数</b><b>オーガナイザ</b>を開きます。</li>
<li><b style="font-weight: bold;">Implicit</b>カテゴリを選択して<b>関数作成</b>ボタンをクリックします。</li>
<li><b style="font-weight: bold;">関数名</b>に<b>Hyperbolic</b> と入力し、<b>関数モデル</b>を<b>陰</b>にセットして<b>定義形式</b>では<b>Equations</b>を選択します。</li>
<li><b style="font-weight: bold;">変数</b>ボックスに<b>x,y</b>と入力し、<b>パラメータ</b>ボックスには<b>a,b,c,d,e</b>と入力します。</li>
<li><b style="font-weight: bold;">関数内容</b>には、次のように入力します。
<pre class="lt" style="font-family: monospace;">
f<span style="color: #000080;">=</span>a<span style="color: #000080;">*</span>x<span style="color: #000080;">^</span><span style="color: #0000dd;">2</span><span style="color: #000080;">+</span>b<span style="color: #000080;">*</span>x<span style="color: #000080;">*</span>y<span style="color: #000080;">+</span>c<span style="color: #000080;">*</span>y<span style="color: #000080;">^</span><span style="color: #0000dd;">2</span><span style="color: #000080;">+</span>d<span style="color: #000080;">*</span>x<span style="color: #000080;">+</span>e<span style="color: #000080;">*</span>y<span style="color: #000080;">-</span><span style="color: #0000dd;">1</span>;
                        
</pre>
fの値は0になるように推定されます。</li>
<li><b style="font-weight: bold;">保存</b>ボタンをクリックして作成した関数を保存し、<b>OK</b>ボタンをクリックするとダイアログを閉じます。</li>
<li>双曲線のトレンドがあるテストデータを準備し、Originにインポートします。<b>フィット関数オーガナイザ</b>の<b>シミュレート</b>ボタンをクリックすると、追加したノイズがある状態でデータを作成できます。</li>
<li>列Aをx、列Bをyとして設定します。</li>
<li>A列とB列を選択し、<b>解析：フィット：非線形陰関数カーブフィット</b>と操作して<b>NLFit</b>ダイアログを開きます。</li>
<li>関数ドロップダウンメニューから、<b>Hyperbolic(User)</b>を選択して<b>フィット</b>をクリックします。</li>
</ol>
</td>
</tr>
</table>
<table class="note">
<tr>
<td><b style="font-weight: bold;">Note:</b> どんなユーザ定義関数を使用してのフィットはパラメータの初期化を行う必要があります。双曲線（Hyperbolic）関数の場合、パラメータの値は1であれば、特に問題は無いはずです。</td>
</tr>
</table>
