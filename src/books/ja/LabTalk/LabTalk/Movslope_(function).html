<h1 class="firstheading">Movslope</h1>

  <p class='urlname' style='display: none'>Movslope-func</p>

  <div id="toc" class="toc">
    <div id="toctitle">
      <h2>Contents</h2>
    </div>

    <ul>
      <li class="toclevel-1"><a href="#Description"><span class="tocnumber">1</span> <span class="toctext">Description</span></a></li>

      <li class="toclevel-1"><a href="#Syntax"><span class="tocnumber">2</span> <span class="toctext">Syntax</span></a></li>

      <li class="toclevel-1"><a href="#Parameters"><span class="tocnumber">3</span> <span class="toctext">Parameters</span></a></li>

      <li class="toclevel-1"><a href="#Return"><span class="tocnumber">4</span> <span class="toctext">Return</span></a></li>

      <li class="toclevel-1"><a href="#Example"><span class="tocnumber">5</span> <span class="toctext">Example</span></a></li>

      <li class="toclevel-1"><a href="#See_Also"><span class="tocnumber">6</span> <span class="toctext">See Also</span></a></li>
    </ul>
  </div>

  <h2 class="ref"><a name="Description"></a><span class="mw-headline">Description</span></h2>

  <p>movslope(vx, vy[, n]) function returns a vector to calculate the moving slope at each point with a window width of <b>n</b> and (<b>n</b>-1)/2 points on either side of the point.</p>

  <p>The slope at point i with a width of k is:</p>

  <p><img src="../images/Movslope_(function)/math-297aeee92145f43ddc8d21f4a49dd7af.png" title="b=\frac{ \sum_{n=i_1}^{i_2} (x_n-\bar{x})(y_n-\bar{y}) }{ \sum_{n=i_1}^{i_2} (x_n-\bar{x})^2 }" alt="b=\frac{ \sum_{n=i_1}^{i_2} (x_n-\bar{x})(y_n-\bar{y}) }{ \sum_{n=i_1}^{i_2} (x_n-\bar{x})^2 }" class="tex"></p>

  <p>Where <img src="../images/Movslope_(function)/math-a092463e21b23e271139a492c47feabc.png" title="i_1=i-(k-1)/2\,\!" alt="i_1=i-(k-1)/2\,\!" class="tex">, <img src="../images/Movslope_(function)/math-8cce985a83930a51eb0596513d592c5c.png" title="i_2=i+(k-1)/2\,\!" alt="i_2=i+(k-1)/2\,\!" class="tex">, <img src="../images/Movslope_(function)/math-1065db68b966e45c31355dafddf95aad.png" title="\bar{x}=\sum_{n=i_1}^{i_2} x_n" alt="\bar{x}=\sum_{n=i_1}^{i_2} x_n" class="tex"> and <img src="../images/Movslope_(function)/math-ec32c5094253a81f702c857d0e42be49.png" title="\bar{y}=\sum_{n=i_1}^{i_2} y_n" alt="\bar{y}=\sum_{n=i_1}^{i_2} y_n" class="tex"></p>

  <h2 class="ref"><a name="Syntax"></a><span class="mw-headline">Syntax</span></h2>
  <pre class="lt" style="font-family:monospace;">
vector movslope<span style="color: #000000;">(</span>vx, vy<span style="color: #000000;">[</span>, n<span style="color: #000000;">]</span><span style="color: #000000;">)</span>
</pre>

  <h2 class="ref"><a name="Parameters"></a><span class="mw-headline">Parameters</span></h2>

  <p><b>vx</b></p>

  <dl>
    <dd>Input vector for independent variable</dd>
  </dl>

  <p><b>vy</b></p>

  <dl>
    <dd>Input vector for dependent variable</dd>
  </dl>

  <p><b>n</b></p>

  <dl>
    <dd>Input integer for window width</dd>

    <dd><b>n</b> should be an integer greater than 1. If <b>n</b> is an even number, it will be set to <b>n+1</b> internally. When <b>n</b> is omitted, the function returns a vector of one value which is the linear fit slope of the input.</dd>
  </dl>

  <h2 class="ref"><a name="Return"></a><span class="mw-headline">Return</span></h2>

  <p>Return the moving slopes at each point with a window width of <b>n</b>.<br>
  The first and last (<b>n</b>-1)/2 points of the output vector are missing values.</p>

  <p><b>Note</b>: If there are missing values in <b>vx</b> or <b>vy</b>, the slopes related to these points in the <b>n</b> window will be missing values. If a slope is infinite, it will be shown as a missing value.</p>

  <h2 class="ref"><a name="Example"></a><span class="mw-headline">Example</span></h2>
  <pre class="lt" style="font-family:monospace;">
<span style="color: #008000;">//Col(C) will be filled with slopes at each points.</span>
<span style="color: #008000;">//First and last two cells are missing values.</span>
col<span style="color: #000000;">(</span>C<span style="color: #000000;">)</span><span style="color: #000080;">=</span>movslope<span style="color: #000000;">(</span>col<span style="color: #000000;">(</span>A<span style="color: #000000;">)</span>,col<span style="color: #000000;">(</span>B<span style="color: #000000;">)</span>,<span style="color: #0000dd;">5</span><span style="color: #000000;">)</span>;
</pre>
  <pre class="lt" style="font-family:monospace;">
<span style="color: #008000;">//Col(C) only has a numeric cell, which is the slope for all the points.</span>
col<span style="color: #000000;">(</span>C<span style="color: #000000;">)</span><span style="color: #000080;">=</span>movslope<span style="color: #000000;">(</span>col<span style="color: #000000;">(</span>A<span style="color: #000000;">)</span>,col<span style="color: #000000;">(</span>B<span style="color: #000000;">)</span><span style="color: #000000;">)</span>;
</pre>

  <h2 class="ref"><a name="See_Also"></a><span class="mw-headline">See Also</span></h2>

  <p><a href="../../LabTalk/LabTalk/Diff_(function).html" title="LabTalk:Diff (function)">Diff</a></p>
