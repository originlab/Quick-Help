<h1 class="firstheading">Fit</h1>

  <p class='urlname' style='display: none'>Fit-func</p>

  <p>This function creates a dataset corresponding to the fitted line generated during nonlinear fitting. The parameters and equation used in the current nonlinear fit script are applied to the specified X dataset. The function returns a value for each element of the X dataset. This function is no longer valid after executing nlend. Prior to 8.0, this function was valid anytime after using the nonlinear fitter or the NLSF object.</p>

  <dl>
    <dt>Xdataset</dt>

    <dd>The X data to be evaluated.</dd>

    <dt>n</dt>

    <dd>The index of fitted curve. Default = 1.</dd>
  </dl>

  <dl>
    <dt>Example</dt>

    <dd>You can perform a Gauss fit on data with an X range, then generate a new fit curve using the following lines of script:</dd>
  </dl>
  <pre class="lt" style="font-family:monospace;">
<span style="color: #008000;">// import sample data into a new book</span>
newbook;
fname<span style="color: #000080;">$</span><span style="color: #000080;">=</span>system.<span style="color: #000080;">path</span>.<span style="color: #000080;">program</span><span style="color: #000080;">$</span><span style="color: #000080;">+</span><span style="color: #ff00ff;">"Samples\Curve Fitting\Multiple Gaussians.dat"</span>;
impASC;

<span style="color: #008000;">// Start a fitting session</span>
nlbegin <span style="color: #000000;">(</span><span style="color: #000000;">(</span><span style="color: #0000dd;">1</span>,<span style="color: #0000dd;">2</span><span style="color: #000000;">)</span>,<span style="color: #000000;">(</span><span style="color: #0000dd;">1</span>,<span style="color: #0000dd;">3</span><span style="color: #000000;">)</span><span style="color: #000000;">)</span> Gauss tt;
<span style="color: #008000;">// Fit</span>
nlfit; <span style="color: #008000;">// Fit till converge (default iterations)</span>

<span style="color: #008000;">// Generate the fit curve</span>
range xx <span style="color: #000080;">=</span> <span style="color: #0000dd;">6</span>, yy <span style="color: #000080;">=</span> <span style="color: #0000dd;">7</span>;
xx <span style="color: #000080;">=</span> data<span style="color: #000000;">(</span><span style="color: #000080;">-</span><span style="color: #0000dd;">20</span>,<span style="color: #0000dd;">80</span>,<span style="color: #0000dd;">0.25</span><span style="color: #000000;">)</span>;
<span style="color: #008000;">//Indicates using the second dataset's parameter values to perform NL Fit.</span>
yy <span style="color: #000080;">=</span> fit<span style="color: #000000;">(</span>xx,<span style="color: #0000dd;">2</span><span style="color: #000000;">)</span>; 
xx<span style="color: #000000;">[</span>L<span style="color: #000000;">]</span><span style="color: #000080;">$</span> <span style="color: #000080;">=</span> <span style="color: #ff00ff;">"Fitted X"</span>;
yy<span style="color: #000000;">[</span>L<span style="color: #000000;">]</span><span style="color: #000080;">$</span> <span style="color: #000080;">=</span> <span style="color: #ff00ff;">"Fitted Y"</span>;
xx.<span style="color: #000080;">type</span> <span style="color: #000080;">=</span> <span style="color: #0000dd;">4</span>; <span style="color: #008000;">// Make it an X col</span>
nlend; <span style="color: #008000;">// fit() function is no longer valid</span>

<span style="color: #008000;">// plot both src and fit in a new graph</span>
range aa <span style="color: #000080;">=</span> <span style="color: #000000;">(</span><span style="color: #0000dd;">1</span>,<span style="color: #0000dd;">2</span><span style="color: #000000;">)</span>, bb<span style="color: #000080;">=</span><span style="color: #000000;">(</span><span style="color: #0000dd;">6</span>,<span style="color: #0000dd;">7</span><span style="color: #000000;">)</span>;
plotxy aa <span style="color: #0000dd;">201</span> ogl<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #000000;">[</span><span style="color: #000080;">&lt;</span>new<span style="color: #000080;">&gt;</span><span style="color: #000000;">]</span>;
plotxy bb <span style="color: #0000dd;">200</span> ogl<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">1</span><span style="color: #000080;">!</span>; <span style="color: #008000;">// plot to same layer</span>
</pre>
