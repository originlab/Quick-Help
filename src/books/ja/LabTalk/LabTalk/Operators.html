<h1 class="firstheading">演算子</h1><p class='urlname' style='display: none'>演算子</p>
<div id="toc" class="toc"><div id="toctitle"><h2>目次</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Introduction"><span class="tocnumber">1</span> <span class="toctext">はじめに</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Arithmetic_Operators"><span class="tocnumber">2</span> <span class="toctext">算術演算子</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Define_a_constant"><span class="tocnumber">2.1</span> <span class="toctext">定数の定義</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#A_Note_about_Logarithmic_Conversion"><span class="tocnumber">2.2</span> <span class="toctext">対数変換についての注意</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-5"><a href="#String_Concatenation"><span class="tocnumber">3</span> <span class="toctext">文字の連結</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Assignment_Operators"><span class="tocnumber">4</span> <span class="toctext">代入演算子</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#Logical_and_Relational_Operators"><span class="tocnumber">5</span> <span class="toctext">比較･論理演算子</span></a>
<ul>
<li class="toclevel-2 tocsection-8"><a href="#Numeric_Comparison"><span class="tocnumber">5.1</span> <span class="toctext">数値の比較</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#String_Comparison"><span class="tocnumber">5.2</span> <span class="toctext">文字列の比較</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-10"><a href="#Conditional_Operator_.28.3F:.29"><span class="tocnumber">6</span> <span class="toctext">条件演算子 (?:)</span></a></li>
<li class="toclevel-1 tocsection-11"><a href="#Performing_Calculations"><span class="tocnumber">7</span> <span class="toctext">計算の実行</span></a>
<ul>
<li class="toclevel-2 tocsection-12"><a href="#Scalar_Calculations"><span class="tocnumber">7.1</span> <span class="OIndex">スカラー演算</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#Vector_CalculationsVector_Calculation"><span class="tocnumber">7.2</span> <span class="toctext">ベクトル演算</span></a>
<ul>
<li class="toclevel-3 tocsection-14"><a href="#Row-by-Row_CalculationsRow-by-Row_Calculations"><span class="tocnumber">7.2.1</span> <span class="OIndex" style="display:none">行ごとの演算</span></a></li>
<li class="toclevel-3 tocsection-15"><a href="#Calculations_Using_InterpolationCalculation_Using_Interpolation"><span class="tocnumber">7.2.2</span> <span class="toctext">補間を使った演算</span></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>

<h2><a name="Introduction"></a><span class="mw-headline">イントロダクション</span></h2>
<p>LabTalkでは、代入演算子、算術演算子、論理演算子、関係演算子、条件演算子の5種があります。
</p>
<table class="simple">

<tr>
<td> <b>算術演算子</b>
</td>
<td> &nbsp; + &nbsp;&nbsp;&nbsp; - &nbsp;&nbsp;&nbsp; * &nbsp;&nbsp;&nbsp; / &nbsp;&nbsp;&nbsp; ^ &nbsp;&nbsp;&nbsp; &amp; &nbsp;&nbsp;&nbsp; |
</td></tr>
<tr>
<td> <b>文字列の連結</b>
</td>
<td> &nbsp; +
</td></tr>
<tr>
<td> <b>代入演算子</b>
</td>
<td> &nbsp; = &nbsp;&nbsp;&nbsp; += &nbsp;&nbsp;&nbsp; -= &nbsp;&nbsp;&nbsp; *= &nbsp;&nbsp;&nbsp; /= &nbsp;&nbsp;&nbsp; ^=
</td></tr>
<tr>
<td> <b>論理・関係演算子</b>
</td>
<td> &nbsp; &gt; &nbsp;&nbsp;&nbsp; &gt;= &nbsp;&nbsp;&nbsp; &lt; &nbsp;&nbsp;&nbsp; &lt;= &nbsp;&nbsp;&nbsp; == &nbsp;&nbsp;&nbsp;&nbsp;!= &nbsp;&nbsp;&nbsp; &amp;&amp; &nbsp;&nbsp;&nbsp; ||
</td></tr>
<tr>
<td> <b>条件演算子</b>
</td>
<td> &nbsp;&nbsp;?&nbsp;:
</td></tr></table>
<p>これらの演算子はスカラーで計算されますが、多くの場合、ベクトル(データセット)でも演算させることができます。また、Originには<a href="../../LabTalk/LabTalk/Datasets_(object).html" title="LabTalk:Datasets (オブジェクト)">データセット</a>に対して実行可能な<a href="../../LabTalk/Category/Function_Reference_(Labtalk).html" title="Category:関数リファレンス(Labtalk)">数値関数、数学関数、三角関数、統計関数</a>が組み込まれています。  
</p><p>LabTalkでは、<span class="OIndex">数式の評価</span>にあたり、以下の優先順位の規則を適用します。
</p>
<ol><li>括弧のない代入演算子が評価されます。</li>
<li>括弧内(...)の演算が括弧外の演算より優先されて評価されます。</li>
<li>乗算(*) と除算(/) が、加算(+) と減算(-) より優先されて実行されます。</li>
<li>関係演算子（&gt;,&gt;=,&lt;,&lt;=）が評価されてから、等号･不等演算子（==と!=）が評価されます。</li>
<li>論理演算子 || は&amp;&amp;より先に評価されます。</li>
<li>最後に、条件演算子（?:）が評価されます。</li></ol>
<h2><a name="Arithmetic_Operators"></a><span class="mw-headline">算術演算子</span></h2>
<p>Originでは、以下の<span class="OIndex">算術演算子</span>を利用できます。
</p>
<table class="simple">
<tr>
<th> 演算子
</th>
<th> 説明
</th></tr>
<tr>
<td> <center>+</center>
</td>
<td> <span class="OIndex">加算</span>
</td></tr>
<tr>
<td> <center>-</center>
</td>
<td> <span class="OIndex">減算</span>
</td></tr>
<tr>
<td> <center>*</center>
</td>
<td> <span class="OIndex">乗算</span>
</td></tr>
<tr>
<td> <center>/</center>
</td>
<td> <span class="OIndex">除算</span>
</td></tr>
<tr>
<td> <center>^</center>
</td>
<td> <span class="OIndex">ベキ乗</span> (X^YはXをY乗を示す) (下記Noteを参照)
</td></tr>
<tr>
<td> <center>&amp;</center>
</td>
<td> ビットごとの<span class="OIndex">論理積(And)演算子</span>。数値を構成するバイナリビットに対して実行
</td></tr>
<tr>
<td> <center>|</center>
</td>
<td> ビットごとの<span class="OIndex">論理和(Or)演算子</span>。数値を構成するバイナリビットに対して実行
</td></tr></table>
<p><b>Note</b>: 0 の累乗 n (0^n)では、n &gt; 0の場合、 0 が返されます。If n &lt; 0の場合、欠損値が返されます。n = 0の場合、1が返されるか( @ZZ = 1の場合) または 欠損値が返されます( @ZZ = 0の場合)。
</p><p>これらの演算子はスカラーおよびベクトル(<a href="../../LabTalk/LabTalk/Data_Types_and_Variables.html#Dataset" title="LabTalk:データ型と変数">データセット</a>)で演算することができます。スカラーやベクトル計算に関する詳細は、<a href="#Performing_Calculations">計算の実行</a> を参照してください。 
</p><p>次の例で、指数演算子の使用法を説明します。
<a href="../../LabTalk/Script/From_Script_and_Command_Window.html" title="Script: スクリプトとコマンドウィンドウから">コマンドウィンドウ</a>に次のスクリプトを入力します。 
</p>
<pre class="lt" style="font-family:monospace;"><span style="color: #0000dd;">1.3</span> <span style="color: #000080;">^</span> <span style="color: #0000dd;">4.7</span> <span style="color: #000080;">=</span></pre>
<p>ENTERキーを押すと、3.43189がコマンドウィンドウに表示されます。
次のサンプルは、<b>ビットごとの論理積(AND)</b>演算子の使用例を示しています。コマンドウィンドウに以下のスクリプトを入力します。
</p>
<pre class="lt" style="font-family:monospace;">if <span style="color: #000000;">(</span><span style="color: #0000dd;">27</span><span style="color: #000080;">&amp;</span><span style="color: #0000dd;">41</span> <span style="color: #000080;">==</span> <span style="color: #0000dd;">9</span><span style="color: #000000;">)</span>
<span style="color: #000000;">{</span>type <span style="color: #ff00ff;">&quot;Yes!&quot;</span><span style="color: #000000;">}</span></pre>
<p>ENTERキーを押すと、 <b>Yes!</b> がコマンドウィンドウに表示されます。  
</p><p><b>Note</b>: 27&amp;41 == 9 となるのは、
</p>
<pre class="lt" style="font-family:monospace;"><span style="color: #0000dd;">27</span> <span style="color: #000080;">=</span> 0000000000011011
<span style="color: #0000dd;">41</span> <span style="color: #000080;">=</span> 0000000000101001</pre>
<p>ビットごとに&amp;(and)を施すと   
</p>
<pre class="lt" style="font-family:monospace;">0000000000001001 <span style="color: #000000;">(</span>となり、これは <span style="color: #0000dd;">9</span>に等しくなります<span style="color: #000000;">)</span></pre>
<p><b>Note</b>: 乗算では掛算記号の*を明示しなくてはいけません。例えば、変数Xに定数2を掛ける場合、2Xではなく、2*Xと記述します。
</p>
<h3><a name="Define_a_constant"></a><span class="mw-headline">定数の定義</span></h3>
<p>ユーザファイルフォルダのCONST.CNFファイル内にグローバルな定数を定義することができます。
</p>
<pre class="lt" style="font-family:monospace;"><span style="color: #008000;">//オイラー数</span>
const e <span style="color: #000080;">=</span> <span style="color: #0000dd;">2.718281828459045</span></pre>
<h3><a name="A_Note_about_Logarithmic_Conversion"></a><span class="mw-headline">対数変換についての注意</span></h3>
<ul><li>データセットを対数スケールに変換するには、次の構文を使用します。</li></ul>
<pre class="lt" style="font-family:monospace;">col<span style="color: #000000;">(</span>c<span style="color: #000000;">)</span> <span style="color: #000080;">=</span> log<span style="color: #000000;">(</span>col<span style="color: #000000;">(</span>c<span style="color: #000000;">)</span><span style="color: #000000;">)</span>;</pre>
<ul><li>データセットを線形スケールに変換し直すには、次の構文を使用します。</li></ul>
<pre class="lt" style="font-family:monospace;">col<span style="color: #000000;">(</span>c<span style="color: #000000;">)</span> <span style="color: #000080;">=</span> <span style="color: #0000dd;">10</span><span style="color: #000080;">^</span><span style="color: #000000;">(</span>col<span style="color: #000000;">(</span>c<span style="color: #000000;">)</span><span style="color: #000000;">)</span>;</pre>
<h2><a name="String_Concatenation"></a><span class="mw-headline">文字列の連結</span></h2>
<p>まれに<a href="../../LabTalk/LabTalk/Data_Types_and_Variables.html#String_Variables" title="LabTalk:データ型と変数">文字列変数</a>または<a href="../../LabTalk/LabTalk/String_registers.html#.25.40_String_Registers" title="LabTalk:文字列レジスタ">文字列レジスタ</a>型の複数の文字列を連結する必要がある場合があります。  このセクションのコード部分すべてで、&quot;Hello World.&quot;という文字列を返します。
</p><p><span class="OIndex">文字列連結</span>演算子は、プラス記号(+)で、2つの文字列を連結するために使用します。
</p>
<pre class="lt" style="font-family:monospace;">aa<span style="color: #000080;">$</span> <span style="color: #000080;">=</span><span style="color: #ff00ff;">&quot;Hello&quot;</span>;
bb<span style="color: #000080;">$</span><span style="color: #000080;">=</span><span style="color: #ff00ff;">&quot;World&quot;</span>;
cc<span style="color: #000080;">$</span><span style="color: #000080;">=</span>aa<span style="color: #000080;">$</span><span style="color: #000080;">+</span><span style="color: #ff00ff;">&quot; &quot;</span><span style="color: #000080;">+</span>bb<span style="color: #000080;">$</span>;
cc<span style="color: #000080;">$</span><span style="color: #000080;">=</span>;</pre>
<p>2つの<a href="../../LabTalk/LabTalk/String_registers.html#.25.40_String_Registers" title="LabTalk:文字列レジスタ">文字列レジスタ</a>を連結するには、単にそれらを並べるだけです。
</p>
<pre class="lt" style="font-family:monospace;"><span style="color: #000080;">%</span>J<span style="color: #000080;">=</span><span style="color: #ff00ff;">&quot;Hello&quot;</span>;
<span style="color: #000080;">%</span>k<span style="color: #000080;">=</span><span style="color: #ff00ff;">&quot;World&quot;</span>;
<span style="color: #000080;">%</span>L<span style="color: #000080;">=</span><span style="color: #000080;">%</span>J <span style="color: #000080;">%</span>k;
<span style="color: #000080;">%</span>L<span style="color: #000080;">=</span>;</pre>
<p>文字列変数と文字列レジスタの両方を操作する必要がある場合、<a href="../../LabTalk/LabTalk/String_Substitution.html" title="LabTalk:文字列置換">%( ) 置換表記</a>を利用して以下のようにします。
</p>
<pre class="lt" style="font-family:monospace;">aa<span style="color: #000080;">$</span> <span style="color: #000080;">=</span><span style="color: #ff00ff;">&quot;Hello&quot;</span>;
<span style="color: #000080;">%</span>K<span style="color: #000080;">=</span><span style="color: #ff00ff;">&quot;World&quot;</span>;
dd<span style="color: #000080;">$</span><span style="color: #000080;">=</span><span style="color: #000080;">%</span><span style="color: #000000;">(</span>aa<span style="color: #000080;">$</span><span style="color: #000000;">)</span> <span style="color: #000080;">%</span>K;
dd<span style="color: #000080;">$</span><span style="color: #000080;">=</span>;</pre>
<pre class="lt" style="font-family:monospace;">dd<span style="color: #000080;">$</span><span style="color: #000080;">=</span><span style="color: #000080;">%</span>K;
dd<span style="color: #000080;">$</span><span style="color: #000080;">=</span>aa<span style="color: #000080;">$</span><span style="color: #000080;">+</span><span style="color: #ff00ff;">&quot; &quot;</span><span style="color: #000080;">+</span>dd<span style="color: #000080;">$</span>;
dd<span style="color: #000080;">$</span><span style="color: #000080;">=</span>;</pre>
<pre class="lt" style="font-family:monospace;"><span style="color: #000080;">%</span>M<span style="color: #000080;">=</span><span style="color: #000080;">%</span><span style="color: #000000;">(</span>aa<span style="color: #000080;">$</span><span style="color: #000000;">)</span> <span style="color: #000080;">%</span>K;
<span style="color: #000080;">%</span>M<span style="color: #000080;">=</span>;</pre>
<h2><a name="Assignment_Operators"></a><span class="mw-headline">代入演算子</span></h2>
<p>Originでは、以下の<span class="OIndex">代入演算子</span>を利用できます。
</p>
<table class="simple">
<tr>
<th> 演算子
</th>
<th> 説明
</th></tr>
<tr>
<td> <center>=</center>
</td>
<td> 変数(やデータセット)に引数を割り当てる。
</td></tr>
<tr>
<td> <center>+=</center>
</td>
<td> 変数(やデータセット)の内容に引数を加えて、割り当てる。
</td></tr>
<tr>
<td> <center>-=</center>
</td>
<td> 変数(やデータセット)の内容から引数を引いて、割り当てる。
</td></tr>
<tr>
<td> <center>*=</center>
</td>
<td> 変数(やデータセット)の内容に引数を掛けて、割り当てる。
</td></tr>
<tr>
<td> <center>/=</center>
</td>
<td> 変数(やデータセット)の内容を引数で割って、割り当てる。
</td></tr>
<tr>
<td> <center>^=</center>
</td>
<td> 変数(やデータセット)の内容を引数でベキ乗して、割り当てる。
</td></tr></table>
<p>これらの演算子はスカラーおよびベクトル(データセット)で演算することができます。スカラーやベクトル計算に関する詳細は、<a href="../../LabTalk/LabTalk/Operators.html#Performing_Calculations" title="LabTalk:演算子">計算の実行</a> を参照してください。 
</p><p>次のサンプルは<b>-=</b>演算子の使用法を示しています。
</p><p>この例では、変数 Aの値から5を引き、結果をAに割り当てています。
</p>
<pre class="lt" style="font-family:monospace;">A <span style="color: #000080;">-</span><span style="color: #000080;">=</span> <span style="color: #0000dd;">5</span>;</pre>
<p>次のサンプルでは、Book1_B中の各値をBook1_A中の対応する値で割り、結果をBook1_Bに割り当てるものです。
</p>
<pre class="lt" style="font-family:monospace;">Book1_B <span style="color: #000080;">/</span><span style="color: #000080;">=</span> Book1_A;</pre>
<p>これらの代入演算子に加えて、LabTalkは、<span class="OIndex">インクリメントおよびデクリメント演算子</span>にも対応しています(スカラーのみ、ベクトルは不可)。  
</p>
<table class="simple">
<tr>
<th> 演算子
</th>
<th> 説明
</th></tr>
<tr>
<td> <center>++</center>
</td>
<td> 変数の内容に1を加えて、割り当てる。
</td></tr>
<tr>
<td> <center>--</center>
</td>
<td> 変数の内容から1を引いて、割り当てる。
</td></tr></table>
<p>次の<b><a href="../../LabTalk/LabTalk/Flow_of_Control.html#For" title="LabTalk:フロー制御">for</a></b>ループの式は、インクリメント演算子++の一般的な使用法を示しています。スクリプトは現在のワークシートの2番目の列にあるデータをコマンドウィンドウに出力します。 
</p>
<pre class="lt" style="font-family:monospace;">for <span style="color: #000000;">(</span>ii <span style="color: #000080;">=</span> <span style="color: #0000dd;">1</span>; ii <span style="color: #000080;">&lt;=</span> wks.<span style="color: #000080;">maxrows</span>; ii<span style="color: #000080;">++</span><span style="color: #000000;">)</span>
   <span style="color: #000000;">{</span>type <span style="color: #000000;">(</span><span style="color: #000080;">$</span><span style="color: #000000;">(</span>col<span style="color: #000000;">(</span><span style="color: #0000dd;">2</span><span style="color: #000000;">)</span><span style="color: #000000;">[</span>ii<span style="color: #000000;">]</span><span style="color: #000000;">)</span><span style="color: #000000;">)</span>; <span style="color: #000000;">}</span></pre>
<h2><a name="Logical_and_Relational_Operators"></a><span class="mw-headline">論理・関係演算子</span></h2>
<p>Originでは、以下の<span class="OIndex">比較･論理演算子</span>が利用できます。
</p>
<table class="simple">
<tr>
<th> 演算子
</th>
<th> 説明
</th></tr>
<tr>
<td> <center>&gt;</center>
</td>
<td> より大きい
</td></tr>
<tr>
<td> <center>&gt;=</center>
</td>
<td> 以上
</td></tr>
<tr>
<td> <center>&lt;</center>
</td>
<td> より小さい
</td></tr>
<tr>
<td> <center>&lt;=</center>
</td>
<td> 以下
</td></tr>
<tr>
<td> <center>==</center>
</td>
<td> 等しい
</td></tr>
<tr>
<td> <center>!=</center>
</td>
<td> 等しくない
</td></tr>
<tr>
<td> <center>&amp;&amp;</center>
</td>
<td> かつ
</td></tr>
<tr>
<td> <center>||</center>
</td>
<td> または
</td></tr></table>
<p>比較･論理演算子を使った式は、真(非ゼロの値)、偽(ゼロ)のいずれかに評価されます。  論理演算子は、通常、<a href="../../LabTalk/LabTalk/Flow_of_Control.html" title="LabTalk:フロー制御">条件構造とループ構造</a>の中で使用します。
</p>
<h3><a name="Numeric_Comparison"></a><span class="mw-headline">数値の比較</span></h3>
<p>最も一般的な比較は2つの数値を比較することです。  一般的には、少なくとも一方が変数です。  例えば
</p>
<pre class="lt" style="font-family:monospace;">if aa<span style="color: #000080;">&lt;</span><span style="color: #0000dd;">3</span> type <span style="color: #ff00ff;">&quot;aa&lt;3&quot;</span>;</pre>
<p>または、両方の項目を変数にして比較することもできます。
</p>
<pre class="lt" style="font-family:monospace;">if aa<span style="color: #000080;">&lt;=</span>bb type <span style="color: #ff00ff;">&quot;aa&lt;=bb&quot;</span>;</pre>
<p>括弧を使って、同じ論理ステートメント内で複数比較することもできます。
</p>
<pre class="lt" style="font-family:monospace;">if <span style="color: #000000;">(</span>aa<span style="color: #000080;">&lt;</span><span style="color: #0000dd;">3</span> <span style="color: #000080;">&amp;&amp;</span> aa<span style="color: #000080;">&lt;</span>bb<span style="color: #000000;">)</span> type <span style="color: #ff00ff;">&quot;aa is lower&quot;</span>;</pre>
<h3><a name="String_Comparison"></a><span class="mw-headline">文字列の比較</span></h3>
<p>2つの文字列の比較には、==と!=の演算子が使えます。  演算子の前か後に置かれて比較される文字列定数は(数値の比較の場合とは違い)、引用符(&quot;)で囲まれなければなりません。 
次のスクリプトは%A が空文字列かどうかを調べます。
</p>
<pre class="lt" style="font-family:monospace;">if <span style="color: #000000;">(</span><span style="color: #000080;">%</span>A <span style="color: #000080;">==</span> <span style="color: #ff00ff;">&quot;&quot;</span><span style="color: #000000;">)</span><span style="color: #000000;">{</span>type <span style="color: #ff00ff;">&quot;empty&quot;</span><span style="color: #000000;">}</span>;</pre>
<p>｢等号(==)｣の比較演算子の利用方法
</p>
<pre class="lt" style="font-family:monospace;">x <span style="color: #000080;">=</span> <span style="color: #0000dd;">1</span>;     <span style="color: #008000;">// 変数 x に1をセット</span>
<span style="color: #000080;">%</span>a <span style="color: #000080;">=</span> x;    <span style="color: #008000;">// 文字列 a に&quot;x&quot;をセット
</span>
if <span style="color: #000000;">(</span><span style="color: #000080;">%</span>a <span style="color: #000080;">==</span> <span style="color: #0000dd;">1</span><span style="color: #000000;">)</span>;
      type <span style="color: #ff00ff;">&quot;yes&quot;</span>;
else
      type <span style="color: #ff00ff;">&quot;no&quot;</span>;</pre>
<p>Originは%aの値(xの値)を探し、これが1なので、結果は、yesとなります。次のスクリプトと見比べてください。
次のスクリプトと見比べてください。
</p>
<pre class="lt" style="font-family:monospace;">x <span style="color: #000080;">=</span> <span style="color: #0000dd;">1</span>;     <span style="color: #008000;">// 変数 x に1をセット </span>
<span style="color: #000080;">%</span>a <span style="color: #000080;">=</span> x;    <span style="color: #008000;">// 文字列 a に&quot;x&quot;をセット </span>
if <span style="color: #000000;">(</span><span style="color: #ff00ff;">&quot;%a&quot;</span> <span style="color: #000080;">==</span> <span style="color: #0000dd;">1</span><span style="color: #000000;">)</span>
      type <span style="color: #ff00ff;">&quot;yes&quot;</span>;
else
      type <span style="color: #ff00ff;">&quot;no&quot;</span>;</pre>
<p>このスクリプトでは、%aが二重引用符で囲まれているので、文字列とみなされ、その結果 %aは１ではなく xとなり、結果は no となります。
</p>
<h2><a name="Conditional_Operator_.28.3F:.29"></a><span class="mw-headline">条件演算子 (?:)</span></h2>
<p><span class="OIndex">三項演算子</span> または <span class="OIndex">条件演算子</span> (?:) は、次のような構文で使用されます。
</p><p><b><i>Expression1</i> ? <i>Expression2</i>&nbsp;: <i>Expression3</i></b>
</p><p>ここで、まず最初にExpression1が評価されます。  もしそれが真(ゼロでない値)であれば、Expression2が評価されます。  このExpression2の値がこの条件式の値となります。  Expression1が偽(ゼロ)であると、Expression3が求められ、それがこの条件式の値となります。
Expressions1と2の表現自体を条件演算子にしてネストすることも可能です。
次の例ではmとnの大きい方の値を変数に割り当てます。
</p>
<pre class="lt" style="font-family:monospace;">m <span style="color: #000080;">=</span> <span style="color: #0000dd;">2</span>;
n <span style="color: #000080;">=</span> <span style="color: #0000dd;">3</span>;
variable <span style="color: #000080;">=</span> <span style="color: #000000;">(</span>m<span style="color: #000080;">&gt;</span>n?m<span style="color: #000000;">:</span>n<span style="color: #000000;">)</span>;
variable <span style="color: #000080;">=</span></pre>
<p>LabTalkは以下を返します。  
<b>variable = 3</b>
</p><p>次の例では、スクリプトがA列にある全ての5.5から5.9の値を5.6に置き換えます。
</p>
<pre class="lt" style="font-family:monospace;">col<span style="color: #000000;">(</span>A<span style="color: #000000;">)</span> <span style="color: #000080;">=</span> col<span style="color: #000000;">(</span>A<span style="color: #000000;">)</span><span style="color: #000080;">&gt;</span><span style="color: #0000dd;">5.5</span><span style="color: #000080;">&amp;&amp;</span>col<span style="color: #000000;">(</span>A<span style="color: #000000;">)</span><span style="color: #000080;">&lt;</span><span style="color: #0000dd;">5.9</span>?<span style="color: #0000dd;">5.6</span><span style="color: #000000;">:</span>col<span style="color: #000000;">(</span>A<span style="color: #000000;">)</span>;</pre>
<p>Note: しきい値置換関数<b>tReplace(dataset, value1, value2 [, condition])</b> でもデータセットの値を評価することができ、条件によって、他の値にそれらを置換することができます。  tReplace(dataset, value1, value2 [, condition])関数では、データセットの各値は条件に応じてvalue1  と比較されます。  比較が真の時、その値はcondition の値に応じてValue2 または -Value2に置換されます。  比較が偽の時、その値はcondition の値に応じてそのままの値を保つか欠損値で置き換えられます。  treplace() 関数は条件演算子よりも高速に処理されます。<a href="../../LabTalk/LabTalk/TReplace_(function).html" title="LabTalk:TReplace (関数)">tReplace()</a>を参照してください。
</p>
<h2><a name="Performing_Calculations"></a><span class="mw-headline">計算の実行</span></h2>
<p>LabTalkを使って、以下の両方の演算を実行可能です。 
</p>
<ul><li> スカラー計算 (一変数の<span class="OIndex">数学演算</span>)</li></ul>
<ul><li> ベクトル計算 (データセット全体の数学演算)</li></ul>
<h3><a name="Scalar_Calculations"></a><span class="mw-headline"><span class="OIndex">スカラー演算</span></span></h3>
<p>LabTalｋを使って、演算を実行し、結果を数値で格納することができます。  例えば、以下のスクリプトを見てみましょう。
</p>
<pre class="lt" style="font-family:monospace;">inputVal <span style="color: #000080;">=</span> <span style="color: #0000dd;">21</span>;
myResult <span style="color: #000080;">=</span> <span style="color: #0000dd;">4</span> <span style="color: #000080;">*</span> <span style="color: #0000dd;">32</span> <span style="color: #000080;">*</span> inputVal;</pre>
<p>この例の2行目では、計算を実行し、変数myResultを作成しています。  計算の結果が変数 myResultに格納されます。
</p><p>変数が被演算子(オペランド)であり、結果が格納される場合、簡易表記が利用できます。  例えば、次のスクリプトは
</p>
<pre class="lt" style="font-family:monospace;">B <span style="color: #000080;">=</span> B <span style="color: #000080;">*</span> <span style="color: #0000dd;">3</span>;</pre>
<p>次のように記述することができます。
</p>
<pre class="lt" style="font-family:monospace;">B <span style="color: #000080;">*</span><span style="color: #000080;">=</span> <span style="color: #0000dd;">3</span>;</pre>
<p>この例では、変数Bに割り当てられた結果に対して乗算がなされています。同様に、+=、 -=、 /=、 ^=も利用可能です。  簡易表記を使えば、スクリプトは高速に実行されます。
</p>
<h3><a name="Vector_CalculationsVector_Calculation"></a><span class="mw-headline">ベクトル演算</span></h3>
<p>変数への演算の実行および結果の実行(スカラー演算)に加えて、LabTalkを使って、データセットへの演算を行うことができます。
</p><p>ベクトル計算は、(1) 一行毎に正確に行う、(2) 線形補間を使う、のいずれかの方法で実行されます。 
</p>
<h4><a name="Row-by-Row_CalculationsRow-by-Row_Calculations"></a><span class="mw-headline">行ごとの計算</span></h4>
<p>ベクトル演算は一般的な記法を用いている場合には常に行ごとに実行されます。
</p><p><b>datasetB = scalarOrConstant &lt;operator&gt; datasetA;</b>
</p><p><b>datasetC = datasetA &lt;operator&gt; datasetB;</b>
</p><p>これはデータセットの要素数が異なる場合でも当てはまります。ワークシートにA, B, Cの3つの空の列があるものとします。次のスクリプトを実行します。
</p>
<pre class="lt" style="font-family:monospace;">col<span style="color: #000000;">(</span>a<span style="color: #000000;">)</span> <span style="color: #000080;">=</span> <span style="color: #000000;">{</span><span style="color: #0000dd;">1</span>, <span style="color: #0000dd;">2</span>, <span style="color: #0000dd;">3</span><span style="color: #000000;">}</span>;
col<span style="color: #000000;">(</span>b<span style="color: #000000;">)</span> <span style="color: #000080;">=</span> <span style="color: #000000;">{</span><span style="color: #0000dd;">4</span>, <span style="color: #0000dd;">5</span><span style="color: #000000;">}</span>;
col<span style="color: #000000;">(</span>c<span style="color: #000000;">)</span> <span style="color: #000080;">=</span> col<span style="color: #000000;">(</span>a<span style="color: #000000;">)</span> <span style="color: #000080;">+</span> col<span style="color: #000000;">(</span>b<span style="color: #000000;">)</span>;</pre>
<p>列Cの結果は、 {5, 7, --}となります。つまり、Originはデータセットに値が含まれない場合、行に対して欠損値を出力します。
</p><p>ベクトル計算は、スカラー計算も実行できます。上記の例で、次のように入力します。
</p>
<pre class="lt" style="font-family:monospace;">col<span style="color: #000000;">(</span>c<span style="color: #000000;">)</span> <span style="color: #000080;">=</span> <span style="color: #0000dd;">2</span> <span style="color: #000080;">*</span> col<span style="color: #000000;">(</span>a<span style="color: #000000;">)</span>;</pre>
<p>列Aを2倍して、結果を列Cの対応する行に出力します。
</p><p>または、次のスクリプトを実行します(<i>newData</i>は以前には作成されていないものとします)。
</p>
<pre class="lt" style="font-family:monospace;">newData <span style="color: #000080;">=</span> <span style="color: #0000dd;">3</span> <span style="color: #000080;">*</span> Book1_A;</pre>
<p><i>newData</i>という名前の一時データセットが作成され、ベクトル演算の結果が割り当てられます。
</p>
<h4><a name="Calculations_Using_InterpolationCalculation_Using_Interpolation"></a><span class="mw-headline">補間を使った計算</span></h4>
<p>Originは、<a href="../../LabTalk/LabTalk/Range_Notation.html" title="LabTalk:範囲表記">範囲表記</a>と<a class="external text" href="../../XFunction/X-Function/Interp1.html">interp1</a>および <a class="external text" href="../../XFunction/X-Function/Interp1xy.html">interp1xy</a>のようなXファンクションを使った補間をサポートします。詳細は、<a href="../../LabTalk/Script/Interpolation.html" title="Script:補間">補間</a>を参照して下さい。
</p>






    