<h1 class="firstheading">Gadget</h1>

  <p class='urlname' style='display: none'>Gadget-obj</p>

  <p>‎‎ <b>LabTalk Object Type:</b></p>

  <dl>
    <dd><a href="../../LabTalk/LabTalk/Utility_Objects,_Property_and_Method_Syntax_(Object).html" title="LabTalk:Utility Objects, Property and Method Syntax (Object)">Utility</a></dd>
  </dl>

  <p>The Gadget Object is derived from the <a href="../../LabTalk/LabTalk/Graphic_Objects.html" title="LabTalk:Graphic Objects">Graphic Objects</a> from which it inherits methods and properties. To declare a gadget variable, you should do as follows:</p>
  <pre class="lt" style="font-family:monospace;">
addtool_quickfit;        <span style="color: #008000;">//execute XF to create gadget</span>
gadget gg <span style="color: #000080;">=</span> rect;  <span style="color: #008000;">//"rect" is the object name shown in the Object Name text box in the Programming Control dialog box</span>
</pre>

  <div id="toc" class="toc">
    <div id="toctitle">
      <h2>Contents</h2>
    </div>

    <ul>
      <li class="toclevel-1 tocsection-1"><a href="#Properties:"><span class="tocnumber">1</span> <span class="toctext">Properties:</span></a></li>

      <li class="toclevel-1 tocsection-2">
        <a href="#Methods:"><span class="tocnumber">2</span> <span class="toctext">Methods:</span></a>

        <ul>
          <li class="toclevel-2 tocsection-3"><a href="#Syntax"><span class="tocnumber">2.1</span> <span class="toctext">Syntax</span></a></li>

          <li class="toclevel-2 tocsection-4"><a href="#General_Methods"><span class="tocnumber">2.2</span> <span class="toctext">General Methods</span></a></li>
        </ul>
      </li>

      <li class="toclevel-1 tocsection-5"><a href="#Example"><span class="tocnumber">3</span> <span class="toctext">Example</span></a></li>
    </ul>
  </div>

  <h2><a name="Properties:"></a><span class="mw-headline"><font color="chocolate">Properties:</font></span></h2>

  <table class="simple">
    <tr>
      <th width="110">Property</th>

      <th width="70">Access</th>

      <th width="540">Description</th>
    </tr>

    <tr>
      <td><b>gadget.x, gadget.y</b></td>

      <td>Read/write,<br>
      numeric</td>

      <td>X Y coordinates of the center of the ROI box.</td>
    </tr>

    <tr>
      <td><b>gadget.dx, gadget.dy</b></td>

      <td>Read/write,<br>
      numeric</td>

      <td>Width and height of the ROI box.</td>
    </tr>

    <tr>
      <td><b>gadget.x#, gadget.y#</b></td>

      <td>Read/write,<br>
      numeric</td>

      <td>x# and y# are the XY coordinates of the #th point of the ROI box. The ROI box has 4 points.</td>
    </tr>
  </table>

  <h2><a name="Methods:"></a><span class="mw-headline"><font color="chocolate">Methods:</font></span></h2>

  <h3><a name="Syntax"></a><span class="mw-headline">Syntax</span></h3>

  <p><b><i>gadget name</i>.<i>Method</i>(<i>arguments</i>)</b></p>

  <ul>
    <li><i>Method</i> is one of the available gadget methods.</li>

    <li><i>arguments</i> are specific to the method</li>
  </ul>

  <h3><a name="General_Methods"></a><span class="mw-headline">General Methods</span></h3>

  <table class="simple">
    <tr>
      <th>Method</th>

      <th>Description</th>
    </tr>

    <tr>
      <td><b><i>gadget</i>.output(<i>Option</i>)</b></td>

      <td>
        Output the result. <i>Option</i> can have 5 choices:

        <dl>
          <dd>0 = new output at current position (default), common for all gadgets;</dd>

          <dd>1 = update the last output result, available for Quick Fit, Quick Sigmoidal Fit, Quick Peaks, Rise Time gadget;</dd>

          <dd>2 = new output for all curves, available for Quick Fit, Pick Peak, Rise Time, Integrate, Interpolate, 2D Integrate gadget</dd>

          <dd>3 = new output for all curves in all layers, available for Quick Fit, Pick Peak, Rise Time, Integrate, Interpolate, 2D Integrate gadget;</dd>

          <dd>4 = new output for entire curve, available for Pick Peak gadget only.</dd>
        </dl>
      </td>
    </tr>

    <tr>
      <td><b><i>gadget</i>.output(nUpdateLast, nTag)</b></td>

      <td>Update last output or/and tag peak position, where <i>nUpdateLast</i> = 1 or 0 is used to control whether to update last output, and <i>nTag</i> = 1 or 0 is used to control whether to tag peak information on the graph. For example, if you only want to tag peak but not update last output, you can use <i>gadget</i>.output(0,1). <i>nUpdate</i> bit can only be turned on when results have already been output once. This syntax is mainly used for Quick Fit and Quick Peaks gadgets.</td>
    </tr>

    <tr>
      <td><b><i>gadget</i>.expand()</b></td>

      <td>Expand ROI to full range of the graph</td>
    </tr>

    <tr>
      <td><b><i>gadget</i>.gettree(<i>tree</i>)</b></td>

      <td>Get the GUI settings tree</td>
    </tr>

    <tr>
      <td><b><i>gadget</i>.settree(<i>tree</i>)</b></td>

      <td>Apply GUI changes to the gadget</td>
    </tr>

    <tr>
      <td><b><i>gadget</i>.loadtheme(<i>string</i>)</b></td>

      <td>load the pre-saved Theme</td>
    </tr>

    <tr>
      <td><b><i>gadget</i>.savetheme(<i>string</i>)</b></td>

      <td>Save the Theme of this dialog for reuse</td>
    </tr>

    <tr>
      <td><b><i>gadget</i>.data(<i>PlotIndex</i>, <i>Option</i>)</b></td>

      <td>
        Change the input data

        <p><i>Option</i> can have 3 choices: 0-remove, 1-replace (default), 2-add; If <i>PlotIndex</i>=0, it means to deselect(option=0)/select(option=1,2) all.</p>
      </td>
    </tr>

    <tr>
      <td><b><i>gadget</i>.getresult(<i>tree</i>)</b></td>

      <td>Get the result tree</td>
    </tr>
  </table>

  <h2><a name="Example"></a><span class="mw-headline"><font color="chocolate">Example</font></span></h2>
  <pre class="lt" style="font-family:monospace;">
<span style="color: #008000;">//assume there is a graph with a plot from row number data.</span>
addtool_rise_time;      <span style="color: #008000;">//execute XF to create gadget</span>
gadget gg <span style="color: #000080;">=</span> rect;  <span style="color: #008000;">//declare LT gadget variable</span>

gg.<span style="color: #000080;">x</span><span style="color: #000080;">=</span><span style="color: #0000dd;">15</span>;         <span style="color: #008000;">//move to some place</span>
gg.<span style="color: #000080;">x1</span><span style="color: #000080;">=</span><span style="color: #0000dd;">5</span>;         <span style="color: #008000;">//change the size of the ROI</span>

gg.<span style="color: #000080;">output</span><span style="color: #000000;">(</span><span style="color: #000000;">)</span>;             <span style="color: #008000;">//output result at current position</span>
gg.<span style="color: #000080;">x</span><span style="color: #000080;">=</span><span style="color: #0000dd;">20</span>;         <span style="color: #008000;">//move again</span>


gg.<span style="color: #000080;">gettree</span><span style="color: #000000;">(</span>trgui<span style="color: #000000;">)</span>;       <span style="color: #008000;">//get gui settings tree</span>
trgui.<span style="color: #000080;">roi</span>.<span style="color: #000080;">rectcolor</span><span style="color: #000080;">=</span><span style="color: #0000dd;">5</span>;      <span style="color: #008000;">//change the ROI fill color</span>
gg.<span style="color: #000080;">settree</span><span style="color: #000000;">(</span>trgui<span style="color: #000000;">)</span>;       <span style="color: #008000;">//apply gui changes to the gadget</span>

gg.<span style="color: #000080;">expand</span><span style="color: #000000;">(</span><span style="color: #000000;">)</span>;             <span style="color: #008000;">//expand ROI to full range</span>
gg.<span style="color: #000080;">output</span><span style="color: #000000;">(</span><span style="color: #000000;">)</span>;             <span style="color: #008000;">//output result at current position</span>

tree mytr;              <span style="color: #008000;">//define a tree variable</span>
gg.<span style="color: #000080;">getresult</span><span style="color: #000000;">(</span>mytr<span style="color: #000000;">)</span>;     <span style="color: #008000;">//output result to the tree variable mytr</span>
mytr.<span style="color: #000080;">=</span>;                 <span style="color: #008000;">//view the tree variable</span>
</pre>
