<h1 class="firstheading">ステートメントの評価の順序</h1><p class='urlname' style='display: none'>Order-of-Evaluation-in-stmts</p>
<p>スクリプトが実行される場合、スクリプトは解釈･実行されるためLabTalkの<span class="OIndex">インタプリタ</span>に送られ、以下のような手続きで評価されます。
</p>
<h4><a name="The_script_is_broken_down_into_its_component_statements"></a><span class="mw-headline">スクリプトは、その構成要素のステートメントに分割されます。</span></h4>
<p>各ステートメントは、  <a href="../../LabTalk/LabTalk/Assignment_Statements.html" title="LabTalk: 代入文">代入文</a>、<a href="../../LabTalk/LabTalk/Macros.html" title="LabTalk:マクロ">マクロ文</a>、<a href="../../LabTalk/LabTalk/Command_Statements.html" title="LabTalk:コマンドステートメント">コマンド文</a>、<a href="../../LabTalk/LabTalk/Arithmetic_Statement.html" title="LabTalk:算術ステートメント">算術文</a>、<a href="../../LabTalk/LabTalk/Function_Statements.html" title="LabTalk:関数ステートメント">関数文</a>の順序で文型が確定されます。  インタプリタは最初に明示されている(括弧や引用符中に隠されていない)代入演算子を検索します。  それが見つからないと、次に最初の語がマクロ名かどうかを調べます。  その次にそれがコマンド名かどうかを調べます。  次にインタプリタは算術演算子を検索し算術文かどうかをチェックし、最後にその文が関数文かどうかを調べます。
</p><p>ステートメント解釈の<span class="OIndex">優先順序</span>が、スクリプトの実行に大きく影響することもあります。  例えば、次の代入文について考えてみましょう。
</p>
<pre class="lt" style="font-family:monospace;">type <span style="color: #000080;">=</span> <span style="color: #0000dd;">1</span>;</pre>
<p>この代入文は、変数typeに1を割り当てます。  ステートメント解釈の順序に従い、代入はコマンドの前に行われるので、typeがLabTalkのコマンドであるにも関わらず、代入操作が行なわれます。  しかし、次のステートメントでは、コマンド文が算術表現より先に評価されるので、コマンドtypeが実行されます。
</p>
<pre class="lt" style="font-family:monospace;">type <span style="color: #000080;">+</span> <span style="color: #0000dd;">1</span>;</pre>
<p>つまり、この2番目の例では、文字列「+1」が出力されます。
</p>
<h4><a name="The_statements_are_executed_in_the_order_received.2C_using_the_following_evaluation_priority"></a><span class="mw-headline">次の評価ルールに従い、受け取られた順に評価されていきます。</span></h4>
<ul><li>代入文：  代入演算子の左辺の文字列変数は、括弧で囲まれていない限り展開されません。  それ以外の全ての文字列変数は展開され、置換記法（<b><a href="../../LabTalk/LabTalk/Substitution_Notation.html#.25.28_.29_Substitution" title="LabTalk:置換表記">%()</a></b>と<b><a href="../../LabTalk/LabTalk/Substitution_Notation.html#.24.28_.29_Substitution" title="LabTalk:置換表記">$()</a></b>）は置換処理されます。</li></ul>
<ul><li>マクロ文：  <a href="../../LabTalk/LabTalk/Macros.html#Passing_Arguments_to_Macros" title="LabTalk:マクロ">マクロの引数</a>は置換プロセスを経て、渡されます。</li></ul>
<ul><li>コマンド文：  コマンドがただの文字列である場合、それは置換プロセッサには送られません。  そうでない場合は、展開･置換処理が行なわれます。  </li></ul>
<ul><li>算術文：  数式は、全て一旦置換プロセスを経て展開されます。</li></ul>







    