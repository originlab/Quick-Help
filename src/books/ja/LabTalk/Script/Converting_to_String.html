<h1 class="firstheading">数値を文字列に変換</h1><p class='urlname' style='display: none'>Converting-to-String</p>
<p>次は、数値の桁数と小数点以下の桁数のフォーマットの表記を含んで、数値変数を文字列に変換するサンプルです。
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>内容</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Converting_Numeric_to_StringConvert_Number_to_String"><span class="tocnumber">1</span> <span class="toctext">数値を文字列に変換する</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Using_Substitution_Notation"><span class="tocnumber">1.1</span> <span class="toctext">置換表記を使う</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#Using_the_Format_Function"><span class="tocnumber">1.2</span> <span class="toctext"><b>Format</b>関数を使う</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-4"><a href="#Significant_Digits.2C_Decimal_Places.2C_and_Numeric_Format"><span class="tocnumber">2</span> <span class="toctext">有効桁数、小数点桁数、数値のフォーマット</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="#Use_the_.2A_notation_to_set_significant_digitsSignificant_DigitsSet_Significant_Digits"><span class="tocnumber">2.1</span> <span class="toctext">有効桁数を設定するのに＊表記を使う</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Use_the_._notation_to_set_decimal_placesDecimal_PlacesSet_Decimal_Places"><span class="tocnumber">2.2</span> <span class="toctext">小数点位置を設定するのに . 表記を使う</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Use_E_notation_to_change_the_variable_to_engineering_format"><span class="tocnumber">2.3</span> <span class="toctext">記号Eを使って変数を工学表記に変更する</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Use_the_.24.28x.2C_S.2An.29_notation_to_convert_from_engineering_to_scientific_notationScientific_Notation"><span class="tocnumber">2.4</span> <span class="toctext">$(x, S*n)を使って、工学表記から科学(指数)表記に変換する</span></a></li>
</ul>
</li>
</ul>
</div>

<h2><a name="Converting_Numeric_to_StringConvert_Number_to_String"></a><span class="mw-headline">数値を文字列に変換する</span></h2>
<h3><a name="Using_Substitution_Notation"></a><span class="mw-headline">置換表記を使う</span></h3>
<p>さまざまな数値の型 (double, int, const) を文字列に変換するには、以下のサンプルを参考にして下さい。
</p>
<pre class="lt" style="font-family:monospace;"><span style="color: #008000;">// myNum は整数値456</span>
int myNum <span style="color: #000080;">=</span> <span style="color: #0000dd;">456</span>;    
<span style="color: #008000;">// myNumStringは文字456を文字列として持つ</span>
string myNumString<span style="color: #000080;">$</span> <span style="color: #000080;">=</span> <span style="color: #000080;">$</span><span style="color: #000000;">(</span>myNum<span style="color: #000000;">)</span>;</pre>
<p>シンタックス <b><span class="OIndex">$(num)</span></b> は、LabTalkでサポートされている2つの <a href="../../LabTalk/LabTalk/Substitution_Notation.html" title="LabTalk:置換表記">置換表記</a> の1つです。  もう1つの <b><span class="OIndex">%(string$)</span></b>は、文字列変数をその内容で置換する逆の変換( <a href="../../LabTalk/Script/String_Conversion.html" title="Script:文字列の変換">文字列から数値</a>)を行うのに使われます。
</p><p>フォーマットも型変換中に指定することができます。
</p>
<pre class="lt" style="font-family:monospace;"><span style="color: #000080;">$</span><span style="color: #000000;">(</span>number <span style="color: #000000;">[</span>,format<span style="color: #000000;">]</span><span style="color: #000000;">)</span>    <span style="color: #008000;">// 角括弧はフォーマットが任意であることを示す</span></pre>
<p>フォーマットは、C言語のフォーマット指定子変換に従います。これは、どのC言語リファレンスでも見つけることができます。例えば 
</p>
<pre class="lt" style="font-family:monospace;">string myNumString2<span style="color: #000080;">$</span> <span style="color: #000080;">=</span> <span style="color: #000080;">$</span><span style="color: #000000;">(</span><span style="color: #ff00ff;">&quot;3.14159&quot;</span>,<span style="color: #000080;">%</span>3d<span style="color: #000000;">)</span>;
myNumString2<span style="color: #000080;">$</span><span style="color: #000080;">=</span>                            <span style="color: #008000;">// &quot;3&quot;</span>
&nbsp;
string myNumString2<span style="color: #000080;">$</span> <span style="color: #000080;">=</span> <span style="color: #000080;">$</span><span style="color: #000000;">(</span><span style="color: #ff00ff;">&quot;3.14159&quot;</span>,<span style="color: #000080;">%</span>3.2f<span style="color: #000000;">)</span>;
myNumString2<span style="color: #000080;">$</span><span style="color: #000080;">=</span>                            <span style="color: #008000;">// &quot;3.14&quot;</span>
&nbsp;
string myNumString2<span style="color: #000080;">$</span> <span style="color: #000080;">=</span> <span style="color: #000080;">$</span><span style="color: #000000;">(</span><span style="color: #ff00ff;">&quot;3141.59&quot;</span>,<span style="color: #000080;">%</span>6.4e<span style="color: #000000;">)</span>;
myNumString2<span style="color: #000080;">$</span><span style="color: #000080;">=</span>                            <span style="color: #008000;">// &quot;3.1416e+003&quot;</span></pre>
<p>このタイプのフォーマットについての情報は、<a href="../../LabTalk/LabTalk/Substitution_Notation.html#.24.28_.29_Substitution" title="LabTalk:置換表記">$()置換</a>を参照して下さい。
</p>
<h3><a name="Using_the_Format_Function"></a><span class="mw-headline"><b>Format</b> 関数を使う</span></h3>
<p>数値変数を文字列変数に変換する別の方法は、<b>format</b> 関数を使うことです。
</p>
<pre class="lt" style="font-family:monospace;"><span style="color: #008000;">// formatを呼び出し、有効桁数3を指定</span>
string yy<span style="color: #000080;">$</span><span style="color: #000080;">=</span>Format<span style="color: #000000;">(</span><span style="color: #0000dd;">2.01232</span>, <span style="color: #ff00ff;">&quot;*3&quot;</span><span style="color: #000000;">)</span><span style="color: #000080;">$</span>;  
<span style="color: #008000;">// &quot;2.01&quot;</span>
yy<span style="color: #000080;">$</span><span style="color: #000080;">=</span>;</pre>
<p><b>format</b> 関数についての詳細な情報については、<a href="../../LabTalk/LabTalk/Format_(function).html" title="LabTalk:Format (関数)">Format (関数)</a>をご覧下さい。
</p>
<h2><a name="Significant_Digits.2C_Decimal_Places.2C_and_Numeric_Format"></a><span class="mw-headline">有効桁数、小数点桁数、数値のフォーマット</span></h2>
<p>LabTalkには、独自のフォーマット指定子があり、これはLabTalkの<a href="../../LabTalk/LabTalk/Substitution_Notation.html#Origin_Formats" title="LabTalk:置換表記">置換表記</a>の一部として使われ、<span class="OIndex">数値を書式化</span>する簡単な方法です。
</p>
<h3><a name="Use_the_.2A_notation_to_set_significant_digitsSignificant_DigitsSet_Significant_Digits"></a><span class="mw-headline">有効桁数を設定するのに＊表記を使う</span></h3>
<pre class="lt" style="font-family:monospace;">x <span style="color: #000080;">=</span> <span style="color: #0000dd;">1.23456</span>;
type <span style="color: #ff00ff;">&quot;x = $(x, .2)&quot;</span>;</pre>
<p>この例では、変数xの後に、有効数字2桁を設定する *2 が続いています。出力結果は次のようになります。
</p>
<pre class="lt" style="font-family:monospace;">x <span style="color: #000080;">=</span> <span style="color: #0000dd;">1.2</span></pre>
<p>さらに、&quot;)&quot;の前に * を置くと、桁数以下の0を消去します。例えば
</p>
<pre class="lt" style="font-family:monospace;">y <span style="color: #000080;">=</span> <span style="color: #0000dd;">1.10001</span>;
type <span style="color: #ff00ff;">&quot;y = $(y, *4*)&quot;</span>;</pre>
<p>この例では、出力結果は
</p>
<pre class="lt" style="font-family:monospace;">y <span style="color: #000080;">=</span> <span style="color: #0000dd;">1.1</span></pre>
<p>結果は、yが*4ではなく*4* に従うので、有効桁数が2となります。
</p>
<h3><a name="Use_the_._notation_to_set_decimal_placesDecimal_PlacesSet_Decimal_Places"></a><span class="mw-headline">小数点位置を設定するのに . 表記を使う</span></h3>
<pre class="lt" style="font-family:monospace;">x <span style="color: #000080;">=</span> <span style="color: #0000dd;">1.23456</span>;
type <span style="color: #ff00ff;">&quot;x = $(x, .2)&quot;</span>;</pre>
<p>この例では、変数xの後に、小数点以下2桁を設定する .2 が続いています。出力結果は次のようになります。
</p>
<pre class="lt" style="font-family:monospace;">x <span style="color: #000080;">=</span> <span style="color: #0000dd;">1.23</span></pre>
<h3><a name="Use_E_notation_to_change_the_variable_to_engineering_format"></a><span class="mw-headline">記号Eを使って変数を工学表記に変更する</span></h3>
<p>記号Ｅは記号*と同じように、表示フォーマットを変更する変数に続けて入力します。例えば、
</p>
<pre class="lt" style="font-family:monospace;">x <span style="color: #000080;">=</span> 1e6;
type <span style="color: #ff00ff;">&quot;x = $(x, E%4.2f)&quot;</span>;</pre>
<p>上記typeのコマンド内において、<b>%</b>は<a href="../../LabTalk/LabTalk/Substitution_Notation.html#.25.28_.29_Substitution" title="LabTalk:置換表記">置換記号</a>の開始を意味し、4は全桁数を、.2は小数点以下の桁数2桁を指定しており、f は浮動小数記号の表記です。出力は次のようになります。
</p>
<pre class="lt" style="font-family:monospace;">x <span style="color: #000080;">=</span> 1.00M</pre>
<h3><a name="Use_the_.24.28x.2C_S.2An.29_notation_to_convert_from_engineering_to_scientific_notationScientific_Notation"></a><span class="mw-headline">$(x, S*n)を使って、工学表記から科学(指数)表記に変換する</span></h3>
<p>このシンタックスでは、<i>n</i> は全桁数を指定します。  
</p>
<pre class="lt" style="font-family:monospace;">x <span style="color: #000080;">=</span> <span style="color: #0000dd;">1.23456</span>;
type <span style="color: #ff00ff;">&quot;x = $(x,S*3)&quot;</span>;</pre>
<p>Originは次のように返します。
</p>
<pre class="lt" style="font-family:monospace;">x <span style="color: #000080;">=</span> 1.23E0</pre>







    