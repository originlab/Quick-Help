<h1 class="firstHeading">4.56 FAQ-768 在非线性拟合中如何得到每次迭代的拟合参数？</h1><p class='urlname' style='display: none'>Fit-Parameters-Each-Iteration</p>
<p class='faqID'>Last Update: 7/15/2018</p> 
<p>您可以使用 LabTalk 函数 <a class="external text" href="../../XFunction/X-Function/Nlbegin.html">Nlbegin</a> 和 <a class="external text" href="../../XFunction/X-Function/Nlfit.html">Nlfit</a> 来执行非线性拟合，由此获得非线性拟合每次迭代的拟合参数。
</p>
<pre class="lt" style="font-family:monospace;"><span style="color: #008000;">// import sample data into a new book</span>
newbook;
fname<span style="color: #000080;">$</span><span style="color: #000080;">=</span>system.<span style="color: #000080;">path</span>.<span style="color: #000080;">program</span><span style="color: #000080;">$</span> <span style="color: #000080;">+</span> <span style="color: #ff00ff;">&quot;Samples\Curve Fitting\Exponential Growth.dat&quot;</span>; <span style="color: #008000;">//prepare data</span>
impASC; 
<span style="color: #008000;">// Start a fitting session;</span>
 
 
nlbegin iy<span style="color: #000000;">:</span><span style="color: #000080;">=</span><span style="color: #0000dd;">2</span> func<span style="color: #000000;">:</span><span style="color: #000080;">=</span>ExpDec1 nltree<span style="color: #000000;">:</span><span style="color: #000080;">=</span>tt;
getnumber <span style="color: #000080;">-</span>s <span style="color: #000000;">&#40;</span>Input the iterations<span style="color: #000000;">&#41;</span> n;     <span style="color: #008000;">//Construct a dialog to enable user enter the iteration he want to perform</span>
double aa<span style="color: #000080;">=</span><span style="color: #0000dd;">0</span>;
 
 
loop <span style="color: #000000;">&#40;</span>i,<span style="color: #0000dd;">1</span>,n<span style="color: #000000;">&#41;</span>
<span style="color: #000000;">&#123;</span>
	nlfit <span style="color: #000080;">$</span><span style="color: #000000;">&#40;</span>i<span style="color: #000000;">&#41;</span>;  <span style="color: #008000;">//run the i-th iteration of fitting</span>

	type <span style="color: #ff00ff;">&quot;The parameter value in $(i) iteration&quot;</span>;  
	 
	type <span style="color: #ff00ff;">&quot;y0= $(tt.y0,&#160;%4.6f)&quot;</span>;  <span style="color: #008000;">//output the parameter values</span>
	type <span style="color: #ff00ff;">&quot;A1= $(tt.A1,&#160;%4.6f)&quot;</span>;
	type <span style="color: #ff00ff;">&quot;t1= $(tt.t1,&#160;%4.6f)&quot;</span>;

	if <span style="color: #000000;">&#40;</span>tt.<span style="color: #000080;">fitstatus</span> <span style="color: #000080;">==</span> <span style="color: #0000dd;">100</span><span style="color: #000000;">&#41;</span>
	<span style="color: #000000;">&#123;</span>
		type <span style="color: #ff00ff;">&quot;Fit converged, no more iteration will be done&quot;</span>;  
		break;
	<span style="color: #000000;">&#125;</span>
<span style="color: #000000;">&#125;</span>
 
nlend;</pre>
<p>当您在 Input the iterations 中输入 8 时，即可得到相似的结果：
</p>
<pre class="lt" style="font-family:monospace;">The parameter value in <span style="color: #0000dd;">1</span> iteration
y0<span style="color: #000080;">=</span> <span style="color: #000080;">-</span><span style="color: #0000dd;">0.162869</span>
A1<span style="color: #000080;">=</span> <span style="color: #0000dd;">1.283508</span>
t1<span style="color: #000080;">=</span> <span style="color: #000080;">-</span><span style="color: #0000dd;">0.998789</span>
The parameter value in <span style="color: #0000dd;">2</span> iteration
y0<span style="color: #000080;">=</span> <span style="color: #000080;">-</span><span style="color: #0000dd;">0.038538</span>
A1<span style="color: #000080;">=</span> <span style="color: #0000dd;">1.195022</span>
t1<span style="color: #000080;">=</span> <span style="color: #000080;">-</span><span style="color: #0000dd;">0.968684</span>
The parameter value in <span style="color: #0000dd;">3</span> iteration
y0<span style="color: #000080;">=</span> <span style="color: #000080;">-</span><span style="color: #0000dd;">0.038365</span>
A1<span style="color: #000080;">=</span> <span style="color: #0000dd;">1.194898</span>
t1<span style="color: #000080;">=</span> <span style="color: #000080;">-</span><span style="color: #0000dd;">0.968641</span>
Fit converged, no more iteration will be done</pre>
<hr class='keywordshr'><p><span class='keywords'>Keywords:</span><span class='keywordsInput'>LabTalk, nonlinear fitting, iteration, fitting parameter, 非线性拟合，迭代，拟合参数</span></p>






