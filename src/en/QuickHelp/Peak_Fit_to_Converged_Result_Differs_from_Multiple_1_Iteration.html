<h1 class="firstHeading">3.157 FAQ-1012 Why Does "Fit until converged" Generate Different Results Than Multiples of "1 Iteration" When Peak Fitting?</h1><p class='urlname' style='display: none'>Peak-Fit-to-Converged-Result-Differs-from-Multiple-1-Iteration</p>
<p class='faqID'>Last Update: 10/21/2021</p>
<p>When performing peak fitting using the <b>Peak Analyzer</b><sup>1</sup>, you may occasionally observe different results after using <b>Fit until converged</b> versus fitting <b>1 Iteration</b> at a time. This FAQ will explain why.
</p><p>When peak fitting <b>1 Iteration</b> at a time, the Origin fitter respects all parameter fixed status, bounds, and constraints. However, when using <b>Fit until converged</b>, the  fitter will actually <i><b>fix the peak center position(s) for the first 20 iterations</b></i><sup>2</sup> and then release the centers (unless you originally specified that they be fixed). This is done because it was determined that, in the majority of cases, it actually helps guide the fitter to fix the centers for the first few iterations when fitting until converged. In some cases though, this can lead to inaccurate results.
</p><p>If you observe this phenomenon and determine that the results are unacceptable, you can set the <code><a class="external text" href="../../LabTalk/LabTalk/System_Variable_List.html#P.2CQ">@PFFC</a></code> system variable to <code>0</code>. This will turn off this automatic fixing of peak centers.
</p><p>In addition, it is strongly suggested that you thoughtfully assign <b>bounds</b> to the parameter values prior to fitting. We have found that the application of sensible parameter bounds can be the number one improvement  in the fitting process, especially for difficult to fit datasets.
</p><p>(1) This behavior only applies to the Peak Analyzer and <i>not</i> the Nonlinear Curve Fitter.<br />
(2) See LabTalk system variables <a class="external text" href="../../LabTalk/LabTalk/System_Variable_List.html#F.2CG"><b>@FCI</b></a> and <a class="external text" href="../../LabTalk/LabTalk/System_Variable_List.html#P.2CQ"><b>@PFFC</b></a>.
</p>
<hr class='keywordshr'><p><span class='keywords'>Keywords:</span><span class='keywordsInput'>peak fitting, fitting, fit until converged, parameter, iteration, converged</span></p>






